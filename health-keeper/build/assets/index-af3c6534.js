var DO=Object.defineProperty;var MO=(t,e,n)=>e in t?DO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>(MO(t,typeof e!="symbol"?e+"":e,n),n);function AO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NS={exports:{}},pf={},LS={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),PO=Symbol.for("react.portal"),OO=Symbol.for("react.fragment"),NO=Symbol.for("react.strict_mode"),LO=Symbol.for("react.profiler"),FO=Symbol.for("react.provider"),jO=Symbol.for("react.context"),$O=Symbol.for("react.forward_ref"),UO=Symbol.for("react.suspense"),zO=Symbol.for("react.memo"),VO=Symbol.for("react.lazy"),gw=Symbol.iterator;function BO(t){return t===null||typeof t!="object"?null:(t=gw&&t[gw]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jS=Object.assign,$S={};function Ea(t,e,n){this.props=t,this.context=e,this.refs=$S,this.updater=n||FS}Ea.prototype.isReactComponent={};Ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function US(){}US.prototype=Ea.prototype;function Xy(t,e,n){this.props=t,this.context=e,this.refs=$S,this.updater=n||FS}var Jy=Xy.prototype=new US;Jy.constructor=Xy;jS(Jy,Ea.prototype);Jy.isPureReactComponent=!0;var yw=Array.isArray,zS=Object.prototype.hasOwnProperty,Zy={current:null},VS={key:!0,ref:!0,__self:!0,__source:!0};function BS(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)zS.call(e,i)&&!VS.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:zc,type:t,key:r,ref:o,props:s,_owner:Zy.current}}function WO(t,e){return{$$typeof:zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function e0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zc}function HO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vw=/\/+/g;function zp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HO(""+t.key):e.toString(36)}function Rh(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zc:case PO:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+zp(o,0):i,yw(s)?(n="",t!=null&&(n=t.replace(vw,"$&/")+"/"),Rh(s,e,n,"",function(c){return c})):s!=null&&(e0(s)&&(s=WO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",yw(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+zp(r,a);o+=Rh(r,e,n,l,s)}else if(l=BO(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+zp(r,a++),o+=Rh(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uu(t,e,n){if(t==null)return t;var i=[],s=0;return Rh(t,i,"","",function(r){return e.call(n,r,s++)}),i}function YO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Ph={transition:null},GO={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Ph,ReactCurrentOwner:Zy};de.Children={map:Uu,forEach:function(t,e,n){Uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!e0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ea;de.Fragment=OO;de.Profiler=LO;de.PureComponent=Xy;de.StrictMode=NO;de.Suspense=UO;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=jS({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Zy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zS.call(e,l)&&!VS.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:zc,type:t.type,key:s,ref:r,props:i,_owner:o}};de.createContext=function(t){return t={$$typeof:jO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FO,_context:t},t.Consumer=t};de.createElement=BS;de.createFactory=function(t){var e=BS.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:$O,render:t}};de.isValidElement=e0;de.lazy=function(t){return{$$typeof:VO,_payload:{_status:-1,_result:t},_init:YO}};de.memo=function(t,e){return{$$typeof:zO,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Ph.transition;Ph.transition={};try{t()}finally{Ph.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return nn.current.useCallback(t,e)};de.useContext=function(t){return nn.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};de.useEffect=function(t,e){return nn.current.useEffect(t,e)};de.useId=function(){return nn.current.useId()};de.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return nn.current.useMemo(t,e)};de.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};de.useRef=function(t){return nn.current.useRef(t)};de.useState=function(t){return nn.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return nn.current.useTransition()};de.version="18.2.0";LS.exports=de;var D=LS.exports;const Ta=RO(D),KO=AO({__proto__:null,default:Ta},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=D,QO=Symbol.for("react.element"),XO=Symbol.for("react.fragment"),JO=Object.prototype.hasOwnProperty,ZO=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e2={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)JO.call(e,i)&&!e2.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:QO,type:t,key:r,ref:o,props:s,_owner:ZO.current}}pf.Fragment=XO;pf.jsx=WS;pf.jsxs=WS;NS.exports=pf;var b=NS.exports,eg={},HS={exports:{}},Cn={},YS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,G){var Q=z.length;z.push(G);e:for(;0<Q;){var xe=Q-1>>>1,be=z[xe];if(0<s(be,G))z[xe]=G,z[Q]=be,Q=xe;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var G=z[0],Q=z.pop();if(Q!==G){z[0]=Q;e:for(var xe=0,be=z.length,rn=be>>>1;xe<rn;){var at=2*(xe+1)-1,Y=z[at],Qt=at+1,yo=z[Qt];if(0>s(Y,Q))Qt<be&&0>s(yo,Y)?(z[xe]=yo,z[Qt]=Q,xe=Qt):(z[xe]=Y,z[at]=Q,xe=at);else if(Qt<be&&0>s(yo,Q))z[xe]=yo,z[Qt]=Q,xe=Qt;else break e}}return G}function s(z,G){var Q=z.sortIndex-G.sortIndex;return Q!==0?Q:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,g=!1,v=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=z)i(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function T(z){if(_=!1,E(z),!v)if(n(l)!==null)v=!0,ye(I);else{var G=n(c);G!==null&&ke(T,G.startTime-z)}}function I(z,G){v=!1,_&&(_=!1,S(A),A=-1),g=!0;var Q=p;try{for(E(G),f=n(l);f!==null&&(!(f.expirationTime>G)||z&&!B());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,p=f.priorityLevel;var be=xe(f.expirationTime<=G);G=t.unstable_now(),typeof be=="function"?f.callback=be:f===n(l)&&i(l),E(G)}else i(l);f=n(l)}if(f!==null)var rn=!0;else{var at=n(c);at!==null&&ke(T,at.startTime-G),rn=!1}return rn}finally{f=null,p=Q,g=!1}}var M=!1,R=null,A=-1,N=5,O=-1;function B(){return!(t.unstable_now()-O<N)}function q(){if(R!==null){var z=t.unstable_now();O=z;var G=!0;try{G=R(!0,z)}finally{G?oe():(M=!1,R=null)}}else M=!1}var oe;if(typeof x=="function")oe=function(){x(q)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,ce=tt.port2;tt.port1.onmessage=q,oe=function(){ce.postMessage(null)}}else oe=function(){w(q,0)};function ye(z){R=z,M||(M=!0,oe())}function ke(z,G){A=w(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ye(I))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var Q=p;p=G;try{return z()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=p;p=z;try{return G()}finally{p=Q}},t.unstable_scheduleCallback=function(z,G,Q){var xe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?xe+Q:xe):Q=xe,z){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Q+be,z={id:h++,callback:G,priorityLevel:z,startTime:Q,expirationTime:be,sortIndex:-1},Q>xe?(z.sortIndex=Q,e(c,z),n(l)===null&&z===n(c)&&(_?(S(A),A=-1):_=!0,ke(T,Q-xe))):(z.sortIndex=be,e(l,z),v||g||(v=!0,ye(I))),z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(z){var G=p;return function(){var Q=p;p=G;try{return z.apply(this,arguments)}finally{p=Q}}}})(GS);YS.exports=GS;var t2=YS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=D,En=t2;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qS=new Set,ql={};function so(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(ql[t]=e,t=0;t<e.length;t++)qS.add(e[t])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,n2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_w={},ww={};function i2(t){return tg.call(ww,t)?!0:tg.call(_w,t)?!1:n2.test(t)?ww[t]=!0:(_w[t]=!0,!1)}function s2(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r2(t,e,n,i){if(e===null||typeof e>"u"||s2(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function n0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(t0,n0);Dt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(t0,n0);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(t0,n0);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function i0(t,e,n,i){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r2(e,n,s,i)&&(n=null),i||s===null?i2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var us=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),XS=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),JS=Symbol.for("react.offscreen"),xw=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Vp;function cl(t){if(Vp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vp=e&&e[1]||""}return`
`+Vp+t}var Bp=!1;function Wp(t,e){if(!t||Bp)return"";Bp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cl(t):""}function o2(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=Wp(t.type,!1),t;case 11:return t=Wp(t.type.render,!1),t;case 1:return t=Wp(t.type,!0),t;default:return""}}function rg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Ro:return"Portal";case ng:return"Profiler";case s0:return"StrictMode";case ig:return"Suspense";case sg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XS:return(t.displayName||"Context")+".Consumer";case QS:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o0:return e=t.displayName||null,e!==null?e:rg(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return rg(t(e))}catch{}}return null}function a2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rg(e);case 8:return e===s0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l2(t){var e=ZS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vu(t){t._valueTracker||(t._valueTracker=l2(t))}function ek(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ZS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function og(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bw(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=er(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tk(t,e){e=e.checked,e!=null&&i0(t,"checked",e,!1)}function ag(t,e){tk(t,e);var n=er(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&lg(t,e.type,er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lg(t,e,n){(e!=="number"||ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function Yo(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+er(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(ul(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:er(n)}}function nk(t,e){var n=er(e.value),i=er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ik(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ug(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ik(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bu,sk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bu=Bu||document.createElement("div"),Bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c2=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){c2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function rk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function ok(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=rk(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var u2=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hg(t,e){if(e){if(u2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function a0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pg=null,Go=null,Ko=null;function Tw(t){if(t=Wc(t)){if(typeof pg!="function")throw Error(F(280));var e=t.stateNode;e&&(e=_f(e),pg(t.stateNode,t.type,e))}}function ak(t){Go?Ko?Ko.push(t):Ko=[t]:Go=t}function lk(){if(Go){var t=Go,e=Ko;if(Ko=Go=null,Tw(t),e)for(t=0;t<e.length;t++)Tw(e[t])}}function ck(t,e){return t(e)}function uk(){}var Hp=!1;function hk(t,e,n){if(Hp)return t(e,n);Hp=!0;try{return ck(t,e,n)}finally{Hp=!1,(Go!==null||Ko!==null)&&(uk(),lk())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var i=_f(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var mg=!1;if(es)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){mg=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{mg=!1}function h2(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Cl=!1,cd=null,ud=!1,gg=null,d2={onError:function(t){Cl=!0,cd=t}};function f2(t,e,n,i,s,r,o,a,l){Cl=!1,cd=null,h2.apply(d2,arguments)}function p2(t,e,n,i,s,r,o,a,l){if(f2.apply(this,arguments),Cl){if(Cl){var c=cd;Cl=!1,cd=null}else throw Error(F(198));ud||(ud=!0,gg=c)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cw(t){if(ro(t)!==t)throw Error(F(188))}function m2(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Cw(s),t;if(r===i)return Cw(s),e;r=r.sibling}throw Error(F(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function fk(t){return t=m2(t),t!==null?pk(t):null}function pk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pk(t);if(e!==null)return e;t=t.sibling}return null}var mk=En.unstable_scheduleCallback,Iw=En.unstable_cancelCallback,g2=En.unstable_shouldYield,y2=En.unstable_requestPaint,it=En.unstable_now,v2=En.unstable_getCurrentPriorityLevel,l0=En.unstable_ImmediatePriority,gk=En.unstable_UserBlockingPriority,hd=En.unstable_NormalPriority,_2=En.unstable_LowPriority,yk=En.unstable_IdlePriority,mf=null,mi=null;function w2(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(mf,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:S2,x2=Math.log,b2=Math.LN2;function S2(t){return t>>>=0,t===0?32:31-(x2(t)/b2|0)|0}var Wu=64,Hu=4194304;function hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=hl(a):(r&=o,r!==0&&(i=hl(r)))}else o=n&~s,o!==0?i=hl(o):r!==0&&(i=hl(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Gn(e),s=1<<n,i|=t[n],e&=~s;return i}function k2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E2(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Gn(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=k2(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function yg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vk(){var t=Wu;return Wu<<=1,!(Wu&4194240)&&(Wu=64),t}function Yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function T2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gn(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function c0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Gn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var Te=0;function _k(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wk,u0,xk,bk,Sk,vg=!1,Yu=[],Us=null,zs=null,Vs=null,Jl=new Map,Zl=new Map,ks=[],C2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dw(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function Ka(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Wc(e),e!==null&&u0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function I2(t,e,n,i,s){switch(e){case"focusin":return Us=Ka(Us,t,e,n,i,s),!0;case"dragenter":return zs=Ka(zs,t,e,n,i,s),!0;case"mouseover":return Vs=Ka(Vs,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Jl.set(r,Ka(Jl.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Zl.set(r,Ka(Zl.get(r)||null,t,e,n,i,s)),!0}return!1}function kk(t){var e=Dr(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=dk(n),e!==null){t.blockedOn=e,Sk(t.priority,function(){xk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);fg=i,n.target.dispatchEvent(i),fg=null}else return e=Wc(n),e!==null&&u0(e),t.blockedOn=n,!1;e.shift()}return!0}function Mw(t,e,n){Oh(t)&&n.delete(e)}function D2(){vg=!1,Us!==null&&Oh(Us)&&(Us=null),zs!==null&&Oh(zs)&&(zs=null),Vs!==null&&Oh(Vs)&&(Vs=null),Jl.forEach(Mw),Zl.forEach(Mw)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,vg||(vg=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,D2)))}function ec(t){function e(s){return qa(s,t)}if(0<Yu.length){qa(Yu[0],t);for(var n=1;n<Yu.length;n++){var i=Yu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Us!==null&&qa(Us,t),zs!==null&&qa(zs,t),Vs!==null&&qa(Vs,t),Jl.forEach(e),Zl.forEach(e),n=0;n<ks.length;n++)i=ks[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)kk(n),n.blockedOn===null&&ks.shift()}var qo=us.ReactCurrentBatchConfig,fd=!0;function M2(t,e,n,i){var s=Te,r=qo.transition;qo.transition=null;try{Te=1,h0(t,e,n,i)}finally{Te=s,qo.transition=r}}function A2(t,e,n,i){var s=Te,r=qo.transition;qo.transition=null;try{Te=4,h0(t,e,n,i)}finally{Te=s,qo.transition=r}}function h0(t,e,n,i){if(fd){var s=_g(t,e,n,i);if(s===null)nm(t,e,i,pd,n),Dw(t,i);else if(I2(s,t,e,n,i))i.stopPropagation();else if(Dw(t,i),e&4&&-1<C2.indexOf(t)){for(;s!==null;){var r=Wc(s);if(r!==null&&wk(r),r=_g(t,e,n,i),r===null&&nm(t,e,i,pd,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else nm(t,e,i,null,n)}}var pd=null;function _g(t,e,n,i){if(pd=null,t=a0(i),t=Dr(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pd=t,null}function Ek(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v2()){case l0:return 1;case gk:return 4;case hd:case _2:return 16;case yk:return 536870912;default:return 16}default:return 16}}var Rs=null,d0=null,Nh=null;function Tk(){if(Nh)return Nh;var t,e=d0,n=e.length,i,s="value"in Rs?Rs.value:Rs.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Nh=s.slice(t,1<i?1-i:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gu(){return!0}function Aw(){return!1}function In(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Gu:Aw,this.isPropagationStopped=Aw,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=In(Ca),Bc=Ye({},Ca,{view:0,detail:0}),R2=In(Bc),Gp,Kp,Qa,gf=Ye({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Gp=t.screenX-Qa.screenX,Kp=t.screenY-Qa.screenY):Kp=Gp=0,Qa=t),Gp)},movementY:function(t){return"movementY"in t?t.movementY:Kp}}),Rw=In(gf),P2=Ye({},gf,{dataTransfer:0}),O2=In(P2),N2=Ye({},Bc,{relatedTarget:0}),qp=In(N2),L2=Ye({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),F2=In(L2),j2=Ye({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$2=In(j2),U2=Ye({},Ca,{data:0}),Pw=In(U2),z2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B2[t])?!!e[t]:!1}function p0(){return W2}var H2=Ye({},Bc,{key:function(t){if(t.key){var e=z2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y2=In(H2),G2=Ye({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=In(G2),K2=Ye({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),q2=In(K2),Q2=Ye({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),X2=In(Q2),J2=Ye({},gf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z2=In(J2),eN=[9,13,27,32],m0=es&&"CompositionEvent"in window,Il=null;es&&"documentMode"in document&&(Il=document.documentMode);var tN=es&&"TextEvent"in window&&!Il,Ck=es&&(!m0||Il&&8<Il&&11>=Il),Nw=String.fromCharCode(32),Lw=!1;function Ik(t,e){switch(t){case"keyup":return eN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function nN(t,e){switch(t){case"compositionend":return Dk(e);case"keypress":return e.which!==32?null:(Lw=!0,Nw);case"textInput":return t=e.data,t===Nw&&Lw?null:t;default:return null}}function iN(t,e){if(Oo)return t==="compositionend"||!m0&&Ik(t,e)?(t=Tk(),Nh=d0=Rs=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ck&&e.locale!=="ko"?null:e.data;default:return null}}var sN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sN[t.type]:e==="textarea"}function Mk(t,e,n,i){ak(i),e=md(e,"onChange"),0<e.length&&(n=new f0("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Dl=null,tc=null;function rN(t){zk(t,0)}function yf(t){var e=Fo(t);if(ek(e))return t}function oN(t,e){if(t==="change")return e}var Ak=!1;if(es){var Qp;if(es){var Xp="oninput"in document;if(!Xp){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),Xp=typeof jw.oninput=="function"}Qp=Xp}else Qp=!1;Ak=Qp&&(!document.documentMode||9<document.documentMode)}function $w(){Dl&&(Dl.detachEvent("onpropertychange",Rk),tc=Dl=null)}function Rk(t){if(t.propertyName==="value"&&yf(tc)){var e=[];Mk(e,tc,t,a0(t)),hk(rN,e)}}function aN(t,e,n){t==="focusin"?($w(),Dl=e,tc=n,Dl.attachEvent("onpropertychange",Rk)):t==="focusout"&&$w()}function lN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(tc)}function cN(t,e){if(t==="click")return yf(e)}function uN(t,e){if(t==="input"||t==="change")return yf(e)}function hN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:hN;function nc(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!tg.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=Uw(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function Pk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ok(){for(var t=window,e=ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ld(t.document)}return e}function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dN(t){var e=Ok(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pk(n.ownerDocument.documentElement,n)){if(i!==null&&g0(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=zw(n,r);var o=zw(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fN=es&&"documentMode"in document&&11>=document.documentMode,No=null,wg=null,Ml=null,xg=!1;function Vw(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xg||No==null||No!==ld(i)||(i=No,"selectionStart"in i&&g0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ml&&nc(Ml,i)||(Ml=i,i=md(wg,"onSelect"),0<i.length&&(e=new f0("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=No)))}function Ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},Jp={},Nk={};es&&(Nk=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function vf(t){if(Jp[t])return Jp[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nk)return Jp[t]=e[n];return t}var Lk=vf("animationend"),Fk=vf("animationiteration"),jk=vf("animationstart"),$k=vf("transitionend"),Uk=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(t,e){Uk.set(t,e),so(e,[t])}for(var Zp=0;Zp<Bw.length;Zp++){var em=Bw[Zp],pN=em.toLowerCase(),mN=em[0].toUpperCase()+em.slice(1);lr(pN,"on"+mN)}lr(Lk,"onAnimationEnd");lr(Fk,"onAnimationIteration");lr(jk,"onAnimationStart");lr("dblclick","onDoubleClick");lr("focusin","onFocus");lr("focusout","onBlur");lr($k,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gN=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function Ww(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,p2(i,e,void 0,t),t.currentTarget=null}function zk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Ww(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Ww(s,a,c),r=l}}}if(ud)throw t=gg,ud=!1,gg=null,t}function Oe(t,e){var n=e[Tg];n===void 0&&(n=e[Tg]=new Set);var i=t+"__bubble";n.has(i)||(Vk(e,t,2,!1),n.add(i))}function tm(t,e,n){var i=0;e&&(i|=4),Vk(n,t,i,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function ic(t){if(!t[qu]){t[qu]=!0,qS.forEach(function(n){n!=="selectionchange"&&(gN.has(n)||tm(n,!1,t),tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,tm("selectionchange",!1,e))}}function Vk(t,e,n,i){switch(Ek(e)){case 1:var s=M2;break;case 4:s=A2;break;default:s=h0}n=s.bind(null,e,n,t),s=void 0,!mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nm(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Dr(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}hk(function(){var c=r,h=a0(n),f=[];e:{var p=Uk.get(t);if(p!==void 0){var g=f0,v=t;switch(t){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":g=Y2;break;case"focusin":v="focus",g=qp;break;case"focusout":v="blur",g=qp;break;case"beforeblur":case"afterblur":g=qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=O2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=q2;break;case Lk:case Fk:case jk:g=F2;break;case $k:g=X2;break;case"scroll":g=R2;break;case"wheel":g=Z2;break;case"copy":case"cut":case"paste":g=$2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ow}var _=(e&4)!==0,w=!_&&t==="scroll",S=_?p!==null?p+"Capture":null:p;_=[];for(var x=c,E;x!==null;){E=x;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,S!==null&&(T=Xl(x,S),T!=null&&_.push(sc(x,T,E)))),w)break;x=x.return}0<_.length&&(p=new g(p,v,null,n,h),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==fg&&(v=n.relatedTarget||n.fromElement)&&(Dr(v)||v[ts]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Dr(v):null,v!==null&&(w=ro(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(_=Rw,T="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ow,T="onPointerLeave",S="onPointerEnter",x="pointer"),w=g==null?p:Fo(g),E=v==null?p:Fo(v),p=new _(T,x+"leave",g,n,h),p.target=w,p.relatedTarget=E,T=null,Dr(h)===c&&(_=new _(S,x+"enter",v,n,h),_.target=E,_.relatedTarget=w,T=_),w=T,g&&v)t:{for(_=g,S=v,x=0,E=_;E;E=Eo(E))x++;for(E=0,T=S;T;T=Eo(T))E++;for(;0<x-E;)_=Eo(_),x--;for(;0<E-x;)S=Eo(S),E--;for(;x--;){if(_===S||S!==null&&_===S.alternate)break t;_=Eo(_),S=Eo(S)}_=null}else _=null;g!==null&&Hw(f,p,g,_,!1),v!==null&&w!==null&&Hw(f,w,v,_,!0)}}e:{if(p=c?Fo(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var I=oN;else if(Fw(p))if(Ak)I=uN;else{I=lN;var M=aN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=cN);if(I&&(I=I(t,c))){Mk(f,I,n,h);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&lg(p,"number",p.value)}switch(M=c?Fo(c):window,t){case"focusin":(Fw(M)||M.contentEditable==="true")&&(No=M,wg=c,Ml=null);break;case"focusout":Ml=wg=No=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,Vw(f,n,h);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":Vw(f,n,h)}var R;if(m0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Oo?Ik(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Ck&&n.locale!=="ko"&&(Oo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Oo&&(R=Tk()):(Rs=h,d0="value"in Rs?Rs.value:Rs.textContent,Oo=!0)),M=md(c,A),0<M.length&&(A=new Pw(A,t,null,n,h),f.push({event:A,listeners:M}),R?A.data=R:(R=Dk(n),R!==null&&(A.data=R)))),(R=tN?nN(t,n):iN(t,n))&&(c=md(c,"onBeforeInput"),0<c.length&&(h=new Pw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=R))}zk(f,e)})}function sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function md(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Xl(t,n),r!=null&&i.unshift(sc(t,r,s)),r=Xl(t,e),r!=null&&i.push(sc(t,r,s))),t=t.return}return i}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hw(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=Xl(n,r),l!=null&&o.unshift(sc(n,l,a))):s||(l=Xl(n,r),l!=null&&o.push(sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function Yw(t){return(typeof t=="string"?t:""+t).replace(yN,`
`).replace(vN,"")}function Qu(t,e,n){if(e=Yw(e),Yw(t)!==e&&n)throw Error(F(425))}function gd(){}var bg=null,Sg=null;function kg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,wN=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(xN)}:Eg;function xN(t){setTimeout(function(){throw t})}function im(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ec(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ec(e)}function Bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),li="__reactFiber$"+Ia,rc="__reactProps$"+Ia,ts="__reactContainer$"+Ia,Tg="__reactEvents$"+Ia,bN="__reactListeners$"+Ia,SN="__reactHandles$"+Ia;function Dr(t){var e=t[li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ts]||n[li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kw(t);t!==null;){if(n=t[li])return n;t=Kw(t)}return e}t=n,n=t.parentNode}return null}function Wc(t){return t=t[li]||t[ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function _f(t){return t[rc]||null}var Cg=[],jo=-1;function cr(t){return{current:t}}function Fe(t){0>jo||(t.current=Cg[jo],Cg[jo]=null,jo--)}function Ae(t,e){jo++,Cg[jo]=t.current,t.current=e}var tr={},Yt=cr(tr),hn=cr(!1),Br=tr;function oa(t,e){var n=t.type.contextTypes;if(!n)return tr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function yd(){Fe(hn),Fe(Yt)}function qw(t,e,n){if(Yt.current!==tr)throw Error(F(168));Ae(Yt,e),Ae(hn,n)}function Bk(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(F(108,a2(t)||"Unknown",s));return Ye({},n,i)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,Br=Yt.current,Ae(Yt,t),Ae(hn,hn.current),!0}function Qw(t,e,n){var i=t.stateNode;if(!i)throw Error(F(169));n?(t=Bk(t,e,Br),i.__reactInternalMemoizedMergedChildContext=t,Fe(hn),Fe(Yt),Ae(Yt,t)):Fe(hn),Ae(hn,n)}var Vi=null,wf=!1,sm=!1;function Wk(t){Vi===null?Vi=[t]:Vi.push(t)}function kN(t){wf=!0,Wk(t)}function ur(){if(!sm&&Vi!==null){sm=!0;var t=0,e=Te;try{var n=Vi;for(Te=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Vi=null,wf=!1}catch(s){throw Vi!==null&&(Vi=Vi.slice(t+1)),mk(l0,ur),s}finally{Te=e,sm=!1}}return null}var $o=[],Uo=0,_d=null,wd=0,Rn=[],Pn=0,Wr=null,Hi=1,Yi="";function kr(t,e){$o[Uo++]=wd,$o[Uo++]=_d,_d=t,wd=e}function Hk(t,e,n){Rn[Pn++]=Hi,Rn[Pn++]=Yi,Rn[Pn++]=Wr,Wr=t;var i=Hi;t=Yi;var s=32-Gn(i)-1;i&=~(1<<s),n+=1;var r=32-Gn(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Hi=1<<32-Gn(e)+s|n<<s|i,Yi=r+t}else Hi=1<<r|n<<s|i,Yi=t}function y0(t){t.return!==null&&(kr(t,1),Hk(t,1,0))}function v0(t){for(;t===_d;)_d=$o[--Uo],$o[Uo]=null,wd=$o[--Uo],$o[Uo]=null;for(;t===Wr;)Wr=Rn[--Pn],Rn[Pn]=null,Yi=Rn[--Pn],Rn[Pn]=null,Hi=Rn[--Pn],Rn[Pn]=null}var Sn=null,xn=null,ze=!1,Hn=null;function Yk(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,xn=Bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wr!==null?{id:Hi,overflow:Yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,xn=null,!0):!1;default:return!1}}function Ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dg(t){if(ze){var e=xn;if(e){var n=e;if(!Xw(t,e)){if(Ig(t))throw Error(F(418));e=Bs(n.nextSibling);var i=Sn;e&&Xw(t,e)?Yk(i,n):(t.flags=t.flags&-4097|2,ze=!1,Sn=t)}}else{if(Ig(t))throw Error(F(418));t.flags=t.flags&-4097|2,ze=!1,Sn=t}}}function Jw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Xu(t){if(t!==Sn)return!1;if(!ze)return Jw(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kg(t.type,t.memoizedProps)),e&&(e=xn)){if(Ig(t))throw Gk(),Error(F(418));for(;e;)Yk(t,e),e=Bs(e.nextSibling)}if(Jw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=Bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=Sn?Bs(t.stateNode.nextSibling):null;return!0}function Gk(){for(var t=xn;t;)t=Bs(t.nextSibling)}function aa(){xn=Sn=null,ze=!1}function _0(t){Hn===null?Hn=[t]:Hn.push(t)}var EN=us.ReactCurrentBatchConfig;function Bn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xd=cr(null),bd=null,zo=null,w0=null;function x0(){w0=zo=bd=null}function b0(t){var e=xd.current;Fe(xd),t._currentValue=e}function Mg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){bd=t,w0=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(w0!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(bd===null)throw Error(F(308));zo=t,bd.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Mr=null;function S0(t){Mr===null?Mr=[t]:Mr.push(t)}function Kk(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,S0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ns(t,i)}function ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ss=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ws(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,ns(t,n)}return s=i.interleaved,s===null?(e.next=e,S0(i)):(e.next=s.next,s.next=e),i.interleaved=e,ns(t,n)}function Fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,c0(t,n)}}function Zw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sd(t,e,n,i){var s=t.updateQueue;Ss=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(r!==null){var f=s.baseState;o=0,h=c=l=null,a=r;do{var p=a.lane,g=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(p=e,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Ye({},f,p);break e;case 2:Ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Yr|=o,t.lanes=o,t.memoizedState=f}}function e1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(F(191,s));s.call(i)}}}var Qk=new KS.Component().refs;function Ag(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xf={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tn(),s=Ys(t),r=Zi(i,s);r.payload=e,n!=null&&(r.callback=n),e=Ws(t,r,s),e!==null&&(Kn(e,t,s,i),Fh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tn(),s=Ys(t),r=Zi(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ws(t,r,s),e!==null&&(Kn(e,t,s,i),Fh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),i=Ys(t),s=Zi(n,i);s.tag=2,e!=null&&(s.callback=e),e=Ws(t,s,i),e!==null&&(Kn(e,t,i,n),Fh(e,t,i))}};function t1(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!nc(n,i)||!nc(s,r):!0}function Xk(t,e,n){var i=!1,s=tr,r=e.contextType;return typeof r=="object"&&r!==null?r=Fn(r):(s=dn(e)?Br:Yt.current,i=e.contextTypes,r=(i=i!=null)?oa(t,s):tr),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xf,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function n1(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&xf.enqueueReplaceState(e,e.state,null)}function Rg(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Qk,k0(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Fn(r):(r=dn(e)?Br:Yt.current,s.context=oa(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ag(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xf.enqueueReplaceState(s,s.state,null),Sd(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var i=n.stateNode}if(!i)throw Error(F(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;a===Qk&&(a=s.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i1(t){var e=t._init;return e(t._payload)}function Jk(t){function e(S,x){if(t){var E=S.deletions;E===null?(S.deletions=[x],S.flags|=16):E.push(x)}}function n(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function i(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function s(S,x){return S=Gs(S,x),S.index=0,S.sibling=null,S}function r(S,x,E){return S.index=E,t?(E=S.alternate,E!==null?(E=E.index,E<x?(S.flags|=2,x):E):(S.flags|=2,x)):(S.flags|=1048576,x)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,x,E,T){return x===null||x.tag!==6?(x=hm(E,S.mode,T),x.return=S,x):(x=s(x,E),x.return=S,x)}function l(S,x,E,T){var I=E.type;return I===Po?h(S,x,E.props.children,T,E.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===bs&&i1(I)===x.type)?(T=s(x,E.props),T.ref=Xa(S,x,E),T.return=S,T):(T=Bh(E.type,E.key,E.props,null,S.mode,T),T.ref=Xa(S,x,E),T.return=S,T)}function c(S,x,E,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=dm(E,S.mode,T),x.return=S,x):(x=s(x,E.children||[]),x.return=S,x)}function h(S,x,E,T,I){return x===null||x.tag!==7?(x=Fr(E,S.mode,T,I),x.return=S,x):(x=s(x,E),x.return=S,x)}function f(S,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=hm(""+x,S.mode,E),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zu:return E=Bh(x.type,x.key,x.props,null,S.mode,E),E.ref=Xa(S,null,x),E.return=S,E;case Ro:return x=dm(x,S.mode,E),x.return=S,x;case bs:var T=x._init;return f(S,T(x._payload),E)}if(ul(x)||Ya(x))return x=Fr(x,S.mode,E,null),x.return=S,x;Ju(S,x)}return null}function p(S,x,E,T){var I=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:a(S,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zu:return E.key===I?l(S,x,E,T):null;case Ro:return E.key===I?c(S,x,E,T):null;case bs:return I=E._init,p(S,x,I(E._payload),T)}if(ul(E)||Ya(E))return I!==null?null:h(S,x,E,T,null);Ju(S,E)}return null}function g(S,x,E,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(E)||null,a(x,S,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zu:return S=S.get(T.key===null?E:T.key)||null,l(x,S,T,I);case Ro:return S=S.get(T.key===null?E:T.key)||null,c(x,S,T,I);case bs:var M=T._init;return g(S,x,E,M(T._payload),I)}if(ul(T)||Ya(T))return S=S.get(E)||null,h(x,S,T,I,null);Ju(x,T)}return null}function v(S,x,E,T){for(var I=null,M=null,R=x,A=x=0,N=null;R!==null&&A<E.length;A++){R.index>A?(N=R,R=null):N=R.sibling;var O=p(S,R,E[A],T);if(O===null){R===null&&(R=N);break}t&&R&&O.alternate===null&&e(S,R),x=r(O,x,A),M===null?I=O:M.sibling=O,M=O,R=N}if(A===E.length)return n(S,R),ze&&kr(S,A),I;if(R===null){for(;A<E.length;A++)R=f(S,E[A],T),R!==null&&(x=r(R,x,A),M===null?I=R:M.sibling=R,M=R);return ze&&kr(S,A),I}for(R=i(S,R);A<E.length;A++)N=g(R,S,A,E[A],T),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?A:N.key),x=r(N,x,A),M===null?I=N:M.sibling=N,M=N);return t&&R.forEach(function(B){return e(S,B)}),ze&&kr(S,A),I}function _(S,x,E,T){var I=Ya(E);if(typeof I!="function")throw Error(F(150));if(E=I.call(E),E==null)throw Error(F(151));for(var M=I=null,R=x,A=x=0,N=null,O=E.next();R!==null&&!O.done;A++,O=E.next()){R.index>A?(N=R,R=null):N=R.sibling;var B=p(S,R,O.value,T);if(B===null){R===null&&(R=N);break}t&&R&&B.alternate===null&&e(S,R),x=r(B,x,A),M===null?I=B:M.sibling=B,M=B,R=N}if(O.done)return n(S,R),ze&&kr(S,A),I;if(R===null){for(;!O.done;A++,O=E.next())O=f(S,O.value,T),O!==null&&(x=r(O,x,A),M===null?I=O:M.sibling=O,M=O);return ze&&kr(S,A),I}for(R=i(S,R);!O.done;A++,O=E.next())O=g(R,S,A,O.value,T),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?A:O.key),x=r(O,x,A),M===null?I=O:M.sibling=O,M=O);return t&&R.forEach(function(q){return e(S,q)}),ze&&kr(S,A),I}function w(S,x,E,T){if(typeof E=="object"&&E!==null&&E.type===Po&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zu:e:{for(var I=E.key,M=x;M!==null;){if(M.key===I){if(I=E.type,I===Po){if(M.tag===7){n(S,M.sibling),x=s(M,E.props.children),x.return=S,S=x;break e}}else if(M.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===bs&&i1(I)===M.type){n(S,M.sibling),x=s(M,E.props),x.ref=Xa(S,M,E),x.return=S,S=x;break e}n(S,M);break}else e(S,M);M=M.sibling}E.type===Po?(x=Fr(E.props.children,S.mode,T,E.key),x.return=S,S=x):(T=Bh(E.type,E.key,E.props,null,S.mode,T),T.ref=Xa(S,x,E),T.return=S,S=T)}return o(S);case Ro:e:{for(M=E.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(S,x.sibling),x=s(x,E.children||[]),x.return=S,S=x;break e}else{n(S,x);break}else e(S,x);x=x.sibling}x=dm(E,S.mode,T),x.return=S,S=x}return o(S);case bs:return M=E._init,w(S,x,M(E._payload),T)}if(ul(E))return v(S,x,E,T);if(Ya(E))return _(S,x,E,T);Ju(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(S,x.sibling),x=s(x,E),x.return=S,S=x):(n(S,x),x=hm(E,S.mode,T),x.return=S,S=x),o(S)):n(S,x)}return w}var la=Jk(!0),Zk=Jk(!1),Hc={},gi=cr(Hc),oc=cr(Hc),ac=cr(Hc);function Ar(t){if(t===Hc)throw Error(F(174));return t}function E0(t,e){switch(Ae(ac,e),Ae(oc,t),Ae(gi,Hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ug(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ug(e,t)}Fe(gi),Ae(gi,e)}function ca(){Fe(gi),Fe(oc),Fe(ac)}function eE(t){Ar(ac.current);var e=Ar(gi.current),n=ug(e,t.type);e!==n&&(Ae(oc,t),Ae(gi,n))}function T0(t){oc.current===t&&(Fe(gi),Fe(oc))}var We=cr(0);function kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rm=[];function C0(){for(var t=0;t<rm.length;t++)rm[t]._workInProgressVersionPrimary=null;rm.length=0}var jh=us.ReactCurrentDispatcher,om=us.ReactCurrentBatchConfig,Hr=0,He=null,pt=null,wt=null,Ed=!1,Al=!1,lc=0,TN=0;function Pt(){throw Error(F(321))}function I0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function D0(t,e,n,i,s,r){if(Hr=r,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jh.current=t===null||t.memoizedState===null?MN:AN,t=n(i,s),Al){r=0;do{if(Al=!1,lc=0,25<=r)throw Error(F(301));r+=1,wt=pt=null,e.updateQueue=null,jh.current=RN,t=n(i,s)}while(Al)}if(jh.current=Td,e=pt!==null&&pt.next!==null,Hr=0,wt=pt=He=null,Ed=!1,e)throw Error(F(300));return t}function M0(){var t=lc!==0;return lc=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?He.memoizedState=wt=t:wt=wt.next=t,wt}function jn(){if(pt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=wt===null?He.memoizedState:wt.next;if(e!==null)wt=e,pt=t;else{if(t===null)throw Error(F(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?He.memoizedState=wt=t:wt=wt.next=t}return wt}function cc(t,e){return typeof e=="function"?e(t):e}function am(t){var e=jn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=pt,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var h=c.lane;if((Hr&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,He.lanes|=h,Yr|=h}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,Qn(i,e.memoizedState)||(un=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,He.lanes|=r,Yr|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lm(t){var e=jn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Qn(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function tE(){}function nE(t,e){var n=He,i=jn(),s=e(),r=!Qn(i.memoizedState,s);if(r&&(i.memoizedState=s,un=!0),i=i.queue,A0(rE.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,uc(9,sE.bind(null,n,i,s,e),void 0,null),bt===null)throw Error(F(349));Hr&30||iE(n,e,s)}return s}function iE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sE(t,e,n,i){e.value=n,e.getSnapshot=i,oE(e)&&aE(t)}function rE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function aE(t){var e=ns(t,1);e!==null&&Kn(e,t,1,-1)}function s1(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:t},e.queue=t,t=t.dispatch=DN.bind(null,He,t),[e.memoizedState,t]}function uc(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function lE(){return jn().memoizedState}function $h(t,e,n,i){var s=oi();He.flags|=t,s.memoizedState=uc(1|e,n,void 0,i===void 0?null:i)}function bf(t,e,n,i){var s=jn();i=i===void 0?null:i;var r=void 0;if(pt!==null){var o=pt.memoizedState;if(r=o.destroy,i!==null&&I0(i,o.deps)){s.memoizedState=uc(e,n,r,i);return}}He.flags|=t,s.memoizedState=uc(1|e,n,r,i)}function r1(t,e){return $h(8390656,8,t,e)}function A0(t,e){return bf(2048,8,t,e)}function cE(t,e){return bf(4,2,t,e)}function uE(t,e){return bf(4,4,t,e)}function hE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dE(t,e,n){return n=n!=null?n.concat([t]):null,bf(4,4,hE.bind(null,e,t),n)}function R0(){}function fE(t,e){var n=jn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&I0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=jn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&I0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return Hr&21?(Qn(n,e)||(n=vk(),He.lanes|=n,Yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function CN(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var i=om.transition;om.transition={};try{t(!1),e()}finally{Te=n,om.transition=i}}function gE(){return jn().memoizedState}function IN(t,e,n){var i=Ys(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=Kk(t,e,n,i),n!==null){var s=tn();Kn(n,t,i,s),_E(n,e,i)}}function DN(t,e,n){var i=Ys(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,o)){var l=e.interleaved;l===null?(s.next=s,S0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Kk(t,e,s,i),n!==null&&(s=tn(),Kn(n,t,i,s),_E(n,e,i))}}function yE(t){var e=t.alternate;return t===He||e!==null&&e===He}function vE(t,e){Al=Ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,c0(t,n)}}var Td={readContext:Fn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},MN={readContext:Fn,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:r1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$h(4194308,4,hE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $h(4194308,4,t,e)},useInsertionEffect:function(t,e){return $h(4,2,t,e)},useMemo:function(t,e){var n=oi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=oi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=IN.bind(null,He,t),[i.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:s1,useDebugValue:R0,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=s1(!1),e=t[0];return t=CN.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=He,s=oi();if(ze){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),bt===null)throw Error(F(349));Hr&30||iE(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,r1(rE.bind(null,i,r,t),[t]),i.flags|=2048,uc(9,sE.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=oi(),e=bt.identifierPrefix;if(ze){var n=Yi,i=Hi;n=(i&~(1<<32-Gn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AN={readContext:Fn,useCallback:fE,useContext:Fn,useEffect:A0,useImperativeHandle:dE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:am,useRef:lE,useState:function(){return am(cc)},useDebugValue:R0,useDeferredValue:function(t){var e=jn();return mE(e,pt.memoizedState,t)},useTransition:function(){var t=am(cc)[0],e=jn().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},RN={readContext:Fn,useCallback:fE,useContext:Fn,useEffect:A0,useImperativeHandle:dE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:lm,useRef:lE,useState:function(){return lm(cc)},useDebugValue:R0,useDeferredValue:function(t){var e=jn();return pt===null?e.memoizedState=t:mE(e,pt.memoizedState,t)},useTransition:function(){var t=lm(cc)[0],e=jn().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",i=e;do n+=o2(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PN=typeof WeakMap=="function"?WeakMap:Map;function wE(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Id||(Id=!0,Bg=i),Pg(t,e)},n}function xE(t,e,n){n=Zi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Pg(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Pg(t,e),typeof i!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o1(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new PN;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=GN.bind(null,t,e,n),e.then(t,t))}function a1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l1(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,Ws(n,e,1))),n.lanes|=1),t)}var ON=us.ReactCurrentOwner,un=!1;function Zt(t,e,n,i){e.child=t===null?Zk(e,null,n,i):la(e,t.child,n,i)}function c1(t,e,n,i,s){n=n.render;var r=e.ref;return Qo(e,s),i=D0(t,e,n,i,r,s),n=M0(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,is(t,e,s)):(ze&&n&&y0(e),e.flags|=1,Zt(t,e,i,s),e.child)}function u1(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!U0(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,bE(t,e,r,i,s)):(t=Bh(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:nc,n(o,i)&&t.ref===e.ref)return is(t,e,s)}return e.flags|=1,t=Gs(r,i),t.ref=e.ref,t.return=e,e.child=t}function bE(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(nc(r,i)&&t.ref===e.ref)if(un=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,is(t,e,s)}return Og(t,e,n,i,s)}function SE(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Bo,vn),vn|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Bo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Ae(Bo,vn),vn|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Ae(Bo,vn),vn|=i;return Zt(t,e,s,n),e.child}function kE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Og(t,e,n,i,s){var r=dn(n)?Br:Yt.current;return r=oa(e,r),Qo(e,s),n=D0(t,e,n,i,r,s),i=M0(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,is(t,e,s)):(ze&&i&&y0(e),e.flags|=1,Zt(t,e,n,s),e.child)}function h1(t,e,n,i,s){if(dn(n)){var r=!0;vd(e)}else r=!1;if(Qo(e,s),e.stateNode===null)Uh(t,e),Xk(e,n,i),Rg(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=dn(n)?Br:Yt.current,c=oa(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&n1(e,o,i,c),Ss=!1;var p=e.memoizedState;o.state=p,Sd(e,i,o,s),l=e.memoizedState,a!==i||p!==l||hn.current||Ss?(typeof h=="function"&&(Ag(e,n,h,i),l=e.memoizedState),(a=Ss||t1(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,qk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=dn(n)?Br:Yt.current,l=oa(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&n1(e,o,i,l),Ss=!1,p=e.memoizedState,o.state=p,Sd(e,i,o,s);var v=e.memoizedState;a!==f||p!==v||hn.current||Ss?(typeof g=="function"&&(Ag(e,n,g,i),v=e.memoizedState),(c=Ss||t1(e,n,c,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Ng(t,e,n,i,r,s)}function Ng(t,e,n,i,s,r){kE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Qw(e,n,!1),is(t,e,r);i=e.stateNode,ON.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=la(e,t.child,null,r),e.child=la(e,null,a,r)):Zt(t,e,a,r),e.memoizedState=i.state,s&&Qw(e,n,!0),e.child}function EE(t){var e=t.stateNode;e.pendingContext?qw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qw(t,e.context,!1),E0(t,e.containerInfo)}function d1(t,e,n,i,s){return aa(),_0(s),e.flags|=256,Zt(t,e,n,i),e.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TE(t,e,n){var i=e.pendingProps,s=We.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ae(We,s&1),t===null)return Dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Ef(o,i,0,null),t=Fr(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Fg(n),e.memoizedState=Lg,t):P0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NN(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Gs(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Gs(a,r):(r=Fr(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Lg,i}return r=t.child,t=r.sibling,i=Gs(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function P0(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,n,i){return i!==null&&_0(i),la(e,t.child,null,n),t=P0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NN(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=cm(Error(F(422))),Zu(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Ef({mode:"visible",children:i.children},s,0,null),r=Fr(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&la(e,t.child,null,o),e.child.memoizedState=Fg(o),e.memoizedState=Lg,r);if(!(e.mode&1))return Zu(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(F(419)),i=cm(r,i,void 0),Zu(t,e,o,i)}if(a=(o&t.childLanes)!==0,un||a){if(i=bt,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,ns(t,s),Kn(i,t,s,-1))}return $0(),i=cm(Error(F(421))),Zu(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=KN.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,xn=Bs(s.nextSibling),Sn=e,ze=!0,Hn=null,t!==null&&(Rn[Pn++]=Hi,Rn[Pn++]=Yi,Rn[Pn++]=Wr,Hi=t.id,Yi=t.overflow,Wr=e),e=P0(e,i.children),e.flags|=4096,e)}function f1(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Mg(t.return,e,n)}function um(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function CE(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Zt(t,e,i.children,n),i=We.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f1(t,n,e);else if(t.tag===19)f1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ae(We,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&kd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),um(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&kd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}um(e,!0,n,null,r);break;case"together":um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LN(t,e,n){switch(e.tag){case 3:EE(e),aa();break;case 5:eE(e);break;case 1:dn(e.type)&&vd(e);break;case 4:E0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Ae(xd,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ae(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?TE(t,e,n):(Ae(We,We.current&1),t=is(t,e,n),t!==null?t.sibling:null);Ae(We,We.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return CE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(We,We.current),i)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return is(t,e,n)}var IE,jg,DE,ME;IE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jg=function(){};DE=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Ar(gi.current);var r=null;switch(n){case"input":s=og(t,s),i=og(t,i),r=[];break;case"select":s=Ye({},s,{value:void 0}),i=Ye({},i,{value:void 0}),r=[];break;case"textarea":s=cg(t,s),i=cg(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=gd)}hg(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ql.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ql.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Oe("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};ME=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ja(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function FN(t,e,n){var i=e.pendingProps;switch(v0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return dn(e.type)&&yd(),Ot(e),null;case 3:return i=e.stateNode,ca(),Fe(hn),Fe(Yt),C0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hn!==null&&(Yg(Hn),Hn=null))),jg(t,e),Ot(e),null;case 5:T0(e);var s=Ar(ac.current);if(n=e.type,t!==null&&e.stateNode!=null)DE(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return Ot(e),null}if(t=Ar(gi.current),Xu(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[li]=e,i[rc]=r,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<dl.length;s++)Oe(dl[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":bw(i,r),Oe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Oe("invalid",i);break;case"textarea":kw(i,r),Oe("invalid",i)}hg(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Qu(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Qu(i.textContent,a,t),s=["children",""+a]):ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",i)}switch(n){case"input":Vu(i),Sw(i,r,!0);break;case"textarea":Vu(i),Ew(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=gd)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ik(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[li]=e,t[rc]=i,IE(t,e,!1,!1),e.stateNode=t;e:{switch(o=dg(n,i),n){case"dialog":Oe("cancel",t),Oe("close",t),s=i;break;case"iframe":case"object":case"embed":Oe("load",t),s=i;break;case"video":case"audio":for(s=0;s<dl.length;s++)Oe(dl[s],t);s=i;break;case"source":Oe("error",t),s=i;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=i;break;case"details":Oe("toggle",t),s=i;break;case"input":bw(t,i),s=og(t,i),Oe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Ye({},i,{value:void 0}),Oe("invalid",t);break;case"textarea":kw(t,i),s=cg(t,i),Oe("invalid",t);break;default:s=i}hg(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?ok(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sk(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ql(t,l):typeof l=="number"&&Ql(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ql.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Oe("scroll",t):l!=null&&i0(t,r,l,o))}switch(n){case"input":Vu(t),Sw(t,i,!1);break;case"textarea":Vu(t),Ew(t);break;case"option":i.value!=null&&t.setAttribute("value",""+er(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Yo(t,!!i.multiple,r,!1):i.defaultValue!=null&&Yo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)ME(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ar(ac.current),Ar(gi.current),Xu(e)){if(i=e.stateNode,n=e.memoizedProps,i[li]=e,(r=i.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Qu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qu(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[li]=e,e.stateNode=i}return Ot(e),null;case 13:if(Fe(We),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&xn!==null&&e.mode&1&&!(e.flags&128))Gk(),aa(),e.flags|=98560,r=!1;else if(r=Xu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(F(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(F(317));r[li]=e}else aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),r=!1}else Hn!==null&&(Yg(Hn),Hn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?yt===0&&(yt=3):$0())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return ca(),jg(t,e),t===null&&ic(e.stateNode.containerInfo),Ot(e),null;case 10:return b0(e.type._context),Ot(e),null;case 17:return dn(e.type)&&yd(),Ot(e),null;case 19:if(Fe(We),r=e.memoizedState,r===null)return Ot(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Ja(r,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kd(t),o!==null){for(e.flags|=128,Ja(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(We,We.current&1|2),e.child}t=t.sibling}r.tail!==null&&it()>ha&&(e.flags|=128,i=!0,Ja(r,!1),e.lanes=4194304)}else{if(!i)if(t=kd(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ja(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ze)return Ot(e),null}else 2*it()-r.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,i=!0,Ja(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=it(),e.sibling=null,n=We.current,Ae(We,i?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return j0(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?vn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function jN(t,e){switch(v0(e),e.tag){case 1:return dn(e.type)&&yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Fe(hn),Fe(Yt),C0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T0(e),null;case 13:if(Fe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(We),null;case 4:return ca(),null;case 10:return b0(e.type._context),null;case 22:case 23:return j0(),null;case 24:return null;default:return null}}var eh=!1,Ut=!1,$N=typeof WeakSet=="function"?WeakSet:Set,H=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ge(t,e,i)}else n.current=null}function $g(t,e,n){try{n()}catch(i){Ge(t,e,i)}}var p1=!1;function UN(t,e){if(bg=fd,t=Ok(),g0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==r||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===r&&++h===i&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sg={focusedElem:t,selectionRange:n},fd=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,w=v.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bn(e.type,_),w);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(T){Ge(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=p1,p1=!1,v}function Rl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&$g(e,n,r)}s=s.next}while(s!==i)}}function Sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Ug(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AE(t){var e=t.alternate;e!==null&&(t.alternate=null,AE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[li],delete e[rc],delete e[Tg],delete e[bN],delete e[SN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RE(t){return t.tag===5||t.tag===3||t.tag===4}function m1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gd));else if(i!==4&&(t=t.child,t!==null))for(zg(t,e,n),t=t.sibling;t!==null;)zg(t,e,n),t=t.sibling}function Vg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}var Et=null,Wn=!1;function ms(t,e,n){for(n=n.child;n!==null;)PE(t,e,n),n=n.sibling}function PE(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:Ut||Vo(n,e);case 6:var i=Et,s=Wn;Et=null,ms(t,e,n),Et=i,Wn=s,Et!==null&&(Wn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Wn?(t=Et,n=n.stateNode,t.nodeType===8?im(t.parentNode,n):t.nodeType===1&&im(t,n),ec(t)):im(Et,n.stateNode));break;case 4:i=Et,s=Wn,Et=n.stateNode.containerInfo,Wn=!0,ms(t,e,n),Et=i,Wn=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&$g(n,e,o),s=s.next}while(s!==i)}ms(t,e,n);break;case 1:if(!Ut&&(Vo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ge(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(Ut=(i=Ut)||n.memoizedState!==null,ms(t,e,n),Ut=i):ms(t,e,n);break;default:ms(t,e,n)}}function g1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $N),e.forEach(function(i){var s=qN.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Wn=!1;break e;case 3:Et=a.stateNode.containerInfo,Wn=!0;break e;case 4:Et=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Et===null)throw Error(F(160));PE(r,o,s),Et=null,Wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ge(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OE(e,t),e=e.sibling}function OE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),si(t),i&4){try{Rl(3,t,t.return),Sf(3,t)}catch(_){Ge(t,t.return,_)}try{Rl(5,t,t.return)}catch(_){Ge(t,t.return,_)}}break;case 1:Vn(e,t),si(t),i&512&&n!==null&&Vo(n,n.return);break;case 5:if(Vn(e,t),si(t),i&512&&n!==null&&Vo(n,n.return),t.flags&32){var s=t.stateNode;try{Ql(s,"")}catch(_){Ge(t,t.return,_)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&tk(s,r),dg(a,o);var c=dg(a,r);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?ok(s,f):h==="dangerouslySetInnerHTML"?sk(s,f):h==="children"?Ql(s,f):i0(s,h,f,c)}switch(a){case"input":ag(s,r);break;case"textarea":nk(s,r);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Yo(s,!!r.multiple,g,!1):p!==!!r.multiple&&(r.defaultValue!=null?Yo(s,!!r.multiple,r.defaultValue,!0):Yo(s,!!r.multiple,r.multiple?[]:"",!1))}s[rc]=r}catch(_){Ge(t,t.return,_)}}break;case 6:if(Vn(e,t),si(t),i&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(_){Ge(t,t.return,_)}}break;case 3:if(Vn(e,t),si(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(_){Ge(t,t.return,_)}break;case 4:Vn(e,t),si(t);break;case 13:Vn(e,t),si(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(L0=it())),i&4&&g1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||h,Vn(e,t),Ut=c):Vn(e,t),si(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(p=H,g=p.child,p.tag){case 0:case 11:case 14:case 15:Rl(4,p,p.return);break;case 1:Vo(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ge(i,n,_)}}break;case 5:Vo(p,p.return);break;case 22:if(p.memoizedState!==null){v1(f);continue}}g!==null?(g.return=p,H=g):v1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rk("display",o))}catch(_){Ge(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ge(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vn(e,t),si(t),i&4&&g1(t);break;case 21:break;default:Vn(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RE(n)){var i=n;break e}n=n.return}throw Error(F(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ql(s,""),i.flags&=-33);var r=m1(t);Vg(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=m1(t);zg(t,a,o);break;default:throw Error(F(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zN(t,e,n){H=t,NE(t)}function NE(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var s=H,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||eh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=eh;var c=Ut;if(eh=o,(Ut=l)&&!c)for(H=s;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?_1(s):l!==null?(l.return=o,H=l):_1(s);for(;r!==null;)H=r,NE(r),r=r.sibling;H=s,eh=a,Ut=c}y1(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,H=r):y1(t)}}function y1(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Sf(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ut)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&e1(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ut||e.flags&512&&Ug(e)}catch(p){Ge(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function v1(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function _1(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sf(4,e)}catch(l){Ge(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){Ge(e,s,l)}}var r=e.return;try{Ug(e)}catch(l){Ge(e,r,l)}break;case 5:var o=e.return;try{Ug(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var VN=Math.ceil,Cd=us.ReactCurrentDispatcher,O0=us.ReactCurrentOwner,Ln=us.ReactCurrentBatchConfig,me=0,bt=null,ut=null,Ct=0,vn=0,Bo=cr(0),yt=0,hc=null,Yr=0,kf=0,N0=0,Pl=null,an=null,L0=0,ha=1/0,zi=null,Id=!1,Bg=null,Hs=null,th=!1,Ps=null,Dd=0,Ol=0,Wg=null,zh=-1,Vh=0;function tn(){return me&6?it():zh!==-1?zh:zh=it()}function Ys(t){return t.mode&1?me&2&&Ct!==0?Ct&-Ct:EN.transition!==null?(Vh===0&&(Vh=vk()),Vh):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Ek(t.type)),t):1}function Kn(t,e,n,i){if(50<Ol)throw Ol=0,Wg=null,Error(F(185));Vc(t,n,i),(!(me&2)||t!==bt)&&(t===bt&&(!(me&2)&&(kf|=n),yt===4&&Es(t,Ct)),fn(t,i),n===1&&me===0&&!(e.mode&1)&&(ha=it()+500,wf&&ur()))}function fn(t,e){var n=t.callbackNode;E2(t,e);var i=dd(t,t===bt?Ct:0);if(i===0)n!==null&&Iw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Iw(n),e===1)t.tag===0?kN(w1.bind(null,t)):Wk(w1.bind(null,t)),wN(function(){!(me&6)&&ur()}),n=null;else{switch(_k(i)){case 1:n=l0;break;case 4:n=gk;break;case 16:n=hd;break;case 536870912:n=yk;break;default:n=hd}n=BE(n,LE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LE(t,e){if(zh=-1,Vh=0,me&6)throw Error(F(327));var n=t.callbackNode;if(Xo()&&t.callbackNode!==n)return null;var i=dd(t,t===bt?Ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Md(t,i);else{e=i;var s=me;me|=2;var r=jE();(bt!==t||Ct!==e)&&(zi=null,ha=it()+500,Lr(t,e));do try{HN();break}catch(a){FE(t,a)}while(1);x0(),Cd.current=r,me=s,ut!==null?e=0:(bt=null,Ct=0,e=yt)}if(e!==0){if(e===2&&(s=yg(t),s!==0&&(i=s,e=Hg(t,s))),e===1)throw n=hc,Lr(t,0),Es(t,i),fn(t,it()),n;if(e===6)Es(t,i);else{if(s=t.current.alternate,!(i&30)&&!BN(s)&&(e=Md(t,i),e===2&&(r=yg(t),r!==0&&(i=r,e=Hg(t,r))),e===1))throw n=hc,Lr(t,0),Es(t,i),fn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:Er(t,an,zi);break;case 3:if(Es(t,i),(i&130023424)===i&&(e=L0+500-it(),10<e)){if(dd(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Eg(Er.bind(null,t,an,zi),e);break}Er(t,an,zi);break;case 4:if(Es(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Gn(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VN(i/1960))-i,10<i){t.timeoutHandle=Eg(Er.bind(null,t,an,zi),i);break}Er(t,an,zi);break;case 5:Er(t,an,zi);break;default:throw Error(F(329))}}}return fn(t,it()),t.callbackNode===n?LE.bind(null,t):null}function Hg(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=Md(t,e),t!==2&&(e=an,an=n,e!==null&&Yg(e)),t}function Yg(t){an===null?an=t:an.push.apply(an,t)}function BN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Qn(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~N0,e&=~kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),i=1<<n;t[n]=-1,e&=~i}}function w1(t){if(me&6)throw Error(F(327));Xo();var e=dd(t,0);if(!(e&1))return fn(t,it()),null;var n=Md(t,e);if(t.tag!==0&&n===2){var i=yg(t);i!==0&&(e=i,n=Hg(t,i))}if(n===1)throw n=hc,Lr(t,0),Es(t,e),fn(t,it()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Er(t,an,zi),fn(t,it()),null}function F0(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(ha=it()+500,wf&&ur())}}function Gr(t){Ps!==null&&Ps.tag===0&&!(me&6)&&Xo();var e=me;me|=1;var n=Ln.transition,i=Te;try{if(Ln.transition=null,Te=1,t)return t()}finally{Te=i,Ln.transition=n,me=e,!(me&6)&&ur()}}function j0(){vn=Bo.current,Fe(Bo)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_N(n)),ut!==null)for(n=ut.return;n!==null;){var i=n;switch(v0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yd();break;case 3:ca(),Fe(hn),Fe(Yt),C0();break;case 5:T0(i);break;case 4:ca();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:b0(i.type._context);break;case 22:case 23:j0()}n=n.return}if(bt=t,ut=t=Gs(t.current,null),Ct=vn=e,yt=0,hc=null,N0=kf=Yr=0,an=Pl=null,Mr!==null){for(e=0;e<Mr.length;e++)if(n=Mr[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Mr=null}return t}function FE(t,e){do{var n=ut;try{if(x0(),jh.current=Td,Ed){for(var i=He.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ed=!1}if(Hr=0,wt=pt=He=null,Al=!1,lc=0,O0.current=null,n===null||n.return===null){yt=1,hc=e,ut=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=a1(o);if(g!==null){g.flags&=-257,l1(g,o,a,r,e),g.mode&1&&o1(r,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){o1(r,c,e),$0();break e}l=Error(F(426))}}else if(ze&&a.mode&1){var w=a1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),l1(w,o,a,r,e),_0(ua(l,a));break e}}r=l=ua(l,a),yt!==4&&(yt=2),Pl===null?Pl=[r]:Pl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var S=wE(r,l,e);Zw(r,S);break e;case 1:a=l;var x=r.type,E=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Hs===null||!Hs.has(E)))){r.flags|=65536,e&=-e,r.lanes|=e;var T=xE(r,a,e);Zw(r,T);break e}}r=r.return}while(r!==null)}UE(n)}catch(I){e=I,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function jE(){var t=Cd.current;return Cd.current=Td,t===null?Td:t}function $0(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||!(Yr&268435455)&&!(kf&268435455)||Es(bt,Ct)}function Md(t,e){var n=me;me|=2;var i=jE();(bt!==t||Ct!==e)&&(zi=null,Lr(t,e));do try{WN();break}catch(s){FE(t,s)}while(1);if(x0(),me=n,Cd.current=i,ut!==null)throw Error(F(261));return bt=null,Ct=0,yt}function WN(){for(;ut!==null;)$E(ut)}function HN(){for(;ut!==null&&!g2();)$E(ut)}function $E(t){var e=VE(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?UE(t):ut=e,O0.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jN(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ut=null;return}}else if(n=FN(n,e,vn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);yt===0&&(yt=5)}function Er(t,e,n){var i=Te,s=Ln.transition;try{Ln.transition=null,Te=1,YN(t,e,n,i)}finally{Ln.transition=s,Te=i}return null}function YN(t,e,n,i){do Xo();while(Ps!==null);if(me&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(T2(t,r),t===bt&&(ut=bt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,BE(hd,function(){return Xo(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ln.transition,Ln.transition=null;var o=Te;Te=1;var a=me;me|=4,O0.current=null,UN(t,n),OE(n,t),dN(Sg),fd=!!bg,Sg=bg=null,t.current=n,zN(n),y2(),me=a,Te=o,Ln.transition=r}else t.current=n;if(th&&(th=!1,Ps=t,Dd=s),r=t.pendingLanes,r===0&&(Hs=null),w2(n.stateNode),fn(t,it()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Id)throw Id=!1,t=Bg,Bg=null,t;return Dd&1&&t.tag!==0&&Xo(),r=t.pendingLanes,r&1?t===Wg?Ol++:(Ol=0,Wg=t):Ol=0,ur(),null}function Xo(){if(Ps!==null){var t=_k(Dd),e=Ln.transition,n=Te;try{if(Ln.transition=null,Te=16>t?16:t,Ps===null)var i=!1;else{if(t=Ps,Ps=null,Dd=0,me&6)throw Error(F(331));var s=me;for(me|=4,H=t.current;H!==null;){var r=H,o=r.child;if(H.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:Rl(8,h,r)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var p=h.sibling,g=h.return;if(AE(h),h===c){H=null;break}if(p!==null){p.return=g,H=p;break}H=g}}}var v=r.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}H=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,H=o;else e:for(;H!==null;){if(r=H,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Rl(9,r,r.return)}var S=r.sibling;if(S!==null){S.return=r.return,H=S;break e}H=r.return}}var x=t.current;for(H=x;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=x;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sf(9,a)}}catch(I){Ge(a,a.return,I)}if(a===o){H=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,H=T;break e}H=a.return}}if(me=s,ur(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(mf,t)}catch{}i=!0}return i}finally{Te=n,Ln.transition=e}}return!1}function x1(t,e,n){e=ua(n,e),e=wE(t,e,1),t=Ws(t,e,1),e=tn(),t!==null&&(Vc(t,1,e),fn(t,e))}function Ge(t,e,n){if(t.tag===3)x1(t,t,n);else for(;e!==null;){if(e.tag===3){x1(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hs===null||!Hs.has(i))){t=ua(n,t),t=xE(e,t,1),e=Ws(e,t,1),t=tn(),e!==null&&(Vc(e,1,t),fn(e,t));break}}e=e.return}}function GN(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Ct&n)===n&&(yt===4||yt===3&&(Ct&130023424)===Ct&&500>it()-L0?Lr(t,0):N0|=n),fn(t,e)}function zE(t,e){e===0&&(t.mode&1?(e=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):e=1);var n=tn();t=ns(t,e),t!==null&&(Vc(t,e,n),fn(t,n))}function KN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zE(t,n)}function qN(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),zE(t,n)}var VE;VE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,LN(t,e,n);un=!!(t.flags&131072)}else un=!1,ze&&e.flags&1048576&&Hk(e,wd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Uh(t,e),t=e.pendingProps;var s=oa(e,Yt.current);Qo(e,n),s=D0(null,e,i,t,s,n);var r=M0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(i)?(r=!0,vd(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,k0(e),s.updater=xf,e.stateNode=s,s._reactInternals=e,Rg(e,i,t,n),e=Ng(null,e,i,!0,r,n)):(e.tag=0,ze&&r&&y0(e),Zt(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=XN(i),t=Bn(i,t),s){case 0:e=Og(null,e,i,t,n);break e;case 1:e=h1(null,e,i,t,n);break e;case 11:e=c1(null,e,i,t,n);break e;case 14:e=u1(null,e,i,Bn(i.type,t),n);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bn(i,s),Og(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bn(i,s),h1(t,e,i,s,n);case 3:e:{if(EE(e),t===null)throw Error(F(387));i=e.pendingProps,r=e.memoizedState,s=r.element,qk(t,e),Sd(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=ua(Error(F(423)),e),e=d1(t,e,i,n,s);break e}else if(i!==s){s=ua(Error(F(424)),e),e=d1(t,e,i,n,s);break e}else for(xn=Bs(e.stateNode.containerInfo.firstChild),Sn=e,ze=!0,Hn=null,n=Zk(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(aa(),i===s){e=is(t,e,n);break e}Zt(t,e,i,n)}e=e.child}return e;case 5:return eE(e),t===null&&Dg(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,kg(i,s)?o=null:r!==null&&kg(i,r)&&(e.flags|=32),kE(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Dg(e),null;case 13:return TE(t,e,n);case 4:return E0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=la(e,null,i,n):Zt(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bn(i,s),c1(t,e,i,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Ae(xd,i._currentValue),i._currentValue=o,r!==null)if(Qn(r.value,o)){if(r.children===s.children&&!hn.current){e=is(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Zi(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Mg(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Mg(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Qo(e,n),s=Fn(s),i=i(s),e.flags|=1,Zt(t,e,i,n),e.child;case 14:return i=e.type,s=Bn(i,e.pendingProps),s=Bn(i.type,s),u1(t,e,i,s,n);case 15:return bE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bn(i,s),Uh(t,e),e.tag=1,dn(i)?(t=!0,vd(e)):t=!1,Qo(e,n),Xk(e,i,s),Rg(e,i,s,n),Ng(null,e,i,!0,t,n);case 19:return CE(t,e,n);case 22:return SE(t,e,n)}throw Error(F(156,e.tag))};function BE(t,e){return mk(t,e)}function QN(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,i){return new QN(t,e,n,i)}function U0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XN(t){if(typeof t=="function")return U0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===o0)return 14}return 2}function Gs(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bh(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")U0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return Fr(n.children,s,r,e);case s0:o=8,s|=8;break;case ng:return t=Nn(12,n,e,s|2),t.elementType=ng,t.lanes=r,t;case ig:return t=Nn(13,n,e,s),t.elementType=ig,t.lanes=r,t;case sg:return t=Nn(19,n,e,s),t.elementType=sg,t.lanes=r,t;case JS:return Ef(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QS:o=10;break e;case XS:o=9;break e;case r0:o=11;break e;case o0:o=14;break e;case bs:o=16,i=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Fr(t,e,n,i){return t=Nn(7,t,i,e),t.lanes=n,t}function Ef(t,e,n,i){return t=Nn(22,t,i,e),t.elementType=JS,t.lanes=n,t.stateNode={isHidden:!1},t}function hm(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function dm(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JN(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function z0(t,e,n,i,s,r,o,a,l){return t=new JN(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Nn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(r),t}function ZN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function WE(t){if(!t)return tr;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(dn(n))return Bk(t,n,e)}return e}function HE(t,e,n,i,s,r,o,a,l){return t=z0(n,i,!0,t,s,r,o,a,l),t.context=WE(null),n=t.current,i=tn(),s=Ys(n),r=Zi(i,s),r.callback=e??null,Ws(n,r,s),t.current.lanes=s,Vc(t,s,i),fn(t,i),t}function Tf(t,e,n,i){var s=e.current,r=tn(),o=Ys(s);return n=WE(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ws(s,e,o),t!==null&&(Kn(t,s,o,r),Fh(t,s,o)),o}function Ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V0(t,e){b1(t,e),(t=t.alternate)&&b1(t,e)}function eL(){return null}var YE=typeof reportError=="function"?reportError:function(t){console.error(t)};function B0(t){this._internalRoot=t}Cf.prototype.render=B0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Tf(t,e,null,null)};Cf.prototype.unmount=B0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){Tf(null,t,null,null)}),e[ts]=null}};function Cf(t){this._internalRoot=t}Cf.prototype.unstable_scheduleHydration=function(t){if(t){var e=bk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&kk(t)}};function W0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function If(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S1(){}function tL(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Ad(o);r.call(c)}}var o=HE(e,i,t,0,null,!1,!1,"",S1);return t._reactRootContainer=o,t[ts]=o.current,ic(t.nodeType===8?t.parentNode:t),Gr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=Ad(l);a.call(c)}}var l=z0(t,0,!1,null,null,!1,!1,"",S1);return t._reactRootContainer=l,t[ts]=l.current,ic(t.nodeType===8?t.parentNode:t),Gr(function(){Tf(e,l,n,i)}),l}function Df(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Ad(o);a.call(l)}}Tf(e,o,t,s)}else o=tL(n,e,t,s,i);return Ad(o)}wk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hl(e.pendingLanes);n!==0&&(c0(e,n|1),fn(e,it()),!(me&6)&&(ha=it()+500,ur()))}break;case 13:Gr(function(){var i=ns(t,1);if(i!==null){var s=tn();Kn(i,t,1,s)}}),V0(t,1)}};u0=function(t){if(t.tag===13){var e=ns(t,134217728);if(e!==null){var n=tn();Kn(e,t,134217728,n)}V0(t,134217728)}};xk=function(t){if(t.tag===13){var e=Ys(t),n=ns(t,e);if(n!==null){var i=tn();Kn(n,t,e,i)}V0(t,e)}};bk=function(){return Te};Sk=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};pg=function(t,e,n){switch(e){case"input":if(ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=_f(i);if(!s)throw Error(F(90));ek(i),ag(i,s)}}}break;case"textarea":nk(t,n);break;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}};ck=F0;uk=Gr;var nL={usingClientEntryPoint:!1,Events:[Wc,Fo,_f,ak,lk,F0]},Za={findFiberByHostInstance:Dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iL={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fk(t),t===null?null:t.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||eL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{mf=nh.inject(iL),mi=nh}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nL;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(e))throw Error(F(200));return ZN(t,e,null,n)};Cn.createRoot=function(t,e){if(!W0(t))throw Error(F(299));var n=!1,i="",s=YE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=z0(t,1,!1,null,null,n,!1,i,s),t[ts]=e.current,ic(t.nodeType===8?t.parentNode:t),new B0(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=fk(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Gr(t)};Cn.hydrate=function(t,e,n){if(!If(e))throw Error(F(200));return Df(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!W0(t))throw Error(F(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=YE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HE(e,null,t,1,n??null,s,!1,r,o),t[ts]=e.current,ic(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cf(e)};Cn.render=function(t,e,n){if(!If(e))throw Error(F(200));return Df(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!If(t))throw Error(F(40));return t._reactRootContainer?(Gr(function(){Df(null,null,t,!1,function(){t._reactRootContainer=null,t[ts]=null})}),!0):!1};Cn.unstable_batchedUpdates=F0;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!If(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Df(t,e,n,!1,i)};Cn.version="18.2.0-next-9e3b772b8-20220608";function GE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GE)}catch(t){console.error(t)}}GE(),HS.exports=Cn;var sL=HS.exports,k1=sL;eg.createRoot=k1.createRoot,eg.hydrateRoot=k1.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dc.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const E1="popstate";function rL(t){t===void 0&&(t={});function e(s,r){let{pathname:o="/",search:a="",hash:l=""}=oo(s.location.hash.substr(1));return Gg("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof r=="string"?r:Rd(r))}function i(s,r){Mf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return aL(e,n,i,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oL(){return Math.random().toString(36).substr(2,8)}function T1(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n,i){return n===void 0&&(n=null),dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||i||oL()})}function Rd(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function aL(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a=Os.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(dc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Os.Pop;let w=h(),S=w==null?null:w-c;c=w,l&&l({action:a,location:_.location,delta:S})}function p(w,S){a=Os.Push;let x=Gg(_.location,w,S);n&&n(x,w),c=h()+1;let E=T1(x,c),T=_.createHref(x);try{o.pushState(E,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}r&&l&&l({action:a,location:_.location,delta:1})}function g(w,S){a=Os.Replace;let x=Gg(_.location,w,S);n&&n(x,w),c=h();let E=T1(x,c),T=_.createHref(x);o.replaceState(E,"",T),r&&l&&l({action:a,location:_.location,delta:0})}function v(w){let S=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Rd(w);return rt(S,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,S)}let _={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(E1,f),l=w,()=>{s.removeEventListener(E1,f),l=null}},createHref(w){return e(s,w)},createURL:v,encodeLocation(w){let S=v(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:g,go(w){return o.go(w)}};return _}var C1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C1||(C1={}));function lL(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?oo(e):e,s=H0(i.pathname||"/",n);if(s==null)return null;let r=KE(t);cL(r);let o=null;for(let a=0;o==null&&a<r.length;++a)o=vL(r[a],xL(s));return o}function KE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ks([i,l.relativePath]),h=n.concat(l);r.children&&r.children.length>0&&(rt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KE(r.children,e,h,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:gL(c,r.index),routesMeta:h})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of qE(r.path))s(r,o,l)}),e}function qE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=qE(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const uL=/^:\w+$/,hL=3,dL=2,fL=1,pL=10,mL=-2,I1=t=>t==="*";function gL(t,e){let n=t.split("/"),i=n.length;return n.some(I1)&&(i+=mL),e&&(i+=dL),n.filter(s=>!I1(s)).reduce((s,r)=>s+(uL.test(r)?hL:r===""?fL:pL),i)}function yL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function vL(t,e){let{routesMeta:n}=t,i={},s="/",r=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=_L({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(i,h.params);let f=a.route;r.push({params:i,pathname:Ks([s,h.pathname]),pathnameBase:EL(Ks([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ks([s,h.pathnameBase]))}return r}function _L(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=wL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,h,f)=>{if(h==="*"){let p=a[f]||"";o=r.slice(0,r.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=bL(a[f]||"",h),c},{}),pathname:r,pathnameBase:o,pattern:t}}function wL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function xL(t){try{return decodeURI(t)}catch(e){return Mf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bL(t,e){try{return decodeURIComponent(t)}catch(n){return Mf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function H0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function SL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:kL(n,e):e,search:TL(i),hash:CL(s)}}function kL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fm(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G0(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=oo(t):(s=dc({},t),rt(!s.pathname||!s.pathname.includes("?"),fm("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),fm("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),fm("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(i||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=SL(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Ks=t=>t.join("/").replace(/\/\/+/g,"/"),EL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QE=["post","put","patch","delete"];new Set(QE);const DL=["get",...QE];new Set(DL);/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pd.apply(this,arguments)}const ML="startTransition";var D1=KO[ML];const K0=D.createContext(null),AL=D.createContext(null),Da=D.createContext(null),Af=D.createContext(null),Ti=D.createContext({outlet:null,matches:[],isDataRoute:!1}),XE=D.createContext(null);function RL(t,e){let{relative:n}=e===void 0?{}:e;Ma()||rt(!1);let{basename:i,navigator:s}=D.useContext(Da),{hash:r,pathname:o,search:a}=ZE(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Ks([i,o])),s.createHref({pathname:l,search:a,hash:r})}function Ma(){return D.useContext(Af)!=null}function hr(){return Ma()||rt(!1),D.useContext(Af).location}function JE(t){D.useContext(Da).static||D.useLayoutEffect(t)}function hs(){let{isDataRoute:t}=D.useContext(Ti);return t?KL():PL()}function PL(){Ma()||rt(!1);let t=D.useContext(K0),{basename:e,navigator:n}=D.useContext(Da),{matches:i}=D.useContext(Ti),{pathname:s}=hr(),r=JSON.stringify(Y0(i).map(l=>l.pathnameBase)),o=D.useRef(!1);return JE(()=>{o.current=!0}),D.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=G0(l,JSON.parse(r),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ks([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,r,s,t])}const OL=D.createContext(null);function NL(t){let e=D.useContext(Ti).outlet;return e&&D.createElement(OL.Provider,{value:t},e)}function LL(){let{matches:t}=D.useContext(Ti),e=t[t.length-1];return e?e.params:{}}function ZE(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=D.useContext(Ti),{pathname:s}=hr(),r=JSON.stringify(Y0(i).map(o=>o.pathnameBase));return D.useMemo(()=>G0(t,JSON.parse(r),s,n==="path"),[t,r,s,n])}function FL(t,e){return jL(t,e)}function jL(t,e,n){Ma()||rt(!1);let{navigator:i}=D.useContext(Da),{matches:s}=D.useContext(Ti),r=s[s.length-1],o=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=hr(),c;if(e){var h;let _=typeof e=="string"?oo(e):e;a==="/"||(h=_.pathname)!=null&&h.startsWith(a)||rt(!1),c=_}else c=l;let f=c.pathname||"/",p=a==="/"?f:f.slice(a.length)||"/",g=lL(t,{pathname:p}),v=BL(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Ks([a,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Ks([a,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n);return e&&v?D.createElement(Af.Provider,{value:{location:Pd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Os.Pop}},v):v}function $L(){let t=GL(),e=IL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,r)}const UL=D.createElement($L,null);class zL extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?D.createElement(Ti.Provider,{value:this.props.routeContext},D.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VL(t){let{routeContext:e,match:n,children:i}=t,s=D.useContext(K0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ti.Provider,{value:e},i)}function BL(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let r=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let a=r.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||rt(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,l,c)=>{let h=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||UL);let p=e.concat(r.slice(0,c+1)),g=()=>{let v;return h?v=f:l.route.Component?v=D.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,D.createElement(VL,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?D.createElement(zL,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Kg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Kg||(Kg={}));var fc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(fc||(fc={}));function WL(t){let e=D.useContext(K0);return e||rt(!1),e}function HL(t){let e=D.useContext(AL);return e||rt(!1),e}function YL(t){let e=D.useContext(Ti);return e||rt(!1),e}function eT(t){let e=YL(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function GL(){var t;let e=D.useContext(XE),n=HL(fc.UseRouteError),i=eT(fc.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function KL(){let{router:t}=WL(Kg.UseNavigateStable),e=eT(fc.UseNavigateStable),n=D.useRef(!1);return JE(()=>{n.current=!0}),D.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pd({fromRouteId:e},r)))},[t,e])}function qL(t){let{to:e,replace:n,state:i,relative:s}=t;Ma()||rt(!1);let{matches:r}=D.useContext(Ti),{pathname:o}=hr(),a=hs(),l=G0(e,Y0(r).map(h=>h.pathnameBase),o,s==="path"),c=JSON.stringify(l);return D.useEffect(()=>a(JSON.parse(c),{replace:n,state:i,relative:s}),[a,c,s,n,i]),null}function tT(t){return NL(t.context)}function Ft(t){rt(!1)}function QL(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Os.Pop,navigator:r,static:o=!1}=t;Ma()&&rt(!1);let a=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:r,static:o}),[a,r,o]);typeof i=="string"&&(i=oo(i));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:g="default"}=i,v=D.useMemo(()=>{let _=H0(c,a);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:g},navigationType:s}},[a,c,h,f,p,g,s]);return v==null?null:D.createElement(Da.Provider,{value:l},D.createElement(Af.Provider,{children:n,value:v}))}function XL(t){let{children:e,location:n}=t;return FL(qg(e),n)}var M1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(M1||(M1={}));new Promise(()=>{});function qg(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(i,s)=>{if(!D.isValidElement(i))return;let r=[...e,s];if(i.type===D.Fragment){n.push.apply(n,qg(i.props.children,r));return}i.type!==Ft&&rt(!1),!i.props.index||!i.props.children||rt(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=qg(i.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qg.apply(this,arguments)}function JL(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ZL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eF(t,e){return t.button===0&&(!e||e==="_self")&&!ZL(t)}const tF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function nF(t){let{basename:e,children:n,future:i,window:s}=t,r=D.useRef();r.current==null&&(r.current=rL({window:s,v5Compat:!0}));let o=r.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=D.useCallback(f=>{c&&D1?D1(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.createElement(QL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const iF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=D.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:h}=e,f=JL(e,tF),{basename:p}=D.useContext(Da),g,v=!1;if(typeof c=="string"&&sF.test(c)&&(g=c,iF))try{let x=new URL(window.location.href),E=c.startsWith("//")?new URL(x.protocol+c):new URL(c),T=H0(E.pathname,p);E.origin===x.origin&&T!=null?c=T+E.search+E.hash:v=!0}catch{}let _=RL(c,{relative:s}),w=rF(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s});function S(x){i&&i(x),x.defaultPrevented||w(x)}return D.createElement("a",Qg({},f,{href:g||_,onClick:v||r?i:S,ref:n,target:l}))});var A1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(A1||(A1={}));var R1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(R1||(R1={}));function rF(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o}=e===void 0?{}:e,a=hs(),l=hr(),c=ZE(t,{relative:o});return D.useCallback(h=>{if(eF(h,n)){h.preventDefault();let f=i!==void 0?i:Rd(l)===Rd(c);a(t,{replace:f,state:s,preventScrollReset:r,relative:o})}},[l,a,c,i,s,n,t,r,o])}const oF="_form_wrapper_7ah9c_1",aF="_backIcon_7ah9c_11",lF="_app_name_7ah9c_23",cF="_header_7ah9c_30",uF="_form_7ah9c_1",Wi={form_wrapper:oF,backIcon:aF,app_name:lF,header:cF,form:uF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hF=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=r>>2,f=(r&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),i.push(n[h],n[f],n[p],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||f==null)throw new dF;const p=r<<2|a>>4;if(i.push(p),c!==64){const g=a<<4&240|c>>2;if(i.push(g),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fF=function(t){const e=nT(t);return iT.encodeByteArray(e,!0)},Od=function(t){return fF(t).replace(/\./g,"")},sT=function(t){try{return iT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=()=>pF().__FIREBASE_DEFAULTS__,gF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sT(t[1]);return e&&JSON.parse(e)},Rf=()=>{try{return mF()||gF()||yF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rT=t=>{var e,n;return(n=(e=Rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oT=t=>{const e=rT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},aT=()=>{var t;return(t=Rf())===null||t===void 0?void 0:t.config},lT=t=>{var e;return(e=Rf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Od(JSON.stringify(n)),Od(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function wF(){var t;const e=(t=Rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SF(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kF(){try{return typeof indexedDB=="object"}catch{return!1}}function EF(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="FirebaseError";class Ci extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TF,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?CF(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ci(s,a,i)}}function CF(t,e){return t.replace(IF,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const IF=/\{\$([^}]+)}/g;function DF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nd(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(P1(r)&&P1(o)){if(!Nd(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function P1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MF(t,e){const n=new AF(t,e);return n.subscribe.bind(n)}class AF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");RF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=pm),s.error===void 0&&(s.error=pm),s.complete===void 0&&(s.complete=pm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class nr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vF;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NF(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OF(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OF(t){return t===Tr?void 0:t}function NF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const FF={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},jF=_e.INFO,$F={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},UF=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=$F[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q0{constructor(e){this.name=e,this._logLevel=jF,this._logHandler=UF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const zF=(t,e)=>e.some(n=>t instanceof n);let O1,N1;function VF(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BF(){return N1||(N1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Xg=new WeakMap,hT=new WeakMap,mm=new WeakMap,Q0=new WeakMap;function WF(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(qs(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),Q0.set(e,t),e}function HF(t){if(Xg.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YF(t){Jg=t(Jg)}function GF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gm(this),e,...n);return hT.set(i,e.sort?e.sort():[e]),qs(i)}:BF().includes(t)?function(...e){return t.apply(gm(this),e),qs(uT.get(this))}:function(...e){return qs(t.apply(gm(this),e))}}function KF(t){return typeof t=="function"?GF(t):(t instanceof IDBTransaction&&HF(t),zF(t,VF())?new Proxy(t,Jg):t)}function qs(t){if(t instanceof IDBRequest)return WF(t);if(mm.has(t))return mm.get(t);const e=KF(t);return e!==t&&(mm.set(t,e),Q0.set(e,t)),e}const gm=t=>Q0.get(t);function qF(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=qs(o);return i&&o.addEventListener("upgradeneeded",l=>{i(qs(o.result),l.oldVersion,l.newVersion,qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QF=["get","getKey","getAll","getAllKeys","count"],XF=["put","add","delete","clear"],ym=new Map;function L1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=XF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||QF.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ym.set(e,r),r}YF(t=>({...t,get:(e,n,i)=>L1(e,n)||t.get(e,n,i),has:(e,n)=>!!L1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZF(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",F1="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new q0("@firebase/app"),ej="@firebase/app-compat",tj="@firebase/analytics-compat",nj="@firebase/analytics",ij="@firebase/app-check-compat",sj="@firebase/app-check",rj="@firebase/auth",oj="@firebase/auth-compat",aj="@firebase/database",lj="@firebase/database-compat",cj="@firebase/functions",uj="@firebase/functions-compat",hj="@firebase/installations",dj="@firebase/installations-compat",fj="@firebase/messaging",pj="@firebase/messaging-compat",mj="@firebase/performance",gj="@firebase/performance-compat",yj="@firebase/remote-config",vj="@firebase/remote-config-compat",_j="@firebase/storage",wj="@firebase/storage-compat",xj="@firebase/firestore",bj="@firebase/firestore-compat",Sj="firebase",kj="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",Ej={[Zg]:"fire-core",[ej]:"fire-core-compat",[nj]:"fire-analytics",[tj]:"fire-analytics-compat",[sj]:"fire-app-check",[ij]:"fire-app-check-compat",[rj]:"fire-auth",[oj]:"fire-auth-compat",[aj]:"fire-rtdb",[lj]:"fire-rtdb-compat",[cj]:"fire-fn",[uj]:"fire-fn-compat",[hj]:"fire-iid",[dj]:"fire-iid-compat",[fj]:"fire-fcm",[pj]:"fire-fcm-compat",[mj]:"fire-perf",[gj]:"fire-perf-compat",[yj]:"fire-rc",[vj]:"fire-rc-compat",[_j]:"fire-gcs",[wj]:"fire-gcs-compat",[xj]:"fire-fst",[bj]:"fire-fst-compat","fire-js":"fire-js",[Sj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,ty=new Map;function Tj(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qr(t){const e=t.name;if(ty.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(const n of Ld.values())Tj(n,t);return!0}function Pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qs=new Yc("app","Firebase",Cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=kj;function dT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Qs.create("bad-app-name",{appName:String(s)});if(n||(n=aT()),!n)throw Qs.create("no-options");const r=Ld.get(s);if(r){if(Nd(n,r.options)&&Nd(i,r.config))return r;throw Qs.create("duplicate-app",{appName:s})}const o=new LF(s);for(const l of ty.values())o.addComponent(l);const a=new Ij(n,i,o);return Ld.set(s,a),a}function X0(t=ey){const e=Ld.get(t);if(!e&&t===ey&&aT())return dT();if(!e)throw Qs.create("no-app",{appName:t});return e}function yi(t,e,n){var i;let s=(i=Ej[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}qr(new nr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="firebase-heartbeat-database",Mj=1,pc="firebase-heartbeat-store";let vm=null;function fT(){return vm||(vm=qF(Dj,Mj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pc)}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),vm}async function Aj(t){try{return await(await fT()).transaction(pc).objectStore(pc).get(pT(t))}catch(e){if(e instanceof Ci)Kr.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function j1(t,e){try{const i=(await fT()).transaction(pc,"readwrite");await i.objectStore(pc).put(e,pT(t)),await i.done}catch(n){if(n instanceof Ci)Kr.warn(n.message);else{const i=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(i.message)}}}function pT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1024,Pj=30*24*60*60*1e3;class Oj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=Pj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$1(),{heartbeatsToSend:n,unsentEntries:i}=Nj(this._heartbeatsCache.heartbeats),s=Od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function $1(){return new Date().toISOString().substring(0,10)}function Nj(t,e=Rj){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),U1(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),U1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Lj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kF()?EF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Aj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function U1(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){qr(new nr("platform-logger",e=>new JF(e),"PRIVATE")),qr(new nr("heartbeat",e=>new Oj(e),"PRIVATE")),yi(Zg,F1,t),yi(Zg,F1,"esm2017"),yi("fire-js","")}Fj("");var jj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,J0=J0||{},ne=jj||self;function Of(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Kc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $j(t){return Object.prototype.hasOwnProperty.call(t,_m)&&t[_m]||(t[_m]=++Uj)}var _m="closure_uid_"+(1e9*Math.random()>>>0),Uj=0;function zj(t,e,n){return t.call.apply(t.bind,arguments)}function Vj(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wt=zj:Wt=Vj,Wt.apply(null,arguments)}function ih(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function dr(){this.s=this.s,this.o=this.o}var Bj=0;dr.prototype.s=!1;dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Bj!=0)&&$j(this)};dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Z0(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function z1(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Of(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let o=0;o<r;o++)t[s+o]=i[o]}else t.push(i)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var Wj=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function mc(t){return/^[\s\xa0]*$/.test(t)}function Nf(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function ci(t){return Nf().indexOf(t)!=-1}function ev(t){return ev[" "](t),t}ev[" "]=function(){};function Hj(t,e){var n=F$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Yj=ci("Opera"),da=ci("Trident")||ci("MSIE"),gT=ci("Edge"),ny=gT||da,yT=ci("Gecko")&&!(Nf().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge"))&&!(ci("Trident")||ci("MSIE"))&&!ci("Edge"),Gj=Nf().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge");function vT(){var t=ne.document;return t?t.documentMode:void 0}var iy;e:{var wm="",xm=function(){var t=Nf();if(yT)return/rv:([^\);]+)(\)|;)/.exec(t);if(gT)return/Edge\/([\d\.]+)/.exec(t);if(da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Gj)return/WebKit\/(\S+)/.exec(t);if(Yj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xm&&(wm=xm?xm[1]:""),da){var bm=vT();if(bm!=null&&bm>parseFloat(wm)){iy=String(bm);break e}}iy=wm}var sy;if(ne.document&&da){var V1=vT();sy=V1||parseInt(iy,10)||void 0}else sy=void 0;var Kj=sy;function gc(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yT){e:{try{ev(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gc.$.h.call(this)}}kt(gc,Ht);var qj={2:"touch",3:"pen",4:"mouse"};gc.prototype.h=function(){gc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qc="closure_listenable_"+(1e6*Math.random()|0),Qj=0;function Xj(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++Qj,this.fa=this.ia=!1}function Lf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tv(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function Jj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _T(t){const e={};for(const n in t)e[n]=t[n];return e}const B1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wT(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<B1.length;r++)n=B1[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ff(t){this.src=t,this.g={},this.h=0}Ff.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=oy(t,e,i,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Xj(e,this.src,r,!!i,s),e.ia=n,t.push(e)),e};function ry(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=mT(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Lf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function oy(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==i)return s}return-1}var nv="closure_lm_"+(1e6*Math.random()|0),Sm={};function xT(t,e,n,i,s){if(i&&i.once)return ST(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)xT(t,e[r],n,i,s);return null}return n=rv(n),t&&t[qc]?t.O(e,n,Kc(i)?!!i.capture:!!i,s):bT(t,e,n,!1,i,s)}function bT(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=Kc(s)?!!s.capture:!!s,a=sv(t);if(a||(t[nv]=a=new Ff(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=Zj(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Wj||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(ET(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Zj(){function t(n){return e.call(t.src,t.listener,n)}const e=e$;return t}function ST(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)ST(t,e[r],n,i,s);return null}return n=rv(n),t&&t[qc]?t.P(e,n,Kc(i)?!!i.capture:!!i,s):bT(t,e,n,!0,i,s)}function kT(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)kT(t,e[r],n,i,s);else i=Kc(i)?!!i.capture:!!i,n=rv(n),t&&t[qc]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=oy(r,n,i,s),-1<n&&(Lf(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=sv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oy(e,n,i,s)),(n=-1<t?e[t]:null)&&iv(n))}function iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[qc])ry(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ET(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=sv(e))?(ry(n,t),n.h==0&&(n.src=null,e[nv]=null)):Lf(t)}}}function ET(t){return t in Sm?Sm[t]:Sm[t]="on"+t}function e$(t,e){if(t.fa)t=!0;else{e=new gc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&iv(t),t=n.call(i,e)}return t}function sv(t){return t=t[nv],t instanceof Ff?t:null}var km="__closure_events_fn_"+(1e9*Math.random()>>>0);function rv(t){return typeof t=="function"?t:(t[km]||(t[km]=function(e){return t.handleEvent(e)}),t[km])}function St(){dr.call(this),this.i=new Ff(this),this.S=this,this.J=null}kt(St,dr);St.prototype[qc]=!0;St.prototype.removeEventListener=function(t,e,n,i){kT(this,t,e,n,i)};function It(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var s=e;e=new Ht(i,t),wT(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=sh(o,i,!0,e)&&s}if(o=e.g=t,s=sh(o,i,!0,e)&&s,s=sh(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=sh(o,i,!1,e)&&s}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Lf(n[i]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};St.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function sh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ry(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var ov=ne.JSON.stringify;class t${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function n$(){var t=av;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class i${constructor(){this.h=this.g=null}add(e,n){const i=TT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var TT=new t$(()=>new s$,t=>t.reset());class s${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function o$(t){ne.setTimeout(()=>{throw t},0)}let yc,vc=!1,av=new i$,CT=()=>{const t=ne.Promise.resolve(void 0);yc=()=>{t.then(a$)}};var a$=()=>{for(var t;t=n$();){try{t.h.call(t.g)}catch(n){o$(n)}var e=TT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vc=!1};function jf(t,e){St.call(this),this.h=t||1,this.g=e||ne,this.j=Wt(this.qb,this),this.l=Date.now()}kt(jf,St);V=jf.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(lv(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){jf.$.N.call(this),lv(this),delete this.g};function cv(t,e,n){if(typeof t=="function")n&&(t=Wt(t,n));else if(t&&typeof t.handleEvent=="function")t=Wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function IT(t){t.g=cv(()=>{t.g=null,t.i&&(t.i=!1,IT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class l$ extends dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IT(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _c(t){dr.call(this),this.h=t,this.g={}}kt(_c,dr);var W1=[];function DT(t,e,n,i){Array.isArray(n)||(n&&(W1[0]=n.toString()),n=W1);for(var s=0;s<n.length;s++){var r=xT(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function MT(t){tv(t.g,function(e,n){this.g.hasOwnProperty(n)&&iv(e)},t),t.g={}}_c.prototype.N=function(){_c.$.N.call(this),MT(this)};_c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $f(){this.g=!0}$f.prototype.Ea=function(){this.g=!1};function c$(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");o=2<=f.length&&f[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function u$(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function Wo(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+d$(t,n)+(i?" "+i:"")})}function h$(t,e){t.info(function(){return"TIMEOUT: "+e})}$f.prototype.info=function(){};function d$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return ov(n)}catch{return e}}var lo={},H1=null;function Uf(){return H1=H1||new St}lo.Ta="serverreachability";function AT(t){Ht.call(this,lo.Ta,t)}kt(AT,Ht);function wc(t){const e=Uf();It(e,new AT(e))}lo.STAT_EVENT="statevent";function RT(t,e){Ht.call(this,lo.STAT_EVENT,t),this.stat=e}kt(RT,Ht);function en(t){const e=Uf();It(e,new RT(e,t))}lo.Ua="timingevent";function PT(t,e){Ht.call(this,lo.Ua,t),this.size=e}kt(PT,Ht);function Qc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}var zf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uv(){}uv.prototype.h=null;function Y1(t){return t.h||(t.h=t.i())}function NT(){}var Xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hv(){Ht.call(this,"d")}kt(hv,Ht);function dv(){Ht.call(this,"c")}kt(dv,Ht);var ay;function Vf(){}kt(Vf,uv);Vf.prototype.g=function(){return new XMLHttpRequest};Vf.prototype.i=function(){return{}};ay=new Vf;function Jc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new _c(this),this.P=f$,t=ny?125:void 0,this.V=new jf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LT}function LT(){this.i=null,this.g="",this.h=!1}var f$=45e3,ly={},Fd={};V=Jc.prototype;V.setTimeout=function(t){this.P=t};function cy(t,e,n){t.L=1,t.v=Wf(ss(e)),t.s=n,t.S=!0,FT(t,null)}function FT(t,e){t.G=Date.now(),Zc(t),t.A=ss(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),HT(n.i,"t",i),t.C=0,n=t.l.J,t.h=new LT,t.g=dC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new l$(Wt(t.Pa,t,t.g),t.O)),DT(t.U,t.g,"readystatechange",t.nb),e=t.I?_T(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wc(),c$(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&ui(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const h=ui(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||ny||this.g&&(this.h.h||this.g.ja()||Q1(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?wc(3):wc(2)),Bf(this);var n=this.g.da();this.ca=n;t:if(jT(this)){var i=Q1(this.g);t="";var s=i.length,r=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Nl(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,u$(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mc(a)){var c=a;break t}}c=null}if(n=c)Wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uy(this,n);else{this.i=!1,this.o=3,en(12),Rr(this),Nl(this);break e}}this.S?($T(this,h,o),ny&&this.i&&h==3&&(DT(this.U,this.V,"tick",this.mb),this.V.start())):(Wo(this.j,this.m,o,null),uy(this,o)),h==4&&Rr(this),this.i&&!this.J&&(h==4?lC(this.l,this):(this.i=!1,Zc(this)))}else O$(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),Rr(this),Nl(this)}}}catch{}finally{}};function jT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function $T(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=p$(t,n),s==Fd){e==4&&(t.o=4,en(14),i=!1),Wo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==ly){t.o=4,en(15),Wo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Wo(t.j,t.m,s,null),uy(t,s);jT(t)&&s!=Fd&&s!=ly&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,en(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vv(e),e.M=!0,en(11))):(Wo(t.j,t.m,n,"[Invalid Chunked Response]"),Rr(t),Nl(t))}V.mb=function(){if(this.g){var t=ui(this.g),e=this.g.ja();this.C<e.length&&(Bf(this),$T(this,t,e),this.i&&t!=4&&Zc(this))}};function p$(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Fd:(n=Number(e.substring(n,i)),isNaN(n)?ly:(i+=1,i+n>e.length?Fd:(e=e.slice(i,i+n),t.C=i+n,e)))}V.cancel=function(){this.J=!0,Rr(this)};function Zc(t){t.Y=Date.now()+t.P,UT(t,t.P)}function UT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Qc(Wt(t.lb,t),e)}function Bf(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(h$(this.j,this.A),this.L!=2&&(wc(),en(17)),Rr(this),this.o=2,Nl(this)):UT(this,this.Y-t)};function Nl(t){t.l.H==0||t.J||lC(t.l,t)}function Rr(t){Bf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lv(t.V),MT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function uy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hy(n.i,t))){if(!t.K&&hy(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ud(n),Gf(n);else break e;yv(n),en(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qc(Wt(n.ib,n),6e3));if(1>=KT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pr(n,11)}else if((t.K||n.g==t)&&Ud(n),!mc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=c[5];p!=null&&typeof p=="number"&&0<p&&(i=1.5*p,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var r=i.i;r.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(fv(r,r.h),r.h=null))}if(i.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Ne(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=hC(i,i.J?i.pa:null,i.Y),o.K){qT(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Bf(a),Zc(a)),i.g=o}else oC(i);0<n.j.length&&Kf(n)}else c[0]!="stop"&&c[0]!="close"||Pr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Pr(n,7):gv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}wc(4)}catch{}}function m$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Of(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function g$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Of(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function zT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Of(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=g$(t),i=m$(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var VT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function jr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof jr){this.h=t.h,jd(this,t.j),this.s=t.s,this.g=t.g,$d(this,t.m),this.l=t.l;var e=t.i,n=new xc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),G1(this,n),this.o=t.o}else t&&(e=String(t).match(VT))?(this.h=!1,jd(this,e[1]||"",!0),this.s=ml(e[2]||""),this.g=ml(e[3]||"",!0),$d(this,e[4]),this.l=ml(e[5]||"",!0),G1(this,e[6]||"",!0),this.o=ml(e[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}jr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gl(e,K1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gl(e,K1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gl(n,n.charAt(0)=="/"?w$:_$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gl(n,b$)),t.join("")};function ss(t){return new jr(t)}function jd(t,e,n){t.j=n?ml(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $d(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function G1(t,e,n){e instanceof xc?(t.i=e,S$(t.i,t.h)):(n||(e=gl(e,x$)),t.i=new xc(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Wf(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,v$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function v$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var K1=/[#\/\?@]/g,_$=/[#\?:]/g,w$=/[#\?]/g,x$=/[#\?@]/g,b$=/#/g;function xc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fr(t){t.g||(t.g=new Map,t.h=0,t.i&&y$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=xc.prototype;V.add=function(t,e){fr(this),this.i=null,t=Aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function BT(t,e){fr(t),e=Aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WT(t,e){return fr(t),e=Aa(t,e),t.g.has(e)}V.forEach=function(t,e){fr(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};V.ta=function(){fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};V.Z=function(t){fr(this);let e=[];if(typeof t=="string")WT(this,t)&&(e=e.concat(this.g.get(Aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return fr(this),this.i=null,t=Aa(this,t),WT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function HT(t,e,n){BT(t,e),0<n.length&&(t.i=null,t.g.set(Aa(t,e),Z0(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),t.push(s)}}return this.i=t.join("&")};function Aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function S$(t,e){e&&!t.j&&(fr(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(BT(this,i),HT(this,s,n))},t)),t.j=e}var k$=class{constructor(t,e){this.g=t,this.map=e}};function YT(t){this.l=t||E$,ne.PerformanceNavigationTiming?(t=ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var E$=10;function GT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KT(t){return t.h?1:t.g?t.g.size:0}function hy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fv(t,e){t.g?t.g.add(e):t.h=e}function qT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YT.prototype.cancel=function(){if(this.i=QT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function QT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Z0(t.i)}var T$=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function C$(){this.g=new T$}function I$(t,e,n){const i=n||"";try{zT(t,function(s,r){let o=s;Kc(s)&&(o=ov(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function D$(t,e){const n=new $f;if(ne.Image){const i=new Image;i.onload=ih(rh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ih(rh,n,i,"TestLoadImage: error",!1,e),i.onabort=ih(rh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ih(rh,n,i,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function rh(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function eu(t){this.l=t.fc||null,this.j=t.ob||!1}kt(eu,uv);eu.prototype.g=function(){return new Hf(this.l,this.j)};eu.prototype.i=function(t){return function(){return t}}({});function Hf(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Hf,St);var pv=0;V=Hf.prototype;V.open=function(t,e){if(this.readyState!=pv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bc(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tu(this)),this.readyState=pv};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function XT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tu(this):bc(this),this.readyState==3&&XT(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,tu(this))};V.Ya=function(t){this.g&&(this.response=t,tu(this))};V.ka=function(){this.g&&tu(this)};function tu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bc(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Hf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var M$=ne.JSON.parse;function Je(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JT,this.L=this.M=!1}kt(Je,St);var JT="",A$=/^https?$/i,R$=["POST","PUT"];V=Je.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ay.g(),this.C=this.u?Y1(this.u):Y1(ay),this.g.onreadystatechange=Wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){q1(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=ne.FormData&&t instanceof ne.FormData,!(0<=mT(R$,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tC(this),0<this.B&&((this.L=P$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.ua,this)):this.A=cv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){q1(this,r)}};function P$(t){return da&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof J0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function q1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZT(t),Yf(t)}function ZT(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),Yf(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yf(this,!0)),Je.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?eC(this):this.kb())};V.kb=function(){eC(this)};function eC(t){if(t.h&&typeof J0<"u"&&(!t.C[1]||ui(t)!=4||t.da()!=2)){if(t.v&&ui(t)==4)cv(t.La,0,t);else if(It(t,"readystatechange"),ui(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var s=String(t.I).match(VT)[1]||null;!s&&ne.self&&ne.self.location&&(s=ne.self.location.protocol.slice(0,-1)),i=!A$.test(s?s.toLowerCase():"")}n=i}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var r=2<ui(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",ZT(t)}}finally{Yf(t)}}}}function Yf(t,e){if(t.g){tC(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=i}catch{}}}function tC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function ui(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),M$(e)}};function Q1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O$(t){const e={};t=(t.g&&2<=ui(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(mc(t[i]))continue;var n=r$(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[s]||[];e[s]=r,r.push(n)}Jj(e,function(i){return i.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function nC(t){let e="";return tv(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function mv(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=nC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function el(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iC(t){this.Ga=0,this.j=[],this.l=new $f,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=el("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=el("baseRetryDelayMs",5e3,t),this.hb=el("retryDelaySeedMs",1e4,t),this.eb=el("forwardChannelMaxRetries",2,t),this.xa=el("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YT(t&&t.concurrentRequestLimit),this.Ja=new C$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=iC.prototype;V.ra=8;V.H=1;function gv(t){if(sC(t),t.H==3){var e=t.W++,n=ss(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),nu(t,n),e=new Jc(t,t.l,e),e.L=2,e.v=Wf(ss(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=dC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zc(e)}uC(t)}function Gf(t){t.g&&(vv(t),t.g.cancel(),t.g=null)}function sC(t){Gf(t),t.u&&(ne.clearTimeout(t.u),t.u=null),Ud(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ne.clearTimeout(t.m),t.m=null)}function Kf(t){if(!GT(t.i)&&!t.m){t.m=!0;var e=t.Na;yc||CT(),vc||(yc(),vc=!0),av.add(e,t),t.C=0}}function N$(t,e){return KT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qc(Wt(t.Na,t,e),cC(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Jc(this,this.l,t);let r=this.s;if(this.U&&(r?(r=_T(r),wT(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rC(this,s,e),n=ss(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),nu(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(nC(r)))+"&"+e:this.o&&mv(n,this.o,r)),fv(this.i,s),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),s.aa=!0,cy(s,n,null)):cy(s,n,e),this.H=2}}else this.H==3&&(t?X1(this,t):this.j.length==0||GT(this.i)||X1(this))};function X1(t,e){var n;e?n=e.m:n=t.W++;const i=ss(t.I);Ne(i,"SID",t.K),Ne(i,"RID",n),Ne(i,"AID",t.V),nu(t,i),t.o&&t.s&&mv(i,t.o,t.s),n=new Jc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fv(t.i,n),cy(n,i,e)}function nu(t,e){t.na&&tv(t.na,function(n,i){Ne(e,i,n)}),t.h&&zT({},function(n,i){Ne(e,i,n)})}function rC(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Wt(t.h.Va,t.h,t):null;e:{var s=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const h=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{I$(h,o,"req"+c+"_")}catch{i&&i(h)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function oC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yc||CT(),vc||(yc(),vc=!0),av.add(e,t),t.A=0}}function yv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qc(Wt(t.Ma,t),cC(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,aC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qc(Wt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Gf(this),aC(this))};function vv(t){t.B!=null&&(ne.clearTimeout(t.B),t.B=null)}function aC(t){t.g=new Jc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ss(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),nu(t,e),t.o&&t.s&&mv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Wf(ss(e)),n.s=null,n.S=!0,FT(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Gf(this),yv(this),en(19))};function Ud(t){t.v!=null&&(ne.clearTimeout(t.v),t.v=null)}function lC(t,e){var n=null;if(t.g==e){Ud(t),vv(t),t.g=null;var i=2}else if(hy(t.i,e))n=e.F,qT(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Uf(),It(i,new PT(i,n)),Kf(t)}else oC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&N$(t,e)||i==2&&yv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Pr(t,5);break;case 4:Pr(t,10);break;case 3:Pr(t,6);break;default:Pr(t,2)}}}function cC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Wt(t.pb,t);n||(n=new jr("//www.google.com/images/cleardot.gif"),ne.location&&ne.location.protocol=="http"||jd(n,"https"),Wf(n)),D$(n.toString(),i)}else en(2);t.H=0,t.h&&t.h.za(e),uC(t),sC(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function uC(t){if(t.H=0,t.ma=[],t.h){const e=QT(t.i);(e.length!=0||t.j.length!=0)&&(z1(t.ma,e),z1(t.ma,t.j),t.i.i.length=0,Z0(t.j),t.j.length=0),t.h.ya()}}function hC(t,e,n){var i=n instanceof jr?ss(n):new jr(n);if(i.g!="")e&&(i.g=e+"."+i.g),$d(i,i.m);else{var s=ne.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new jr(null);i&&jd(r,i),e&&(r.g=e),s&&$d(r,s),n&&(r.l=n),i=r}return n=t.F,e=t.Da,n&&e&&Ne(i,n,e),Ne(i,"VER",t.ra),nu(t,i),i}function dC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Je(new eu({ob:!0})):new Je(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function fC(){}V=fC.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function zd(){if(da&&!(10<=Number(Kj)))throw Error("Environmental error: no available transport.")}zd.prototype.g=function(t,e){return new Tn(t,e)};function Tn(t,e){St.call(this),this.g=new iC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!mc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ra(this)}kt(Tn,St);Tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=hC(t,null,t.Y),Kf(t)};Tn.prototype.close=function(){gv(this.g)};Tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ov(t),t=n);e.j.push(new k$(e.fb++,t)),e.H==3&&Kf(e)};Tn.prototype.N=function(){this.g.h=null,delete this.j,gv(this.g),delete this.g,Tn.$.N.call(this)};function pC(t){hv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(pC,hv);function mC(){dv.call(this),this.status=1}kt(mC,dv);function Ra(t){this.g=t}kt(Ra,fC);Ra.prototype.Ba=function(){It(this.g,"a")};Ra.prototype.Aa=function(t){It(this.g,new pC(t))};Ra.prototype.za=function(t){It(this.g,new mC)};Ra.prototype.ya=function(){It(this.g,"b")};function L$(){this.blockSize=-1}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(Xn,L$);Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Em(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var r=t.g[3],o=e+(r^n&(s^r))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^r&(n^s))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^r)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~r))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}Xn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,r=0;r<e;){if(s==0)for(;r<=n;)Em(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(i[s++]=t.charCodeAt(r++),s==this.blockSize){Em(this,i),s=0;break}}else for(;r<e;)if(i[s++]=t[r++],s==this.blockSize){Em(this,i),s=0;break}}this.h=s,this.i+=e};Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ce(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var r=t[s]|0;i&&r==e||(n[s]=r,i=!1)}this.g=n}var F$={};function _v(t){return-128<=t&&128>t?Hj(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function hi(t){if(isNaN(t)||!isFinite(t))return Jo;if(0>t)return Tt(hi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=dy;return new Ce(e,0)}function gC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tt(gC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hi(Math.pow(e,8)),i=Jo,s=0;s<t.length;s+=8){var r=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+r),e);8>r?(r=hi(Math.pow(e,r)),i=i.R(r).add(hi(o))):(i=i.R(n),i=i.add(hi(o)))}return i}var dy=4294967296,Jo=_v(0),fy=_v(1),J1=_v(16777216);V=Ce.prototype;V.ea=function(){if(On(this))return-Tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:dy+i)*e,e*=dy}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gi(this))return"0";if(On(this))return"-"+Tt(this).toString(t);for(var e=hi(Math.pow(t,6)),n=this,i="";;){var s=Bd(n,e).g;n=Vd(n,s.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Gi(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function On(t){return t.h==-1}V.X=function(t){return t=Vd(this,t),On(t)?-1:Gi(t)?0:1};function Tt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ce(n,~t.h).add(fy)}V.abs=function(){return On(this)?Tt(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var r=i+(this.D(s)&65535)+(t.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Vd(t,e){return t.add(Tt(e))}V.R=function(t){if(Gi(this)||Gi(t))return Jo;if(On(this))return On(t)?Tt(this).R(Tt(t)):Tt(Tt(this).R(t));if(On(t))return Tt(this.R(Tt(t)));if(0>this.X(J1)&&0>t.X(J1))return hi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*i+2*s]+=o*l,oh(n,2*i+2*s),n[2*i+2*s+1]+=r*l,oh(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,oh(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,oh(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ce(n,0)};function oh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tl(t,e){this.g=t,this.h=e}function Bd(t,e){if(Gi(e))throw Error("division by zero");if(Gi(t))return new tl(Jo,Jo);if(On(t))return e=Bd(Tt(t),e),new tl(Tt(e.g),Tt(e.h));if(On(e))return e=Bd(t,Tt(e)),new tl(Tt(e.g),e.h);if(30<t.g.length){if(On(t)||On(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fy,i=e;0>=i.X(t);)n=Z1(n),i=Z1(i);var s=To(n,1),r=To(i,1);for(i=To(i,2),n=To(n,2);!Gi(i);){var o=r.add(i);0>=o.X(t)&&(s=s.add(n),r=o),i=To(i,1),n=To(n,1)}return e=Vd(t,s.R(e)),new tl(s,e)}for(s=Jo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=hi(n),o=r.R(e);On(o)||0<o.X(t);)n-=i,r=hi(n),o=r.R(e);Gi(r)&&(r=fy),s=s.add(r),t=Vd(t,o)}return new tl(s,t)}V.gb=function(t){return Bd(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ce(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ce(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ce(n,this.h^t.h)};function Z1(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ce(n,t.h)}function To(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],r=0;r<i;r++)s[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new Ce(s,t.h)}zd.prototype.createWebChannel=zd.prototype.g;Tn.prototype.send=Tn.prototype.u;Tn.prototype.open=Tn.prototype.m;Tn.prototype.close=Tn.prototype.close;zf.NO_ERROR=0;zf.TIMEOUT=8;zf.HTTP_ERROR=6;OT.COMPLETE="complete";NT.EventType=Xc;Xc.OPEN="a";Xc.CLOSE="b";Xc.ERROR="c";Xc.MESSAGE="d";St.prototype.listen=St.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;Xn.prototype.digest=Xn.prototype.l;Xn.prototype.reset=Xn.prototype.reset;Xn.prototype.update=Xn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=hi;Ce.fromString=gC;var j$=function(){return new zd},$$=function(){return Uf()},Tm=zf,U$=OT,z$=lo,ex={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},V$=eu,ah=NT,B$=Je,W$=Xn,Zo=Ce;const tx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new q0("@firebase/firestore");function nx(){return Qr.logLevel}function K(t,...e){if(Qr.logLevel<=_e.DEBUG){const n=e.map(wv);Qr.debug(`Firestore (${Pa}): ${t}`,...n)}}function rs(t,...e){if(Qr.logLevel<=_e.ERROR){const n=e.map(wv);Qr.error(`Firestore (${Pa}): ${t}`,...n)}}function fa(t,...e){if(Qr.logLevel<=_e.WARN){const n=e.map(wv);Qr.warn(`Firestore (${Pa}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+t;throw rs(e),new Error(e)}function $e(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let J=class extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yC=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},H$=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}},Y$=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class G${constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Xs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new yC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new $t(e)}}let K$=class{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class q${constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new K$(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let Q$=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},X$=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=r=>{r.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?s(r):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new Q$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=J$(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function we(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ht(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new ht(0,0))}static max(){return new ie(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,i){n===void 0?n=0:n>e.length&&te(),i===void 0?i=e.length-n:i>e.length-n&&te(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Sc{construct(e,n,i){return new Ke(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Sc{construct(e,n,i){return new Vt(e,n,i)}static isValidIdentifier(e){return Z$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new J(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ke.fromString(e))}static fromName(e){return new Z(Ke.fromString(e).popFirst(5))}static empty(){return new Z(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ke(e.slice()))}}function e4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(i===1e9?new ht(n+1,0):new ht(n,i));return new ir(s,Z.empty(),e)}function t4(t){return new ir(t.readTime,t.key,-1)}class ir{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ir(ie.min(),Z.empty(),-1)}static max(){return new ir(ie.max(),Z.empty(),-1)}}function n4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==i4)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,i)=>{n(e)})}static reject(e){return new $((n,i)=>{i(e)})}static waitFor(e){return new $((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=$.resolve(!1);for(const i of e)n=n.next(s=>s?$.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new $((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===r&&i(o)},h=>s(h))}})}static doWhile(e,n){return new $((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}xv.ct=-1;function qf(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function r4(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _C(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dt=class py{constructor(e,n){this.comparator=e,this.root=n||Js.EMPTY}insert(e,n){return new py(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new py(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}},lh=class{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Js=class ji{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??ji.RED,this.left=s??ji.EMPTY,this.right=r??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new ji(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ji.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1;Js.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(t,e,n,i,s){return this}insert(t,e,n){return new Js(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kn=class my{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sx(this.data.getIterator())}getIteratorFrom(e){return new sx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof my)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new my(this.comparator);return n.data=e,n}},sx=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di=class gy{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new gy([])}unionWith(e){let n=new kn(Vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new gy(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,i)=>n.isEqual(i))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wC("Invalid base64 string: "+s):s}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const o4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(t){if($e(!!t),typeof t=="string"){let e=0;const n=o4.exec(t);if($e(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sv(t){const e=t.mapValue.fields.__previous_value__;return bv(e)?Sv(e):e}function kc(t){const e=sr(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,i,s,r,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bv(t)?4:l4(t)?9007199254740991:10:te()}function ki(t,e){if(t===e)return!0;const n=Jr(t);if(n!==Jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=sr(i.timestampValue),o=sr(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xr(i.bytesValue).isEqual(Xr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=ct(i.doubleValue),o=ct(s.doubleValue);return r===o?Wd(r)===Wd(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(ix(r)!==ix(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!ki(r[a],o[a])))return!1;return!0}(t,e);default:return te()}}function Tc(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function ma(t,e){if(t===e)return 0;const n=Jr(t),i=Jr(e);if(n!==i)return we(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,r){const o=ct(s.integerValue||s.doubleValue),a=ct(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return rx(t.timestampValue,e.timestampValue);case 4:return rx(kc(t),kc(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,r){const o=Xr(s),a=Xr(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=we(o[l],a[l]);if(c!==0)return c}return we(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,r){const o=we(ct(s.latitude),ct(r.latitude));return o!==0?o:we(ct(s.longitude),ct(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ma(o[l],a[l]);if(c)return c}return we(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,r){if(s===ch.mapValue&&r===ch.mapValue)return 0;if(s===ch.mapValue)return 1;if(r===ch.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let h=0;h<a.length&&h<c.length;++h){const f=we(a[h],c[h]);if(f!==0)return f;const p=ma(o[a[h]],l[c[h]]);if(p!==0)return p}return we(a.length,c.length)}(t.mapValue,e.mapValue);default:throw te()}}function rx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=sr(t),i=sr(e),s=we(n.seconds,i.seconds);return s!==0?s:we(n.nanos,i.nanos)}function ga(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=sr(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=yy(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${yy(i.fields[a])}`;return r+"}"}(t.mapValue):te();var e,n}function vy(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function ox(t){return!!t&&"nullValue"in t}function ax(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function Ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ll(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Vt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Ll(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){co(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new ln(Ll(this.value))}}function xC(t){const e=[];return co(t.fields,(n,i)=>{const s=new Vt([n]);if(Wh(i)){const r=xC(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,i,s,r,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ie.min(),ie.min(),ie.min(),ln.empty(),0)}static newFoundDocument(e,n,i,s){return new zt(e,1,n,ie.min(),i,s,0)}static newNoDocument(e,n){return new zt(e,2,n,ie.min(),ie.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ie.min(),ie.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.position=e,this.inclusive=n}}function lx(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=Z.comparator(Z.fromName(o.referenceValue),n.key):i=ma(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function cx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function c4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{}class gt extends bC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new h4(e,n,i):n==="array-contains"?new p4(e,i):n==="in"?new m4(e,i):n==="not-in"?new g4(e,i):n==="array-contains-any"?new y4(e,i):new gt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new d4(e,i):new f4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ei extends bC{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ei(e,n)}matches(e){return SC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function SC(t){return t.op==="and"}function kC(t){return u4(t)&&SC(t)}function u4(t){for(const e of t.filters)if(e instanceof Ei)return!1;return!0}function _y(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(kC(t))return t.filters.map(e=>_y(e)).join(",");{const e=t.filters.map(n=>_y(n)).join(",");return`${t.op}(${e})`}}function EC(t,e){return t instanceof gt?function(n,i){return i instanceof gt&&n.op===i.op&&n.field.isEqual(i.field)&&ki(n.value,i.value)}(t,e):t instanceof Ei?function(n,i){return i instanceof Ei&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,r,o)=>s&&EC(r,i.filters[o]),!0):!1}(t,e):void te()}function TC(t){return t instanceof gt?function(e){return`${e.field.canonicalString()} ${e.op} ${ga(e.value)}`}(t):t instanceof Ei?function(e){return e.op.toString()+" {"+e.getFilters().map(TC).join(" ,")+"}"}(t):"Filter"}class h4 extends gt{constructor(e,n,i){super(e,n,i),this.key=Z.fromName(i.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class d4 extends gt{constructor(e,n){super(e,"in",n),this.keys=CC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f4 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=CC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class p4 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kv(n)&&Tc(n.arrayValue,this.value)}}class m4 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class g4 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tc(this.value.arrayValue,n)}}class y4 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Tc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.dt=null}}function ux(t,e=null,n=[],i=[],s=null,r=null,o=null){return new v4(t,e,n,i,s,r,o)}function Ev(t){const e=re(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>_y(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ga(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ga(i)).join(",")),e.dt=n}return e.dt}function Tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cx(t.startAt,e.startAt)&&cx(t.endAt,e.endAt)}function wy(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function _4(t,e,n,i,s,r,o,a){return new Qf(t,e,n,i,s,r,o,a)}function Xf(t){return new Qf(t)}function hx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w4(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function x4(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function b4(t){return t.collectionGroup!==null}function ea(t){const e=re(t);if(e.wt===null){e.wt=[];const n=x4(e),i=w4(e);if(n!==null&&i===null)n.isKeyField()||e.wt.push(new Fl(n)),e.wt.push(new Fl(Vt.keyField(),"asc"));else{let s=!1;for(const r of e.explicitOrderBy)e.wt.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Fl(Vt.keyField(),r))}}}return e.wt}function os(t){const e=re(t);if(!e._t)if(e.limitType==="F")e._t=ux(e.path,e.collectionGroup,ea(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of ea(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new Fl(r.field,o))}const i=e.endAt?new Hd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Hd(e.startAt.position,e.startAt.inclusive):null;e._t=ux(e.path,e.collectionGroup,n,e.filters,e.limit,i,s)}return e._t}function xy(t,e,n){return new Qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return Tv(os(t),os(e))&&t.limitType===e.limitType}function IC(t){return`${Ev(os(t))}|lt:${t.limitType}`}function by(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>TC(i)).join(", ")}]`),qf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ga(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ga(i)).join(",")),`Target(${n})`}(os(t))}; limitType=${t.limitType})`}function Zf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Z.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of ea(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=lx(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,ea(n),i)||n.endAt&&!function(s,r,o){const a=lx(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,ea(n),i))}(t,e)}function S4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DC(t){return(e,n)=>{let i=!1;for(const s of ea(t)){const r=k4(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function k4(t,e,n){const i=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?ma(a,l):te()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return _C(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new dt(Z.comparator);function as(){return E4}const MC=new dt(Z.comparator);function yl(...t){let e=MC;for(const n of t)e=e.insert(n.key,n);return e}function AC(t){let e=MC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Or(){return jl()}function RC(){return jl()}function jl(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const T4=new dt(Z.comparator),C4=new kn(Z.comparator);function ue(...t){let e=C4;for(const n of t)e=e.add(n);return e}const I4=new kn(we);function D4(){return I4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function OC(t){return{integerValue:""+t}}function M4(t,e){return r4(e)?OC(e):PC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function A4(t,e,n){return t instanceof Yd?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bv(s)&&(s=Sv(s)),s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,e):t instanceof Cc?LC(t,e):t instanceof Ic?FC(t,e):function(i,s){const r=NC(i,s),o=dx(r)+dx(i.gt);return vy(r)&&vy(i.gt)?OC(o):PC(i.serializer,o)}(t,e)}function R4(t,e,n){return t instanceof Cc?LC(t,e):t instanceof Ic?FC(t,e):n}function NC(t,e){return t instanceof Gd?vy(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Yd extends ep{}class Cc extends ep{constructor(e){super(),this.elements=e}}function LC(t,e){const n=jC(e);for(const i of t.elements)n.some(s=>ki(s,i))||n.push(i);return{arrayValue:{values:n}}}class Ic extends ep{constructor(e){super(),this.elements=e}}function FC(t,e){let n=jC(e);for(const i of t.elements)n=n.filter(s=>!ki(s,i));return{arrayValue:{values:n}}}class Gd extends ep{constructor(e,n){super(),this.serializer=e,this.gt=n}}function dx(t){return ct(t.integerValue||t.doubleValue)}function jC(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P4(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Cc&&i instanceof Cc||n instanceof Ic&&i instanceof Ic?pa(n.elements,i.elements,ki):n instanceof Gd&&i instanceof Gd?ki(n.gt,i.gt):n instanceof Yd&&i instanceof Yd}(t.transform,e.transform)}class O4{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function $C(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zC(t.key,vi.none()):new ru(t.key,t.data,vi.none());{const n=t.data,i=ln.empty();let s=new kn(Vt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new pr(t.key,i,new di(s.toArray()),vi.none())}}function N4(t,e,n){t instanceof ru?function(i,s,r){const o=i.value.clone(),a=px(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pr?function(i,s,r){if(!Hh(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=px(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(UC(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function $l(t,e,n,i){return t instanceof ru?function(s,r,o,a){if(!Hh(s.precondition,r))return o;const l=s.value.clone(),c=mx(s.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof pr?function(s,r,o,a){if(!Hh(s.precondition,r))return o;const l=mx(s.fieldTransforms,a,r),c=r.data;return c.setAll(UC(s)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,r,o){return Hh(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function L4(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=NC(i.transform,s||null);r!=null&&(n===null&&(n=ln.empty()),n.set(i.field,r))}return n||null}function fx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&pa(n,i,(s,r)=>P4(s,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ru extends tp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pr extends tp{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function UC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function px(t,e,n){const i=new Map;$e(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,R4(o,a,n[s]))}return i}function mx(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,A4(r,o,e))}return i}class zC extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F4 extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&N4(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=$l(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=$l(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=RC();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=$C(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,i)=>fx(n,i))&&pa(this.baseMutations,e.baseMutations,(n,i)=>fx(n,i))}}class Cv{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){$e(e.mutations.length===i.length);let s=T4;const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Cv(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,pe;function z4(t){switch(t){default:return te();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function VC(t){if(t===void 0)return rs("GRPC error has no .code"),L.UNKNOWN;switch(t){case lt.OK:return L.OK;case lt.CANCELLED:return L.CANCELLED;case lt.UNKNOWN:return L.UNKNOWN;case lt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case lt.INTERNAL:return L.INTERNAL;case lt.UNAVAILABLE:return L.UNAVAILABLE;case lt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case lt.NOT_FOUND:return L.NOT_FOUND;case lt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case lt.ABORTED:return L.ABORTED;case lt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case lt.DATA_LOSS:return L.DATA_LOSS;default:return te()}}(pe=lt||(lt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return uh}static getOrCreateInstance(){return uh===null&&(uh=new Iv),uh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let uh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Zo([4294967295,4294967295],0);function gx(t){const e=V4().encode(t),n=new W$;return n.update(e),new Uint8Array(n.digest())}function yx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Zo([n,i],0),new Zo([s,r],0)]}class Dv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(i<0)throw new vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zo.fromNumber(this.It)}Et(e,n,i){let s=e.add(n.multiply(Zo.fromNumber(i)));return s.compare(B4)===1&&(s=new Zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=gx(e),[i,s]=yx(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(i,s,r);if(!this.At(o))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Dv(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=gx(e),[i,s]=yx(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(i,s,r);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new np(ie.min(),s,new dt(we),as(),ue())}}class ou{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ou(i,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,i,s){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=s}}class BC{constructor(e,n){this.targetId=e,this.Vt=n}}class WC{constructor(e,n,i=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class vx{constructor(){this.St=0,this.Dt=wx(),this.Ct=Kt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),n=ue(),i=ue();return this.Dt.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:te()}}),new ou(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=wx()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class W4{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=as(),this.zt=_x(),this.Wt=new dt(we)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,s)=>{this.te(s)&&n(s)})}ne(e){var n;const i=e.targetId,s=e.Vt.count,r=this.se(i);if(r){const o=r.target;if(wy(o))if(s===0){const a=new Z(o.path);this.Yt(i,a,zt.newNoDocument(a,ie.min()))}else $e(s===1);else{const a=this.ie(i);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(i);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,c)}(n=Iv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,h,f){var p,g,v,_,w,S;const x={localCacheCount:h,existenceFilterCount:f.count},E=f.unchangedNames;return E&&(x.bloomFilter={applied:c===0,hashCount:(p=E==null?void 0:E.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(_=(v=(g=E==null?void 0:E.bits)===null||g===void 0?void 0:g.bitmap)===null||v===void 0?void 0:v.length)!==null&&_!==void 0?_:0,padding:(S=(w=E==null?void 0:E.bits)===null||w===void 0?void 0:w.padding)!==null&&S!==void 0?S:0}),x}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:s}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Xr(r).toUint8Array()}catch(h){if(h instanceof wC)return fa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{c=new Dv(l,o,a)}catch(h){return fa(h instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let s=0;return i.forEach(r=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;n.vt(a)||(this.Yt(e,r,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((r,o)=>{const a=this.se(o);if(a){if(r.current&&wy(a.target)){const l=new Z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,zt.newNoDocument(l,e))}r.Mt&&(n.set(o,r.Ot()),r.Ft())}});let i=ue();this.zt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.jt.forEach((r,o)=>o.setReadTime(e));const s=new np(e,n,this.Wt,this.jt,i);return this.jt=as(),this.zt=_x(),this.Wt=new dt(we),s}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new vx,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new kn(we),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vx),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function _x(){return new dt(Z.comparator)}function wx(){return new dt(Z.comparator)}const H4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Y4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),G4=(()=>({and:"AND",or:"OR"}))();class K4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sy(t,e){return t.useProto3Json||qf(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q4(t,e){return Kd(t,e.toTimestamp())}function _i(t){return $e(!!t),ie.fromTimestamp(function(e){const n=sr(e);return new ht(n.seconds,n.nanos)}(t))}function Mv(t,e){return function(n){return new Ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function YC(t){const e=Ke.fromString(t);return $e(QC(e)),e}function ky(t,e){return Mv(t.databaseId,e.path)}function Cm(t,e){const n=YC(e);if(n.get(1)!==t.databaseId.projectId)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(GC(n))}function Ey(t,e){return Mv(t.databaseId,e)}function Q4(t){const e=YC(t);return e.length===4?Ke.emptyPath():GC(e)}function Ty(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GC(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xx(t,e,n){return{name:ky(t,e),fields:n.value.mapValue.fields}}function X4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(l,c){return l.useProto3Json?($e(c===void 0||typeof c=="string"),Kt.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?L.UNKNOWN:VC(l.code);return new J(c,l.message||"")}(o);n=new WC(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cm(t,i.document.name),r=_i(i.document.updateTime),o=i.document.createTime?_i(i.document.createTime):ie.min(),a=new ln({mapValue:{fields:i.document.fields}}),l=zt.newFoundDocument(s,r,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Yh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cm(t,i.document),r=i.readTime?_i(i.readTime):ie.min(),o=zt.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cm(t,i.document),r=i.removedTargetIds||[];n=new Yh([],r,s,null)}else{if(!("filter"in e))return te();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new U4(s,r),a=i.targetId;n=new BC(a,o)}}return n}function J4(t,e){let n;if(e instanceof ru)n={update:xx(t,e.key,e.value)};else if(e instanceof zC)n={delete:ky(t,e.key)};else if(e instanceof pr)n={update:xx(t,e.key,e.data),updateMask:aU(e.fieldMask)};else{if(!(e instanceof F4))return te();n={verify:ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof Yd)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cc)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ic)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gd)return{fieldPath:r.field.canonicalString(),increment:o.gt};throw te()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:q4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function Z4(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(i,s){let r=i.updateTime?_i(i.updateTime):_i(s);return r.isEqual(ie.min())&&(r=_i(s)),new O4(r,i.transformResults||[])}(n,e))):[]}function eU(t,e){return{documents:[Ey(t,e.path)]}}function tU(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Ey(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ey(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return qC(Ei.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Mo(h.field),direction:sU(h.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=Sy(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function nU(t){let e=Q4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){$e(i===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(h){const f=KC(h);return f instanceof Ei&&kC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(f){return new Fl(Ao(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h)));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Hd(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Hd(p,f)}(n.endAt)),_4(e,s,o,r,a,"F",l,c)}function iU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ao(e.unaryFilter.field);return gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ao(e.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ao(e.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ao(e.unaryFilter.field);return gt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(e){return gt.create(Ao(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ei.create(e.compositeFilter.filters.map(n=>KC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return te()}}(e.compositeFilter.op))}(t):te()}function sU(t){return H4[t]}function rU(t){return Y4[t]}function oU(t){return G4[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Ao(t){return Vt.fromServerFormat(t.fieldPath)}function qC(t){return t instanceof gt?function(e){if(e.op==="=="){if(ax(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NAN"}};if(ox(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ax(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NAN"}};if(ox(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(e.field),op:rU(e.op),value:e.value}}}(t):t instanceof Ei?function(e){const n=e.getFilters().map(i=>qC(i));return n.length===1?n[0]:{compositeFilter:{op:oU(e.op),filters:n}}}(t):te()}function aU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,i,s,r=ie.min(),o=ie.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.fe=e}}function cU(t){const e=nU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.rn=new hU}addToCollectionParentIndex(e,n){return this.rn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ir.min())}updateCollectionGroup(e,n,i){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class hU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new kn(Ke.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new kn(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ya(0)}static Mn(){return new ya(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&$l(i.mutation,s,di.empty(),ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ue()){const s=Or();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=yl();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ue()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=as();const o=jl(),a=jl();return n.forEach((l,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof pr)?r=r.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),$l(h.mutation,c,h.mutation.getFieldMask(),ht.now())):o.set(c.key,di.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new fU(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=jl();let s=new dt((o,a)=>o-a),r=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||di.empty();h=a.applyToLocalView(c,h),i.set(l,h);const f=(s.get(a.batchId)||ue()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=RC();h.forEach(p=>{if(!r.has(p)){const g=$C(n.get(p),i.get(p));g!==null&&f.set(p,g),r=r.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):$.resolve(Or());let a=-1,l=r;return o.next(c=>$.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),r.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,ue())).next(h=>({batchId:a,changes:AC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(i=>{let s=yl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const s=n.collectionGroup;let r=yl();return this.indexManager.getCollectionParents(e,s).next(o=>$.forEach(o,a=>{const l=function(c,h){return new Qf(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((h,f)=>{r=r.insert(h,f)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,zt.newInvalidDocument(c)))});let o=yl();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&$l(c.mutation,l,di.empty(),ht.now()),Zf(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:_i(i.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(i){return{name:i.name,query:cU(i.bundledQuery),readTime:_i(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.overlays=new dt(Z.comparator),this.ls=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Or();return $.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.we(e,n,r)}),$.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.ls.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.ls.delete(i)),$.resolve()}getOverlaysForCollection(e,n,i){const s=Or(),r=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new dt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=Or(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Or(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return $.resolve(a)}we(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(i.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new $4(n,i));let r=this.ls.get(n);r===void 0&&(r=ue(),this.ls.set(n,r)),this.ls.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.fs=new kn(_t.ds),this.ws=new kn(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new _t(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new Z(new Ke([])),i=new _t(n,e),s=new _t(n,e+1),r=[];return this.ws.forEachInRange([i,s],o=>{this.ys(o),r.push(o.key)}),r}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Z(new Ke([])),i=new _t(n,e),s=new _t(n,e+1);let r=ue();return this.ws.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new _t(e,0),i=this.fs.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Z.comparator(e.key,n.key)||we(e.As,n.As)}static _s(e,n){return we(e.As,n.As)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new kn(_t.ds)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new j4(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new _t(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.bs(i),r=s<0?0:s;return $.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([i,s],o=>{const a=this.Ps(o.As);r.push(a)}),$.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new kn(we);return n.forEach(s=>{const r=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([r,o],a=>{i=i.add(a.As)})}),$.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Z.isDocumentKey(r)||(r=r.child(""));const o=new _t(new Z(r),0);let a=new kn(we);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},o),$.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(i=>{const s=this.Ps(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){$e(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return $.forEach(n.mutations,s=>{const r=new _t(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new _t(n,0),s=this.Rs.firstAfterOrEqual(i);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.Ds=e,this.docs=new dt(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let i=as();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():zt.newInvalidDocument(s))}),$.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=as();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||n4(t4(h),i)<=0||(s.has(h.key)||Zf(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return $.resolve(r)}getAllFromCollectionGroup(e,n,i,s){te()}Cs(e,n){return $.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _U(this)}getSize(e){return $.resolve(this.size)}}class _U extends dU{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(i)}),$.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.persistence=e,this.xs=new Oa(n=>Ev(n),Tv),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Av,this.targetCount=0,this.Ms=ya.kn()}forEachTarget(e,n){return this.xs.forEach((i,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),$.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Fn(n),$.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.xs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(r).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return $.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),$.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return $.resolve(i)}containsKey(e,n){return $.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.$s={},this.overlays={},this.Os=new xv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wU(this),this.indexManager=new uU,this.remoteDocumentCache=function(i){return new vU(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new lU(n),this.qs=new mU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new yU(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){K("MemoryPersistence","Starting transaction:",e);const s=new bU(this.Os.next());return this.referenceDelegate.Us(),i(s).next(r=>this.referenceDelegate.Ks(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Gs(e,n){return $.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class bU extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.Qs=new Av,this.js=null}static zs(e){return new Rv(e)}get Ws(){if(this.js)return this.js;throw te()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),$.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Ws.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ws,i=>{const s=Z.fromPath(i);return this.Hs(e,s).next(r=>{r||n.removeEntry(s,ie.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $.or([()=>$.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=s}static Li(e,n){let i=ue(),s=ue();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Pv(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,s){return this.Ki(e,n).next(r=>r||this.Gi(e,n,s,i)).next(r=>r||this.Qi(e,n))}Ki(e,n){if(hx(n))return $.resolve(null);let i=os(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xy(n,null,"F"),i=os(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=ue(...r);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,xy(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,i,s){return hx(n)||s.isEqual(ie.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(r=>{const o=this.ji(n,r);return this.zi(n,o,i,s)?this.Qi(e,n):(nx()<=_e.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),by(n)),this.Wi(e,o,n,e4(s,-1)))})}ji(e,n){let i=new kn(DC(e));return n.forEach((s,r)=>{Zf(e,r)&&(i=i.add(r))}),i}zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Qi(e,n){return nx()<=_e.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",by(n)),this.Ui.getDocumentsMatchingQuery(e,n,ir.min())}Wi(e,n,i,s){return this.Ui.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n,i,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new dt(we),this.Yi=new Oa(r=>Ev(r),Tv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function EU(t,e,n,i){return new kU(t,e,n,i)}async function XC(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=ue();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function TU(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const h=l.batch,f=h.keys();let p=$.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(a,g)).next(v=>{const _=l.docVersions.get(g);$e(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=ue();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function JC(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function CU(t,e){const n=re(t),i=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(r,h.addedDocuments,f)));let g=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(f,g),function(v,_,w){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(n.Bs.updateTargetData(r,g))});let l=as(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),a.push(IU(r,o,e.documentUpdates).next(h=>{l=h.nr,c=h.sr})),!i.isEqual(ie.min())){const h=n.Bs.getLastRemoteSnapshotVersion(r).next(f=>n.Bs.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(h)}return $.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function IU(t,e,n){let i=ue(),s=ue();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=as();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:s}})}function DU(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function MU(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Bs.getTargetData(i,e).next(r=>r?(s=r,$.resolve(s)):n.Bs.allocateTargetId(i).next(o=>(s=new Ns(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function Cy(t,e,n){const i=re(t),s=i.Ji.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!su(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(s.target)}function bx(t,e,n){const i=re(t);let s=ie.min(),r=ue();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const h=re(a),f=h.Yi.get(c);return f!==void 0?$.resolve(h.Ji.get(f)):h.Bs.getTargetData(l,c)}(i,o,os(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?r:ue())).next(a=>(AU(i,S4(e),a),{documents:a,ir:r})))}function AU(t,e,n){let i=t.Xi.get(e)||ie.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Xi.set(e,i)}class Sx{constructor(){this.activeTargetIds=D4()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RU{constructor(){this.Hr=new Sx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Sx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Im(){return hh===null?hh=268435456+Math.round(2147483648*Math.random()):hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class LU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,s,r){const o=Im(),a=this.To(e,n);K("RestConnection",`Sending RPC '${e}' ${o}:`,a,i);const l={};return this.Eo(l,s,r),this.Ao(e,a,l,i).then(c=>(K("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw fa("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,n,i,s,r,o){return this.Io(e,n,i,s,r)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}To(e,n){const i=OU[e];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,s){const r=Im();return new Promise((o,a)=>{const l=new B$;l.setWithCredentials(!0),l.listenOnce(U$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tm.NO_ERROR:const h=l.getResponseJson();K(Nt,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(h)),o(h);break;case Tm.TIMEOUT:K(Nt,`RPC '${e}' ${r} timed out`),a(new J(L.DEADLINE_EXCEEDED,"Request time out"));break;case Tm.HTTP_ERROR:const f=l.getStatus();if(K(Nt,`RPC '${e}' ${r} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(w)>=0?w:L.UNKNOWN}(g.status);a(new J(v,g.message))}else a(new J(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(L.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{K(Nt,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(s);K(Nt,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}Ro(e,n,i){const s=Im(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=j$(),a=$$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new V$({})),this.Eo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=r.join("");K(Nt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const v=new NU({ro:w=>{g?K(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(K(Nt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),K(Nt,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},oo:()=>f.close()}),_=(w,S,x)=>{w.listen(S,E=>{try{x(E)}catch(T){setTimeout(()=>{throw T},0)}})};return _(f,ah.EventType.OPEN,()=>{g||K(Nt,`RPC '${e}' stream ${s} transport opened.`)}),_(f,ah.EventType.CLOSE,()=>{g||(g=!0,K(Nt,`RPC '${e}' stream ${s} transport closed`),v.wo())}),_(f,ah.EventType.ERROR,w=>{g||(g=!0,fa(Nt,`RPC '${e}' stream ${s} transport errored:`,w),v.wo(new J(L.UNAVAILABLE,"The operation could not be completed")))}),_(f,ah.EventType.MESSAGE,w=>{var S;if(!g){const x=w.data[0];$e(!!x);const E=x,T=E.error||((S=E[0])===null||S===void 0?void 0:S.error);if(T){K(Nt,`RPC '${e}' stream ${s} received error:`,T);const I=T.status;let M=function(A){const N=lt[A];if(N!==void 0)return VC(N)}(I),R=T.message;M===void 0&&(M=L.INTERNAL,R="Unknown error status: "+I+" with message "+T.message),g=!0,v.wo(new J(M,R)),f.close()}else K(Nt,`RPC '${e}' stream ${s} received:`,x),v._o(x)}}),_(a,z$.STAT_EVENT,w=>{w.stat===ex.PROXY?K(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===ex.NOPROXY&&K(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){return new K4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,i=1e3,s=1.5,r=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=s,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-i);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,i,s,r,o,a,l){this.ii=e,this.$o=i,this.Oo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZC(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Fo===n&&this.Zo(i,s)},i=>{e(()=>{const s=new J(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(s)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{i(()=>this.tu(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FU extends eI{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=X4(this.serializer,e),i=function(s){if(!("targetChange"in s))return ie.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?ie.min():r.readTime?_i(r.readTime):ie.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=Ty(this.serializer),n.addTarget=function(s,r){let o;const a=r.target;if(o=wy(a)?{documents:eU(s,a)}:{query:tU(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=HC(s,r.resumeToken);const l=Sy(s,r.expectedCount);l!==null&&(o.expectedCount=l)}else if(r.snapshotVersion.compareTo(ie.min())>0){o.readTime=Kd(s,r.snapshotVersion.toTimestamp());const l=Sy(s,r.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const i=iU(this.serializer,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.Wo(n)}}class jU extends eI{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=Z4(e.writeResults,e.commitTime),i=_i(e.commitTime);return this.listener.cu(i,n)}return $e(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ty(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>J4(this.serializer,i))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Io(e,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(L.UNKNOWN,s.toString())})}vo(e,n,i,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.vo(e,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(L.UNKNOWN,r.toString())})}terminate(){this.lu=!0}}class UU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rs(n),this.mu=!1):K("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr(o=>{i.enqueueAndForget(async()=>{uo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=re(a);l.vu.add(4),await au(l),l.bu.set("Unknown"),l.vu.delete(4),await sp(l)}(this))})}),this.bu=new UU(i,s)}}async function sp(t){if(uo(t))for(const e of t.Ru)await e(!0)}async function au(t){for(const e of t.Ru)await e(!1)}function tI(t,e){const n=re(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Lv(n)?Nv(n):Na(n).Ko()&&Ov(n,e))}function nI(t,e){const n=re(t),i=Na(n);n.Au.delete(e),i.Ko()&&iI(n,e),n.Au.size===0&&(i.Ko()?i.jo():uo(n)&&n.bu.set("Unknown"))}function Ov(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).su(e)}function iI(t,e){t.Vu.qt(e),Na(t).iu(e)}function Nv(t){t.Vu=new W4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.bu.gu()}function Lv(t){return uo(t)&&!Na(t).Uo()&&t.Au.size>0}function uo(t){return re(t).vu.size===0}function sI(t){t.Vu=void 0}async function VU(t){t.Au.forEach((e,n)=>{Ov(t,e)})}async function BU(t,e){sI(t),Lv(t)?(t.bu.Iu(e),Nv(t)):t.bu.set("Unknown")}async function WU(t,e,n){if(t.bu.set("Online"),e instanceof WC&&e.state===2&&e.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i.Au.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i.Au.delete(o),i.Vu.removeTarget(o))}(t,e)}catch(i){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qd(t,i)}else if(e instanceof Yh?t.Vu.Ht(e):e instanceof BC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ie.min()))try{const i=await JC(t.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.Vu.ce(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach((a,l)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),iI(s,a);const h=new Ns(c.target,a,l,c.sequenceNumber);Ov(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){K("RemoteStore","Failed to raise snapshot:",i),await qd(t,i)}}async function qd(t,e,n){if(!su(e))throw e;t.vu.add(1),await au(t),t.bu.set("Offline"),n||(n=()=>JC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await sp(t)})}function rI(t,e){return e().catch(n=>qd(t,n,e))}async function rp(t){const e=re(t),n=rr(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;HU(e);)try{const s=await DU(e.localStore,i);if(s===null){e.Eu.length===0&&n.jo();break}i=s.batchId,YU(e,s)}catch(s){await qd(e,s)}oI(e)&&aI(e)}function HU(t){return uo(t)&&t.Eu.length<10}function YU(t,e){t.Eu.push(e);const n=rr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function oI(t){return uo(t)&&!rr(t).Uo()&&t.Eu.length>0}function aI(t){rr(t).start()}async function GU(t){rr(t).hu()}async function KU(t){const e=rr(t);for(const n of t.Eu)e.uu(n.mutations)}async function qU(t,e,n){const i=t.Eu.shift(),s=Cv.from(i,e,n);await rI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rp(t)}async function QU(t,e){e&&rr(t).ou&&await async function(n,i){if(s=i.code,z4(s)&&s!==L.ABORTED){const r=n.Eu.shift();rr(n).Qo(),await rI(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i)),await rp(n)}var s}(t,e),oI(t)&&aI(t)}async function Ex(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const i=uo(n);n.vu.add(3),await au(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await sp(n)}async function XU(t,e){const n=re(t);e?(n.vu.delete(2),await sp(n)):e||(n.vu.add(2),await au(n),n.bu.set("Unknown"))}function Na(t){return t.Su||(t.Su=function(e,n,i){const s=re(e);return s.fu(),new FU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:VU.bind(null,t),ao:BU.bind(null,t),nu:WU.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Lv(t)?Nv(t):t.bu.set("Unknown")):(await t.Su.stop(),sI(t))})),t.Su}function rr(t){return t.Du||(t.Du=function(e,n,i){const s=re(e);return s.fu(),new jU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:GU.bind(null,t),ao:QU.bind(null,t),au:KU.bind(null,t),cu:qU.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await rp(t)):(await t.Du.stop(),t.Eu.length>0&&(K("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new Fv(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jv(t,e){if(rs("AsyncQueue",`${e}: ${t}`),su(t))return new J(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=yl(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.Cu=new dt(Z.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?e.type!==0&&i.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&i.type!==1?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Cu=this.Cu.remove(n):e.type===1&&i.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):te():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class va{constructor(e,n,i,s,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new va(e,n,ta.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.Nu=void 0,this.listeners=[]}}class ZU{constructor(){this.queries=new Oa(e=>IC(e),Jf),this.onlineState="Unknown",this.ku=new Set}}async function lI(t,e){const n=re(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new JU),s)try{r.Nu=await n.onListen(i)}catch(o){const a=jv(o,`Initialization of query '${by(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.listeners.push(e),e.Mu(n.onlineState),r.Nu&&e.$u(r.Nu)&&$v(n)}async function cI(t,e){const n=re(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function ez(t,e){const n=re(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.$u(s)&&(i=!0);o.Nu=s}}i&&$v(n)}function tz(t,e,n){const i=re(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function $v(t){t.ku.forEach(e=>{e.next()})}class uI{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new va(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class dI{constructor(e){this.key=e}}class nz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=DC(e),this.ec=new ta(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new Tx,s=n?n.ec:this.ec;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Zf(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;p&&g?p.data.isEqual(g.data)?v!==_&&(i.track({type:3,doc:g}),w=!0):this.rc(p,g)||(i.track({type:2,doc:g}),w=!0,(l&&this.tc(g,l)>0||c&&this.tc(g,c)<0)&&(a=!0)):!p&&g?(i.track({type:0,doc:g}),w=!0):p&&!g&&(i.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(g?(o=o.add(g),r=_?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{ec:o,ic:i,zi:a,mutatedKeys:r}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort((c,h)=>function(f,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return g(f)-g(p)}(c.type,h.type)||this.tc(c.doc,h.doc)),this.oc(i);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,r.length!==0||l?{snapshot:new va(this.query,e.ec,s,r,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new dI(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new hI(i))}),n}hc(e){this.Yu=e.ir,this.Zu=ue();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return va.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class iz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class sz{constructor(e){this.key=e,this.fc=!1}}class rz{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Oa(a=>IC(a),Jf),this._c=new Map,this.mc=new Set,this.gc=new dt(Z.comparator),this.yc=new Map,this.Ic=new Av,this.Tc={},this.Ec=new Map,this.Ac=ya.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function oz(t,e){const n=gz(t);let i,s;const r=n.wc.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.lc();else{const o=await MU(n.localStore,os(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await az(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&tI(n.remoteStore,o)}return s}async function az(t,e,n,i,s){t.Rc=(f,p,g)=>async function(v,_,w,S){let x=_.view.sc(w);x.zi&&(x=await bx(v.localStore,_.query,!1).then(({documents:I})=>_.view.sc(I,x)));const E=S&&S.targetChanges.get(_.targetId),T=_.view.applyChanges(x,v.isPrimaryClient,E);return Ix(v,_.targetId,T.cc),T.snapshot}(t,f,p,g);const r=await bx(t.localStore,e,!0),o=new nz(e,r.ir),a=o.sc(r.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Ix(t,n,c.cc);const h=new iz(e,n,o);return t.wc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function lz(t,e){const n=re(t),i=n.wc.get(e),s=n._c.get(i.targetId);if(s.length>1)return n._c.set(i.targetId,s.filter(r=>!Jf(r,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Cy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),nI(n.remoteStore,i.targetId),Iy(n,i.targetId)}).catch(iu)):(Iy(n,i.targetId),await Cy(n.localStore,i.targetId,!0))}async function cz(t,e,n){const i=yz(t);try{const s=await function(r,o){const a=re(r),l=ht.now(),c=o.reduce((p,g)=>p.add(g.key),ue());let h,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=as(),v=ue();return a.Zi.getEntries(p,c).next(_=>{g=_,g.forEach((w,S)=>{S.isValidDocument()||(v=v.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(_=>{h=_;const w=[];for(const S of o){const x=L4(S,h.get(S.key).overlayedDocument);x!=null&&w.push(new pr(S.key,x,xC(x.value.mapValue),vi.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,w,o)}).next(_=>{f=_;const w=_.applyToLocalDocumentSet(h,v);return a.documentOverlayCache.saveOverlays(p,_.batchId,w)})}).then(()=>({batchId:f.batchId,changes:AC(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,a){let l=r.Tc[r.currentUser.toKey()];l||(l=new dt(we)),l=l.insert(o,a),r.Tc[r.currentUser.toKey()]=l}(i,s.batchId,n),await lu(i,s.changes),await rp(i.remoteStore)}catch(s){const r=jv(s,"Failed to persist write");n.reject(r)}}async function fI(t,e){const n=re(t);try{const i=await CU(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.yc.get(r);o&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?$e(o.fc):s.removedDocuments.size>0&&($e(o.fc),o.fc=!1))}),await lu(n,i,e)}catch(i){await iu(i)}}function Cx(t,e,n){const i=re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wc.forEach((r,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=re(r);a.onlineState=o;let l=!1;a.queries.forEach((c,h)=>{for(const f of h.listeners)f.Mu(o)&&(l=!0)}),l&&$v(a)}(i.eventManager,e),s.length&&i.dc.nu(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uz(t,e,n){const i=re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.yc.get(e),r=s&&s.key;if(r){let o=new dt(Z.comparator);o=o.insert(r,zt.newNoDocument(r,ie.min()));const a=ue().add(r),l=new np(ie.min(),new Map,new dt(we),o,a);await fI(i,l),i.gc=i.gc.remove(r),i.yc.delete(e),Uv(i)}else await Cy(i.localStore,e,!1).then(()=>Iy(i,e,n)).catch(iu)}async function hz(t,e){const n=re(t),i=e.batch.batchId;try{const s=await TU(n.localStore,e);mI(n,i,null),pI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await lu(n,s)}catch(s){await iu(s)}}async function dz(t,e,n){const i=re(t);try{const s=await function(r,o){const a=re(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(h=>($e(h!==null),c=h.keys(),a.mutationQueue.removeMutationBatch(l,h))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);mI(i,e,n),pI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await lu(i,s)}catch(s){await iu(s)}}function pI(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function mI(t,e,n){const i=re(t);let s=i.Tc[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Tc[i.currentUser.toKey()]=s}}function Iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||gI(t,i)})}function gI(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(nI(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Uv(t))}function Ix(t,e,n){for(const i of n)i instanceof hI?(t.Ic.addReference(i.key,e),fz(t,i)):i instanceof dI?(K("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||gI(t,i.key)):te()}function fz(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(K("SyncEngine","New document in limbo: "+n),t.mc.add(i),Uv(t))}function Uv(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Z(Ke.fromString(e)),i=t.Ac.next();t.yc.set(i,new sz(n)),t.gc=t.gc.insert(n,i),tI(t.remoteStore,new Ns(os(Xf(n.path)),i,"TargetPurposeLimboResolution",xv.ct))}}async function lu(t,e,n){const i=re(t),s=[],r=[],o=[];i.wc.isEmpty()||(i.wc.forEach((a,l)=>{o.push(i.Rc(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const h=Pv.Li(l.targetId,c);r.push(h)}}))}),await Promise.all(o),i.dc.nu(s),await async function(a,l){const c=re(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(l,f=>$.forEach(f.Fi,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>$.forEach(f.Bi,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!su(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=c.Ji.get(f),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);c.Ji=c.Ji.insert(f,v)}}}(i.localStore,r))}async function pz(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const i=await XC(n.localStore,e);n.currentUser=e,function(s,r){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new J(L.CANCELLED,r))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lu(n,i.er)}}function mz(t,e){const n=re(t),i=n.yc.get(e);if(i&&i.fc)return ue().add(i.key);{let s=ue();const r=n._c.get(e);if(!r)return s;for(const o of r){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function gz(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uz.bind(null,e),e.dc.nu=ez.bind(null,e.eventManager),e.dc.Pc=tz.bind(null,e.eventManager),e}function yz(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dz.bind(null,e),e}class Dx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ip(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EU(this.persistence,new SU,e.initialUser,this.serializer)}createPersistence(e){return new xU(Rv.zs,this.serializer)}createSharedClientState(e){return new RU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Cx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pz.bind(null,this.syncEngine),await XU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ZU}createDatastore(e){const n=ip(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new LU(s));var s;return function(r,o,a,l){return new $U(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,s=e.asyncQueue,r=a=>Cx(this.syncEngine,a,0),o=kx.D()?new kx:new PU,new zU(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(e,n){return function(i,s,r,o,a,l,c){const h=new rz(i,s,r,o,a,l);return c&&(h.vc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=re(e);K("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await au(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=vC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{K("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(K("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=jv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mm(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await XC(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Mx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xz(t);K("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>Ex(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Ex(e.remoteStore,r)),t._onlineComponents=e}function wz(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function xz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!wz(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await Mm(t,new Dx)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Mm(t,new Dx);return t._offlineComponents}async function vI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Mx(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Mx(t,new vz))),t._onlineComponents}function bz(t){return vI(t).then(e=>e.syncEngine)}async function Dy(t){const e=await vI(t),n=e.eventManager;return n.onListen=oz.bind(null,e.syncEngine),n.onUnlisten=lz.bind(null,e.syncEngine),n}function Sz(t,e,n={}){const i=new Xs;return t.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const c=new yI({next:f=>{r.enqueueAndForget(()=>cI(s,h));const p=f.docs.has(o);!p&&f.fromCache?l.reject(new J(L.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&a&&a.source==="server"?l.reject(new J(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new uI(Xf(o.path),c,{includeMetadataChanges:!0,Ku:!0});return lI(s,h)}(await Dy(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t,e,n){if(!n)throw new J(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ez(t,e,n,i){if(e===!0&&i===!0)throw new J(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rx(t){if(!Z.isDocumentKey(t))throw new J(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zv(t);throw new J(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new J(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ez("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,n.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,i}}class Vv{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Px({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Px(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new H$;switch(n.type){case"firstParty":return new q$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ax.get(e);n&&(K("ComponentProvider","Removing Datastore"),Ax.delete(e),n.terminate())}(this),Promise.resolve()}}function Tz(t,e,n,i={}){var s;const r=(t=wi(t,Vv))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=$t.MOCK_USER;else{a=cT(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new J(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(c)}t._authCredentials=new Y$(new yC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class op{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new op(this.firestore,e,this._query)}}class Dc extends op{constructor(e,n,i){super(e,n,Xf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Z(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}function Jn(t,e,...n){if(t=ot(t),arguments.length===1&&(e=vC.A()),kz("doc","path",e),t instanceof Vv){const i=Ke.fromString(e,...n);return Rx(i),new pn(t,null,new Z(i))}{if(!(t instanceof pn||t instanceof Dc))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ke.fromString(e,...n));return Rx(i),new pn(t.firestore,t instanceof Dc?t.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZC(this,"async_queue_retry"),this.Xc=()=>{const n=Dm();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Dm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Xs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!su(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{this.Wc=i,this.Hc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw rs("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Fv.createAndSchedule(this,e,n,i,r=>this.na(r));return this.zc.push(s),s}Zc(){this.Wc&&te()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Ox(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class _a extends Vv{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Cz,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wI(this),this._firestoreClient.terminate()}}function Iz(t,e){const n=typeof t=="object"?t:X0(),i=typeof t=="string"?t:e||"(default)",s=Pf(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=oT("firestore");r&&Tz(s,...r)}return s}function Bv(t){return t._firestoreClient||wI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wI(t){var e,n,i;const s=t._freezeSettings(),r=function(o,a,l,c){return new a4(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_I(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new _z(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(Kt.fromBase64String(e))}catch(n){throw new J(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wa(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=/^__.*__$/;class Mz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class xI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Yv{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:i,la:!1});return s.fa(e),s}da(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:i,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(bI(this.ca)&&Dz.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Az{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ip(e)}ya(e,n,i,s=!1){return new Yv({ca:e,methodName:n,ga:i,path:Vt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SI(t){const e=t._freezeSettings(),n=ip(t._databaseId);return new Az(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rz(t,e,n,i,s,r={}){const o=t.ya(r.merge||r.mergeFields?2:0,e,n,s);Gv("Data must be an object, but it was:",o,i);const a=kI(i,o);let l,c;if(r.merge)l=new di(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const p=My(e,f,n);if(!o.contains(p))throw new J(L.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TI(h,p)||h.push(p)}l=new di(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Mz(new ln(a),l,c)}class lp extends Wv{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function Pz(t,e,n,i){const s=t.ya(1,e,n);Gv("Data must be an object, but it was:",s,i);const r=[],o=ln.empty();co(i,(l,c)=>{const h=Kv(e,l,n);c=ot(c);const f=s.da(h);if(c instanceof lp)r.push(h);else{const p=cp(c,f);p!=null&&(r.push(h),o.set(h,p))}});const a=new di(r);return new xI(o,a,s.fieldTransforms)}function Oz(t,e,n,i,s,r){const o=t.ya(1,e,n),a=[My(e,i,n)],l=[s];if(r.length%2!=0)throw new J(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)a.push(My(e,r[p])),l.push(r[p+1]);const c=[],h=ln.empty();for(let p=a.length-1;p>=0;--p)if(!TI(c,a[p])){const g=a[p];let v=l[p];v=ot(v);const _=o.da(g);if(v instanceof lp)c.push(g);else{const w=cp(v,_);w!=null&&(c.push(g),h.set(g,w))}}const f=new di(c);return new xI(h,f,o.fieldTransforms)}function cp(t,e){if(EI(t=ot(t)))return Gv("Unsupported field value:",e,t),kI(t,e);if(t instanceof Wv)return function(n,i){if(!bI(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,i){const s=[];let r=0;for(const o of n){let a=cp(o,i.wa(r));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),r++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return M4(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ht.fromDate(n);return{timestampValue:Kd(i.serializer,s)}}if(n instanceof ht){const s=new ht(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,s)}}if(n instanceof Hv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wa)return{bytesValue:HC(i.serializer,n._byteString)};if(n instanceof pn){const s=i.databaseId,r=n.firestore._databaseId;if(!r.isEqual(s))throw i._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${zv(n)}`)}(t,e)}function kI(t,e){const n={};return _C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(i,s)=>{const r=cp(s,e.ha(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Hv||t instanceof wa||t instanceof pn||t instanceof Wv)}function Gv(t,e,n){if(!EI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=zv(n);throw i==="an object"?e._a(t+" a custom object"):e._a(t+" "+i)}}function My(t,e,n){if((e=ot(e))instanceof ap)return e._internalPath;if(typeof e=="string")return Kv(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nz=new RegExp("[~\\*/\\[\\]]");function Kv(t,e,n){if(e.search(Nz)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ap(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new J(L.INVALID_ARGUMENT,a+t+l)}function TI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(II("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lz extends CI{data(){return super.data()}}function II(t,e){return typeof e=="string"?Kv(t,e):e instanceof ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jz{convertValue(e,n="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return co(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new Hv(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Sv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=sr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ke.fromString(e);$e(QC(i));const s=new Ec(i.get(1),i.get(3)),r=new Z(i.popFirst(5));return s.isEqual(n)||rs(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DI extends CI{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(II("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Gh extends DI{data(e={}){return super.data(e)}}class Uz{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _l(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Gh(this._firestore,this._userDataWriter,i.key,i,new _l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>{const a=new Gh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new _l(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:r++}})}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Gh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new _l(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:zz(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){t=wi(t,pn);const e=wi(t.firestore,_a);return Sz(Bv(e),t._key).then(n=>PI(e,t,n))}class MI extends jz{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function Bz(t,e,n){t=wi(t,pn);const i=wi(t.firestore,_a),s=$z(t.converter,e,n);return RI(i,[Rz(SI(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vi.none())])}function fi(t,e,n,...i){t=wi(t,pn);const s=wi(t.firestore,_a),r=SI(s);let o;return o=typeof(e=ot(e))=="string"||e instanceof ap?Oz(r,"updateDoc",t._key,e,n,i):Pz(r,"updateDoc",t._key,e),RI(s,[o.toMutation(t._key,vi.exists(!0))])}function AI(t,...e){var n,i,s;t=ot(t);let r={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Ox(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(Ox(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,h;if(t instanceof pn)c=wi(t.firestore,_a),h=Xf(t._key.path),l={next:f=>{e[o]&&e[o](PI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=wi(t,op);c=wi(f.firestore,_a),h=f._query;const p=new MI(c);l={next:g=>{e[o]&&e[o](new Uz(c,p,f,g))},error:e[o+1],complete:e[o+2]},Fz(t._query)}return function(f,p,g,v){const _=new yI(v),w=new uI(p,_,g);return f.asyncQueue.enqueueAndForget(async()=>lI(await Dy(f),w)),()=>{_.Dc(),f.asyncQueue.enqueueAndForget(async()=>cI(await Dy(f),w))}}(Bv(c),h,a,l)}function RI(t,e){return function(n,i){const s=new Xs;return n.asyncQueue.enqueueAndForget(async()=>cz(await bz(n),i,s)),s.promise}(Bv(t),e)}function PI(t,e,n){const i=n.docs.get(e._key),s=new MI(t);return new DI(t,s,e._key,i,new _l(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Pa=n})(ao),qr(new nr("firestore",(n,{instanceIdentifier:i,options:s})=>{const r=n.getProvider("app").getImmediate(),o=new _a(new G$(n.getProvider("auth-internal")),new X$(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(a.options.projectId,l)}(r,i),r);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),yi(tx,"3.12.2",t),yi(tx,"3.12.2","esm2017")})();var Wz="firebase",Hz="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(Wz,Hz,"app");const Yz={apiKey:"AIzaSyAgYffgQyLpBLMRf-FRTA5c1tN7TQeGiWM",authDomain:"jfdzr11cb.firebaseapp.com",projectId:"jfdzr11cb",storageBucket:"jfdzr11cb.appspot.com",messagingSenderId:"1069594792907",appId:"1:1069594792907:web:77252cffd4f77bd0d49c4e"};function qv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function OI(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gz=OI,NI=new Yc("auth","Firebase",OI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new q0("@firebase/auth");function Kz(t,...e){Xd.logLevel<=_e.WARN&&Xd.warn(`Auth (${ao}): ${t}`,...e)}function Kh(t,...e){Xd.logLevel<=_e.ERROR&&Xd.error(`Auth (${ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw Qv(t,...e)}function xi(t,...e){return Qv(t,...e)}function qz(t,e,n){const i=Object.assign(Object.assign({},Gz()),{[e]:n});return new Yc("auth","Firebase",i).create(e,{appName:t.name})}function Qv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NI.create(t,...e)}function ee(t,e,...n){if(!t)throw Qv(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function ls(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qz(){return Nx()==="http:"||Nx()==="https:"}function Nx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qz()||xF()||"connection"in navigator)?navigator.onLine:!0}function Jz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=_F()||bF()}get(){return Xz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new cu(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,n,i,s={}){return FI(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=Gc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),LI.fetch()(jI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function FI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Zz),e);try{const s=new tV(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw dh(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dh(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qz(t,h,c);Zn(t,h)}}catch(s){if(s instanceof Ci)throw s;Zn(t,"network-request-failed",{message:String(s)})}}async function uu(t,e,n,i,s={}){const r=await fo(t,e,n,i,s);return"mfaPendingCredential"in r&&Zn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function jI(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Xv(t.config,s):`${t.config.apiScheme}://${s}`}class tV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(xi(this.auth,"network-request-failed")),eV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=xi(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function iV(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sV(t,e=!1){const n=ot(t),i=await n.getIdToken(e),s=Jv(i);ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Ul(Am(s.auth_time)),issuedAtTime:Ul(Am(s.iat)),expirationTime:Ul(Am(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Am(t){return Number(t)*1e3}function Jv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=sT(n);return s?JSON.parse(s):(Kh("Failed to decode base64 JWT payload"),null)}catch(s){return Kh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function rV(t){const e=Jv(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ci&&oV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function oV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Mc(t,iV(n,{idToken:i}));ee(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?uV(r.providerUserInfo):[],a=cV(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new $I(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function lV(t){const e=ot(t);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cV(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function uV(t){return t.map(e=>{var{providerId:n}=e,i=qv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){const n=await FI(t,{},async()=>{const i=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=jI(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await hV(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Ac;return i&&(ee(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(ee(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new $I(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sV(this,e)}reload(){return lV(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Mc(this,nV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:T,isAnonymous:I,providerData:M,stsTokenManager:R}=n;ee(E&&R,e,"internal-error");const A=Ac.fromJSON(this.name,R);ee(typeof E=="string",e,"internal-error"),gs(f,e.name),gs(p,e.name),ee(typeof T=="boolean",e,"internal-error"),ee(typeof I=="boolean",e,"internal-error"),gs(g,e.name),gs(v,e.name),gs(_,e.name),gs(w,e.name),gs(S,e.name),gs(x,e.name);const N=new $r({uid:E,auth:e,email:p,emailVerified:T,displayName:f,isAnonymous:I,photoURL:v,phoneNumber:g,tenantId:_,stsTokenManager:A,createdAt:S,lastLoginAt:x});return M&&Array.isArray(M)&&(N.providerData=M.map(O=>Object.assign({},O))),w&&(N._redirectEventId=w),N}static async _fromIdTokenResponse(e,n,i=!1){const s=new Ac;s.updateFromServerResponse(n);const r=new $r({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Jd(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;function qi(t){ls(t instanceof Function,"Expected a class definition");let e=Lx.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UI.type="NONE";const Fx=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=qh(this.userKey,s.apiKey,r),this.fullPersistenceKey=qh("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new na(qi(Fx),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||qi(Fx);const o=qh(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=$r._fromJSON(e,h);c!==r&&(a=f),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new na(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new na(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HI(e))return"Blackberry";if(YI(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||VI(e))&&!e.includes("edge/"))return"Chrome";if(WI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zI(t=Gt()){return/firefox\//i.test(t)}function Zv(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VI(t=Gt()){return/crios\//i.test(t)}function BI(t=Gt()){return/iemobile/i.test(t)}function WI(t=Gt()){return/android/i.test(t)}function HI(t=Gt()){return/blackberry/i.test(t)}function YI(t=Gt()){return/webos/i.test(t)}function up(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dV(t=Gt()){var e;return up(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fV(){return SF()&&document.documentMode===10}function GI(t=Gt()){return up(t)||WI(t)||YI(t)||HI(t)||/windows phone/i.test(t)||BI(t)}function pV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e=[]){let n;switch(t){case"Browser":n=jx(Gt());break;case"Worker":n=`${jx(Gt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${i}`}async function qI(t,e){return fo(t,"GET","/v2/recaptchaConfig",ho(t,e))}function $x(t){return t!==void 0&&t.enterprise!==void 0}class QI{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function XI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=xi("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",mV().appendChild(i)})}function gV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const yV="https://www.google.com/recaptcha/enterprise.js?render=",vV="recaptcha-enterprise",_V="NO_RECAPTCHA";class JI{constructor(e){this.type=vV,this.auth=po(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{qI(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new QI(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;$x(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(_V)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&$x(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}XI(yV+a).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function xa(t,e,n,i=!1){const s=new JI(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new wV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ot(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}async initializeRecaptchaConfig(){const e=await qI(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new QI(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new JI(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Kz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function po(t){return ot(t)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=MF(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){const n=Pf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Nd(r,e??{}))return s;Zn(s,"already-initialized")}return n.initialize({options:e})}function SV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function kV(t,e,n){const i=po(t);ee(i._canInitEmulator,i,"emulator-config-failed"),ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=ZI(e),{host:o,port:a}=EV(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||TV()}function ZI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EV(t){const e=ZI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:zx(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:zx(o)}}}function zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function CV(t,e){return fo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rm(t,e){return uu(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}async function IV(t,e){return fo(t,"POST","/v1/accounts:sendOobCode",ho(t,e))}async function Pm(t,e){return IV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function MV(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends e_{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Rc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await xa(e,i,"signInWithPassword");return Rm(e,s)}else return Rm(e,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await xa(e,i,"signInWithPassword");return Rm(e,r)}else return Promise.reject(s)});case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CV(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return MV(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return uu(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="http://localhost";class Zr extends e_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=qv(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Zr(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ia(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:AV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PV(t){const e=fl(pl(t)).link,n=e?fl(pl(e)).deep_link_id:null,i=fl(pl(t)).deep_link_id;return(i?fl(pl(i)).link:null)||i||n||e||t}class t_{constructor(e){var n,i,s,r,o,a;const l=fl(pl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,f=RV((s=l.mode)!==null&&s!==void 0?s:null);ee(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=PV(e);try{return new t_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.providerId=La.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=t_.parseLink(n);return ee(i,"argument-error"),Rc._fromEmailAndCode(e,i.code,i.tenantId)}}La.PROVIDER_ID="password";La.EMAIL_PASSWORD_SIGN_IN_METHOD="password";La.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends eD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends hu{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cs.credential(n,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends hu{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends hu{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t,e){return uu(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await $r._fromIdTokenResponse(e,i,s),o=Vx(i);return new eo({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Vx(i);return new eo({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Vx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Ci{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Zd(e,n,i,s)}}function tD(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(t,r,e,i):r})}async function OV(t,e,n=!1){const i=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const r=await Mc(t,tD(i,s,e,t),n);ee(r.idToken,i,"internal-error");const o=Jv(r.idToken);ee(o,i,"internal-error");const{sub:a}=o;return ee(t.uid===a,i,"user-mismatch"),eo._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e,n=!1){const i="signIn",s=await tD(t,i,e),r=await eo._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function LV(t,e){return nD(po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e,n){var i;ee(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e,n){var i;const s=po(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const o=await xa(s,r,"getOobCode",!0);n&&Nm(s,o,n),await Pm(s,o)}else n&&Nm(s,r,n),await Pm(s,r).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await xa(s,r,"getOobCode",!0);n&&Nm(s,a,n),await Pm(s,a)}else return Promise.reject(o)})}async function jV(t,e,n){var i;const s=po(t),r={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await xa(s,r,"signUpPassword");o=Om(s,c)}else o=Om(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const h=await xa(s,r,"signUpPassword");return Om(s,h)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await eo._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function $V(t,e,n){return LV(ot(t),La.credential(e,n))}function UV(t,e,n,i){return ot(t).onIdTokenChanged(e,n,i)}function zV(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function VV(t,e,n,i){return ot(t).onAuthStateChanged(e,n,i)}function BV(t){return ot(t).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(){const t=Gt();return Zv(t)||up(t)}const HV=1e3,YV=10;class sD extends iD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=WV()&&pV(),this.fallbackToPolling=GI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);fV()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YV):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},HV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sD.type="LOCAL";const GV=sD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends iD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rD.type="SESSION";const oD=rD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new hp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await KV(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=n_("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(p.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function QV(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function XV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZV(){return aD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firebaseLocalStorageDb",e5=1,tf="firebaseLocalStorage",cD="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dp(t,e){return t.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function t5(){const t=indexedDB.deleteDatabase(lD);return new du(t).toPromise()}function Ry(){const t=indexedDB.open(lD,e5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(tf,{keyPath:cD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(tf)?e(i):(i.close(),await t5(),e(await Ry()))})})}async function Bx(t,e,n){const i=dp(t,!0).put({[cD]:e,value:n});return new du(i).toPromise()}async function n5(t,e){const n=dp(t,!1).get(e),i=await new du(n).toPromise();return i===void 0?null:i.value}function Wx(t,e){const n=dp(t,!0).delete(e);return new du(n).toPromise()}const i5=800,s5=3;class uD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>s5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(ZV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XV(),!this.activeServiceWorker)return;this.sender=new qV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await Bx(e,ef,"1"),await Wx(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>n5(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=dp(s,!1).getAll();return new du(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uD.type="LOCAL";const r5=uD;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){return e?qi(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends e_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a5(t){return nD(t.auth,new i_(t),t.bypassAuthState)}function l5(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),NV(n,new i_(t),t.bypassAuthState)}async function c5(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),OV(n,new i_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a5;case"linkViaPopup":case"linkViaRedirect":return c5;case"reauthViaPopup":case"reauthViaRedirect":return l5;default:Zn(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=new cu(2e3,1e4);class Ho extends hD{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=n_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u5.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="pendingRedirect",Qh=new Map;class d5 extends hD{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const i=await f5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f5(t,e){const n=g5(e),i=m5(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function p5(t,e){Qh.set(t._key(),e)}function m5(t){return qi(t._redirectPersistence)}function g5(t){return qh(h5,t.config.apiKey,t.name)}async function y5(t,e,n=!1){const i=po(t),s=o5(i,e),o=await new d5(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=10*60*1e3;class _5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!dD(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S5=/^https?/;async function k5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x5(t);for(const n of e)try{if(E5(n))return}catch{}Zn(t,"unauthorized-domain")}function E5(t){const e=Ay(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!S5.test(n))return!1;if(b5.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new cu(3e4,6e4);function Yx(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C5(t){return new Promise((e,n)=>{var i,s,r;function o(){Yx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yx(),n(xi(t,"network-request-failed"))},timeout:T5.get()})}if(!((s=(i=bi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=bi().gapi)===null||r===void 0)&&r.load)o();else{const a=gV("iframefcb");return bi()[a]=()=>{gapi.load?o():n(xi(t,"network-request-failed"))},XI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function I5(t){return Xh=Xh||C5(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new cu(5e3,15e3),M5="__/auth/iframe",A5="emulator/auth/iframe",R5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O5(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xv(e,A5):`https://${t.config.authDomain}/${M5}`,i={apiKey:e.apiKey,appName:t.name,v:ao},s=P5.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Gc(i).slice(1)}`}async function N5(t){const e=await I5(t),n=bi().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:O5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R5,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=xi(t,"network-request-failed"),a=bi().setTimeout(()=>{r(o)},D5.get());function l(){bi().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F5=500,j5=600,$5="_blank",U5="http://localhost";class Gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z5(t,e,n,i=F5,s=j5){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},L5),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Gt().toLowerCase();n&&(a=VI(c)?$5:n),zI(c)&&(e=e||U5,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(dV(c)&&a!=="_self")return V5(e||"",a),new Gx(null);const f=window.open(e||"",a,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new Gx(f)}function V5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="__/auth/handler",W5="emulator/auth/handler",H5=encodeURIComponent("fac");async function Kx(t,e,n,i,s,r){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ao,eventId:s};if(e instanceof eD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(r||{}))o[h]=f}if(e instanceof hu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${H5}=${encodeURIComponent(l)}`:"";return`${Y5(t)}?${Gc(a).slice(1)}${c}`}function Y5({config:t}){return t.emulator?Xv(t,W5):`https://${t.authDomain}/${B5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class G5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oD,this._completeRedirectFn=y5,this._overrideRedirectResult=p5}async _openPopup(e,n,i,s){var r;ls((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Kx(e,n,i,Ay(),s);return z5(e,o,n_())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await Kx(e,n,i,Ay(),s);return QV(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ls(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await N5(e),i=new _5(e);return n.register("authEvent",s=>(ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Lm];o!==void 0&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GI()||Zv()||up()}}const K5=G5;var qx="@firebase/auth",Qx="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function X5(t){qr(new nr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KI(t)},c=new xV(i,s,r,l);return SV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qr(new nr("auth-internal",e=>{const n=po(e.getProvider("auth").getImmediate());return(i=>new q5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(qx,Qx,Q5(t)),yi(qx,Qx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=5*60,Z5=lT("authIdTokenMaxAge")||J5;let Xx=null;const eB=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Z5)return;const s=n==null?void 0:n.token;Xx!==s&&(Xx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tB(t=X0()){const e=Pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bV(t,{popupRedirectResolver:K5,persistence:[r5,GV,oD]}),i=lT("authTokenSyncURL");if(i){const r=eB(i);zV(n,r,()=>r(n.currentUser)),UV(n,o=>r(o))}const s=rT("auth");return s&&kV(n,`http://${s}`),n}X5("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="firebasestorage.googleapis.com",pD="storageBucket",nB=2*60*1e3,iB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Ci{constructor(e,n,i=0){super(Fm(e),`Firebase Storage: ${n} (${Fm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function Fm(t){return"storage/"+t}function s_(){const t="An unknown error occurred, please check the error payload for server response.";return new et(Ze.UNKNOWN,t)}function sB(t){return new et(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rB(t){return new et(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ze.UNAUTHENTICATED,t)}function aB(){return new et(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lB(t){return new et(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cB(){return new et(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uB(){return new et(Ze.CANCELED,"User canceled the upload/download.")}function hB(t){return new et(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function dB(t){return new et(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fB(){return new et(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pD+"' property when initializing the app?")}function pB(){return new et(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mB(){return new et(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gB(t){return new et(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Py(t){return new et(Ze.INVALID_ARGUMENT,t)}function mD(){return new et(Ze.APP_DELETED,"The Firebase app was deleted.")}function yB(t){return new et(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zl(t,e){return new et(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nl(t){throw new et(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(i.path==="")return i;throw dB(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},_=n===fD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",S=new RegExp(`^https?://${_}/${s}/${w}`,"i"),E=[{regex:a,indices:l,postModify:r},{regex:g,indices:v,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<E.length;T++){const I=E[T],M=I.regex.exec(e);if(M){const R=M[I.indices.bucket];let A=M[I.indices.path];A||(A=""),i=new bn(R,A),I.postModify(i);break}}if(i==null)throw hB(e);return i}}class vB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t,e,n){let i=1,s=null,r=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...w){c||(c=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(g,l())},w)}function p(){r&&clearTimeout(r)}function g(w,...S){if(c){p();return}if(w){p(),h.call(null,w,...S);return}if(l()||o){p(),h.call(null,w,...S);return}i<64&&(i*=2);let E;a===1?(a=2,E=0):E=(i+Math.random())*1e3,f(E)}let v=!1;function _(w){v||(v=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),f(0)):w||(a=1)))}return f(0),r=setTimeout(()=>{o=!0,_(!0)},n),_}function wB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){return t!==void 0}function bB(t){return typeof t=="object"&&!Array.isArray(t)}function r_(t){return typeof t=="string"||t instanceof String}function Jx(t){return o_()&&t instanceof Blob}function o_(){return typeof Blob<"u"&&!wF()}function Zx(t,e,n,i){if(i<e)throw Py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Py(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function gD(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ur||(Ur={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,i,s,r,o,a,l,c,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new fh(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===Ur.NO_ERROR,l=r.getStatus();if(!a||SB(l,this.additionalRetryCodes_)&&this.retry){const h=r.getErrorCode()===Ur.ABORT;i(!1,new fh(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new fh(c,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());xB(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=s_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?mD():uB();o(l)}else{const l=cB();o(l)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=_B(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function EB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DB(t,e,n,i,s,r,o=!0){const a=gD(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return CB(c,e),EB(c,n),TB(c,r),IB(c,i),new kB(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AB(...t){const e=MB();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(o_())return new Blob(t);throw new et(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){if(typeof atob>"u")throw gB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jm{constructor(e,n){this.data=e,this.contentType=n||null}}function OB(t,e){switch(t){case pi.RAW:return new jm(yD(e));case pi.BASE64:case pi.BASE64URL:return new jm(vD(t,e));case pi.DATA_URL:return new jm(LB(e),FB(e))}throw s_()}function yD(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,o=t.charCodeAt(++n);i=65536|(r&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function NB(t){let e;try{e=decodeURIComponent(t)}catch{throw zl(pi.DATA_URL,"Malformed data URL.")}return yD(e)}function vD(t,e){switch(t){case pi.BASE64:{const s=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(s||r)throw zl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const s=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(s||r)throw zl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=PB(e)}catch(s){throw s.message.includes("polyfill")?s:zl(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class _D{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zl(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=jB(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function LB(t){const e=new _D(t);return e.base64?vD(pi.BASE64,e.rest):NB(e.rest)}function FB(t){return new _D(t).contentType}function jB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){let i=0,s="";Jx(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Jx(this.data_)){const i=this.data_,s=RB(i,e,n);return s===null?null:new Ms(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ms(i,!0)}}static getBlob(...e){if(o_()){const n=e.map(i=>i instanceof Ms?i.data_:i);return new Ms(AB.apply(null,n))}else{const n=e.map(o=>r_(o)?OB(pi.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const s=new Uint8Array(i);let r=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[r++]=o[a]}),new Ms(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){let e;try{e=JSON.parse(t)}catch{return null}return bB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UB(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function xD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e){return e}class Jt{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||zB}}let ph=null;function VB(t){return!r_(t)||t.length<2?t:xD(t)}function bD(){if(ph)return ph;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(r,o){return VB(o)}const n=new Jt("name");n.xform=e,t.push(n);function i(r,o){return o!==void 0?Number(o):o}const s=new Jt("size");return s.xform=i,t.push(s),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),ph=t,ph}function BB(t,e){function n(){const i=t.bucket,s=t.fullPath,r=new bn(i,s);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function WB(t,e,n){const i={};i.type="file";const s=n.length;for(let r=0;r<s;r++){const o=n[r];i[o.local]=o.xform(i,e[o.server])}return BB(i,t),i}function SD(t,e,n){const i=wD(e);return i===null?null:WB(t,i,n)}function HB(t,e,n,i){const s=wD(e);if(s===null||!r_(s.downloadTokens))return null;const r=s.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(c=>{const h=t.bucket,f=t.fullPath,p="/b/"+o(h)+"/o/"+o(f),g=a_(p,n,i),v=gD({alt:"media",token:c});return g+v})[0]}function YB(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const r=e[s];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class kD{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){if(!t)throw s_()}function GB(t,e){function n(i,s){const r=SD(t,s,e);return ED(r!==null),r}return n}function KB(t,e){function n(i,s){const r=SD(t,s,e);return ED(r!==null),HB(r,s,t.host,t._protocol)}return n}function TD(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=aB():s=oB():n.getStatus()===402?s=rB(t.bucket):n.getStatus()===403?s=lB(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function qB(t){const e=TD(t);function n(i,s){let r=e(i,s);return i.getStatus()===404&&(r=sB(t.path)),r.serverResponse=s.serverResponse,r}return n}function QB(t,e,n){const i=e.fullServerUrl(),s=a_(i,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,a=new kD(s,r,KB(t,n),o);return a.errorHandler=qB(e),a}function XB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JB(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=XB(null,e)),i}function ZB(t,e,n,i,s){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let T=0;T<2;T++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=JB(e,i,s),h=YB(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Ms.getBlob(f,i,p);if(g===null)throw pB();const v={name:c.fullPath},_=a_(r,t.host,t._protocol),w="POST",S=t.maxUploadRetryTime,x=new kD(_,w,GB(t,n),S);return x.urlParams=v,x.headers=o,x.body=g.uploadData(),x.errorHandler=TD(e),x}class e3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ur.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ur.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ur.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw nl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const r in s)s.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,s[r].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t3 extends e3{initXhr(){this.xhr_.responseType="text"}}function CD(){return new t3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new to(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xD(this._location.path)}get storage(){return this._service}get parent(){const e=$B(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new to(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yB(e)}}function n3(t,e,n){t._throwIfRoot("uploadBytes");const i=ZB(t.storage,t._location,bD(),new Ms(e,!0),n);return t.storage.makeRequestWithTokens(i,CD).then(s=>({metadata:s,ref:t}))}function i3(t){t._throwIfRoot("getDownloadURL");const e=QB(t.storage,t._location,bD());return t.storage.makeRequestWithTokens(e,CD).then(n=>{if(n===null)throw mB();return n})}function s3(t,e){const n=UB(t._location.path,e),i=new bn(t._location.bucket,n);return new to(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){return/^[A-Za-z]+:\/\//.test(t)}function o3(t,e){return new to(t,e)}function ID(t,e){if(t instanceof l_){const n=t;if(n._bucket==null)throw fB();const i=new to(n,n._bucket);return e!=null?ID(i,e):i}else return e!==void 0?s3(t,e):t}function a3(t,e){if(e&&r3(e)){if(t instanceof l_)return o3(t,e);throw Py("To use ref(service, url), the first argument must be a Storage instance.")}else return ID(t,e)}function eb(t,e){const n=e==null?void 0:e[pD];return n==null?null:bn.makeFromBucketSpec(n,t)}function l3(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:cT(s,t.app.options.projectId))}class l_{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=fD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nB,this._maxUploadRetryTime=iB,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=eb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=eb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new to(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new vB(mD());{const o=DB(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const tb="@firebase/storage",nb="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="storage";function c3(t,e,n){return t=ot(t),n3(t,e,n)}function u3(t){return t=ot(t),i3(t)}function h3(t,e){return t=ot(t),a3(t,e)}function d3(t=X0(),e){t=ot(t);const i=Pf(t,DD).getImmediate({identifier:e}),s=oT("storage");return s&&f3(i,...s),i}function f3(t,e,n,i={}){l3(t,e,n,i)}function p3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new l_(n,i,s,e,ao)}function m3(){qr(new nr(DD,p3,"PUBLIC").setMultipleInstances(!0)),yi(tb,nb,""),yi(tb,nb,"esm2017")}m3();const c_=dT(Yz),ei=Iz(c_),fu=tB(c_),g3=d3(c_);let y3={data:""},v3=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||y3,_3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,w3=/\/\*[^]*?\*\/|  +/g,ib=/\n+/g,As=(t,e)=>{let n="",i="",s="";for(let r in t){let o=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+o+";":i+=r[1]=="f"?As(o,r):r+"{"+As(o,r[1]=="k"?"":e)+"}":typeof o=="object"?i+=As(o,e?e.replace(/([^,])+/g,a=>r.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=As.p?As.p(r,o):r+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+i},Li={},MD=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+MD(t[n]);return e}return t},x3=(t,e,n,i,s)=>{let r=MD(t),o=Li[r]||(Li[r]=(l=>{let c=0,h=11;for(;c<l.length;)h=101*h+l.charCodeAt(c++)>>>0;return"go"+h})(r));if(!Li[o]){let l=r!==t?t:(c=>{let h,f,p=[{}];for(;h=_3.exec(c.replace(w3,""));)h[4]?p.shift():h[3]?(f=h[3].replace(ib," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][h[1]]=h[2].replace(ib," ").trim();return p[0]})(t);Li[o]=As(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Li.g?Li.g:null;return n&&(Li.g=Li[o]),((l,c,h,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=h?l+c.data:c.data+l)})(Li[o],e,i,a),o},b3=(t,e,n)=>t.reduce((i,s,r)=>{let o=e[r];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":As(a,""):a===!1?"":a}return i+s+(o??"")},"");function fp(t){let e=this||{},n=t.call?t(e.p):t;return x3(n.unshift?n.raw?b3(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,v3(e.target),e.g,e.o,e.k)}let AD,Oy,Ny;fp.bind({g:1});let cs=fp.bind({k:1});function S3(t,e,n,i){As.p=e,AD=t,Oy=n,Ny=i}function mr(t,e){let n=this||{};return function(){let i=arguments;function s(r,o){let a=Object.assign({},r),l=a.className||s.className;n.p=Object.assign({theme:Oy&&Oy()},a),n.o=/ *go\d+/.test(l),a.className=fp.apply(n,i)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),Ny&&c[0]&&Ny(a),AD(c,a)}return e?e(s):s}}var k3=t=>typeof t=="function",nf=(t,e)=>k3(t)?t(e):t,E3=(()=>{let t=0;return()=>(++t).toString()})(),RD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),T3=20,Jh=new Map,C3=1e3,sb=t=>{if(Jh.has(t))return;let e=setTimeout(()=>{Jh.delete(t),mo({type:4,toastId:t})},C3);Jh.set(t,e)},I3=t=>{let e=Jh.get(t);e&&clearTimeout(e)},Ly=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,T3)};case 1:return e.toast.id&&I3(e.toast.id),{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:n}=e;return t.toasts.find(r=>r.id===n.id)?Ly(t,{type:1,toast:n}):Ly(t,{type:0,toast:n});case 3:let{toastId:i}=e;return i?sb(i):t.toasts.forEach(r=>{sb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===i||i===void 0?{...r,visible:!1}:r)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+s}))}}},Zh=[],ed={toasts:[],pausedAt:void 0},mo=t=>{ed=Ly(ed,t),Zh.forEach(e=>{e(ed)})},D3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M3=(t={})=>{let[e,n]=D.useState(ed);D.useEffect(()=>(Zh.push(n),()=>{let s=Zh.indexOf(n);s>-1&&Zh.splice(s,1)}),[e]);let i=e.toasts.map(s=>{var r,o;return{...t,...t[s.type],...s,duration:s.duration||((r=t[s.type])==null?void 0:r.duration)||(t==null?void 0:t.duration)||D3[s.type],style:{...t.style,...(o=t[s.type])==null?void 0:o.style,...s.style}}});return{...e,toasts:i}},A3=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||E3()}),pu=t=>(e,n)=>{let i=A3(e,t,n);return mo({type:2,toast:i}),i.id},st=(t,e)=>pu("blank")(t,e);st.error=pu("error");st.success=pu("success");st.loading=pu("loading");st.custom=pu("custom");st.dismiss=t=>{mo({type:3,toastId:t})};st.remove=t=>mo({type:4,toastId:t});st.promise=(t,e,n)=>{let i=st.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(s=>(st.success(nf(e.success,s),{id:i,...n,...n==null?void 0:n.success}),s)).catch(s=>{st.error(nf(e.error,s),{id:i,...n,...n==null?void 0:n.error})}),t};var R3=(t,e)=>{mo({type:1,toast:{id:t,height:e}})},P3=()=>{mo({type:5,time:Date.now()})},O3=t=>{let{toasts:e,pausedAt:n}=M3(t);D.useEffect(()=>{if(n)return;let r=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(r-a.createdAt);if(l<0){a.visible&&st.dismiss(a.id);return}return setTimeout(()=>st.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let i=D.useCallback(()=>{n&&mo({type:6,time:Date.now()})},[n]),s=D.useCallback((r,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},h=e.filter(g=>(g.position||c)===(r.position||c)&&g.height),f=h.findIndex(g=>g.id===r.id),p=h.filter((g,v)=>v<f&&g.visible).length;return h.filter(g=>g.visible).slice(...a?[p+1]:[0,p]).reduce((g,v)=>g+(v.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:R3,startPause:P3,endPause:i,calculateOffset:s}}},N3=cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,L3=cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F3=cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,j3=mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${L3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$3=cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,U3=mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$3} 1s linear infinite;
`,z3=cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,V3=cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,B3=mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${V3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,W3=mr("div")`
  position: absolute;
`,H3=mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Y3=cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G3=mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Y3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K3=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?D.createElement(G3,null,e):e:n==="blank"?null:D.createElement(H3,null,D.createElement(U3,{...i}),n!=="loading"&&D.createElement(W3,null,n==="error"?D.createElement(j3,{...i}):D.createElement(B3,{...i})))},q3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Q3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,X3="0%{opacity:0;} 100%{opacity:1;}",J3="0%{opacity:1;} 100%{opacity:0;}",Z3=mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,e9=mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,t9=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=RD()?[X3,J3]:[q3(n),Q3(n)];return{animation:e?`${cs(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},n9=D.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?t9(t.position||e||"top-center",t.visible):{opacity:0},r=D.createElement(K3,{toast:t}),o=D.createElement(e9,{...t.ariaProps},nf(t.message,t));return D.createElement(Z3,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:r,message:o}):D.createElement(D.Fragment,null,r,o))});S3(D.createElement);var i9=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let r=D.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;i(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return D.createElement("div",{ref:r,className:e,style:n},s)},s9=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:RD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...s}},r9=fp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mh=16,o9=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,containerStyle:r,containerClassName:o})=>{let{toasts:a,handlers:l}=O3(n);return D.createElement("div",{style:{position:"fixed",zIndex:9999,top:mh,left:mh,right:mh,bottom:mh,pointerEvents:"none",...r},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let h=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:i,defaultPosition:e}),p=s9(h,f);return D.createElement(i9,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?r9:"",style:p},c.type==="custom"?nf(c.message,c):s?s(c):D.createElement(n9,{toast:c,position:h}))}))},rb=st;const a9=()=>{const t=hs(),e=async n=>{var c;n.preventDefault();const i=n.currentTarget.elements.namedItem("name").value,s=n.currentTarget.elements.namedItem("lastName").value,r=n.currentTarget.elements.namedItem("email").value,o=n.currentTarget.elements.namedItem("confirmEmail").value,a=n.currentTarget.elements.namedItem("password").value,l=n.currentTarget.elements.namedItem("confirmPassword").value;if(r!==o||a!==l){console.log("Passwords or emails are not the same!");return}else try{const h=await jV(fu,r,a);st.success("Pomylnie zarejestrowano!");const f=(c=h.user)==null?void 0:c.uid,p={loginData:{email:r},personalData:{email:r,name:i,lastName:s},measurements:{ttno:{},cinienie:{},puls:{},nawodnienie:{},waga:{},cukier:{}},reminders:[],medicines:[]};t("/"),await Bz(Jn(ei,"users",f),p)}catch{st.error("Wystpi bd podczas rejestracji!")}};return b.jsxs("div",{className:Wi.form_wrapper,children:[b.jsx(mt,{to:"/login",className:Wi.backIcon}),b.jsx("h1",{className:Wi.app_name,children:"HealthKeeper"}),b.jsx("span",{className:Wi.header,children:"Zarejestruj si"}),b.jsxs("form",{onSubmit:e,className:Wi.form,children:[b.jsx("label",{htmlFor:"name",children:"Imi"}),b.jsx("input",{type:"text",name:"name",id:"name"}),b.jsx("label",{htmlFor:"lastName",children:"Nazwisko"}),b.jsx("input",{type:"text",name:"lastName",id:"lastName"}),b.jsx("label",{htmlFor:"email",children:"E-mail"}),b.jsx("input",{type:"email",name:"email",id:"email"}),b.jsx("label",{htmlFor:"confirmEmail",children:"Potwierd e-mail"}),b.jsx("input",{type:"email",name:"confirmEmail",id:"confirmEmail"}),b.jsx("label",{htmlFor:"password",children:"Haso"}),b.jsx("input",{type:"password",name:"password",id:"password"}),b.jsx("label",{htmlFor:"confirmPassword",children:"Potwierd haso"}),b.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword"}),b.jsx("button",{type:"submit",children:"Zarejestruj si"})]})]})},l9=()=>{const t=hs(),e=D.useRef(null),n=async i=>{var o;i.preventDefault();const s=i.currentTarget.elements.namedItem("email").value,r=i.currentTarget.elements.namedItem("password").value;try{await $V(fu,s,r),st.success("Pomylnie zalogowano!"),t("/")}catch{st.error("Wystpi bd podczas logowania!")}(o=e.current)==null||o.reset()};return b.jsx(b.Fragment,{children:b.jsxs("div",{className:Wi.form_wrapper,children:[b.jsx("h1",{className:Wi.app_name,children:"HealthKeeper"}),b.jsx("span",{className:Wi.header,children:"Zaloguj si"}),b.jsxs("form",{onSubmit:n,ref:e,className:Wi.form,children:[b.jsx("label",{htmlFor:"email",children:"E-mail"}),b.jsx("input",{type:"email",name:"email",id:"email"}),b.jsx("label",{htmlFor:"email",children:"Haso"}),b.jsx("input",{type:"password",name:"password",id:"password"}),b.jsx("button",{type:"submit",children:"Zaloguj si"}),b.jsx(mt,{to:"/forgot-password",children:"Nie pamitam hasa"}),b.jsx(mt,{to:"/register",children:"Nie masz jeszcze konta?"})]})]})})},c9={},$n=Ta.createContext(c9),u9=({children:t})=>{const[e,n]=D.useState(),[i,s]=D.useState(!0);return b.jsx($n.Provider,{value:{currentUser:e,setCurrentUser:n,isFetchingUserData:i,setIsFetchingUserData:s},children:t})},h9="_app_b1grt_1",d9="_navbar_b1grt_17",f9="_footer_b1grt_21",p9="_page_content_b1grt_25",gh={app:h9,navbar:d9,footer:f9,page_content:p9},m9=t=>{const e=new Date(t);let n=e.getHours().toString(),i=e.getMinutes().toString();return Number(n)<10&&(n="0"+n),Number(i)<10&&(i="0"+i),n+":"+i},g9=t=>{const e=new Date(t),n=e.getFullYear().toString();let i;e.getMonth()<9?i="0"+(e.getMonth()+1).toString():i=(e.getMonth()+1).toString();let s;return e.getDate()<10?s="0"+e.getDate().toString():s=e.getDate().toString(),`${n}-${i}-${s}`},ob=(t,e,n)=>{const s=new Date().getTime(),r=t.filter(o=>{const{dateTime:a}=o;return s>=a});if(r.length>0){e(r[0]),n(!0),console.log(r);return}},y9=()=>{const{currentUser:t}=D.useContext($n),[e,n]=D.useState(!1),[i,s]=D.useState(null),[r,o]=D.useState(null);D.useEffect(()=>{if(!t){n(!1);return}const l=Jn(ei,"users",t==null?void 0:t.uid);return AI(l,h=>{var p;const f=(p=h.data())==null?void 0:p.reminders;s(f)})},[t]),D.useEffect(()=>{if(i){ob(i,o,n);const l=setInterval(ob,2e4,i,o,n);return()=>{clearInterval(l)}}},[i,r]);const a=async()=>{const l=Jn(ei,"users",t==null?void 0:t.uid);try{if(r&&i){const c=r.reminderId,h=i.filter(f=>f.reminderId!==c);await fi(l,{reminders:h}),console.log("Reminder deleted"),n(!1)}}catch(c){console.log(c)}};return b.jsxs("div",{className:gh.app,children:[e&&b.jsx(_p,{isModalForm:!1,onModalDisable:a,reminderData:r}),b.jsx("div",{children:t!=null&&t.email?b.jsx("div",{className:gh.navbar,children:b.jsx(R9,{})}):null}),b.jsx("div",{className:gh.page_content,children:b.jsx(tT,{})}),b.jsx("div",{children:t!=null&&t.email?b.jsx("div",{className:gh.footer,children:b.jsx(U9,{})}):null})]})},v9="_form_wrapper_1na00_1",_9="_backIcon_1na00_11",w9="_header_1na00_23",x9="_form_1na00_1",yh={form_wrapper:v9,backIcon:_9,header:w9,form:x9},b9=()=>{const t=hs(),e=async n=>{n.preventDefault();const i=n.currentTarget.elements.namedItem("email").value;try{await FV(fu,i),rb.success("Mail wysany"),t("/login")}catch{rb.error("Nie udao si wysa maila")}};return b.jsxs("div",{className:yh.form_wrapper,children:[b.jsx(mt,{to:"/login",className:yh.backIcon}),b.jsx("span",{className:yh.header,children:"Przypomnij haso"}),b.jsxs("form",{onSubmit:e,className:yh.form,children:[b.jsx("label",{htmlFor:"email",children:"E-mail"}),b.jsx("input",{type:"email",name:"email",id:"email"}),b.jsx("button",{type:"submit",children:"Wylij"})]})]})},S9="_navbar_container_1ohmx_1",k9="_navigate_back_btn_1ohmx_12",E9="_navbar_icon_container_1ohmx_31",T9="_calendar_1ohmx_36",C9="_notifications_button_1ohmx_44",I9="_active_1ohmx_54",D9="_notifications_1ohmx_44",M9="_avatar_1ohmx_68",ys={navbar_container:S9,navigate_back_btn:k9,navbar_icon_container:E9,calendar:T9,notifications_button:C9,active:I9,notifications:D9,avatar:M9},A9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADTSURBVHgB7ZRBDoIwEEWn9QIGAqzdQF3IGTyCR8ATeATwBtxAvYlL3SluCitcYoAr1CHowqBoShM3fZuZps3/mZlMATSaoYy+PfA8f2UY9rSubyeQgPZduq4fYogpJRuQhPaJEwJRkxMiliAJ+UWc88sWVBmoFO8YMDYLhJDv94M8TZPJ8/AyAxQfg2I6LWLMj4SAsDWEIMuSHQygswdlWewty2mM5ziLhWk6eVUVZ5Dk7aKpNPm4B5wnEYqvmxxjDJL0fhVtJfYVLY5YwQE0mr9wB0CzRzDSbte3AAAAAElFTkSuQmCC",R9=()=>{const t=hs(),e=hr(),[n,i]=D.useState(!1),s=()=>{i(!n)};return b.jsxs("div",{children:[n&&b.jsx(_p,{editForm:void 0,isModalForm:!0,onHideForm:s,medicineForm:!1}),b.jsxs("div",{className:ys.navbar_container,children:[e.pathname!=="/"?b.jsxs("button",{className:ys.navigate_back_btn,onClick:()=>t(-1),children:[b.jsx("img",{src:A9}),b.jsx("span",{children:"Wr"})]}):b.jsx("div",{}),b.jsxs("div",{className:ys.navbar_icon_container,children:[b.jsx(mt,{to:"/",className:`${e.pathname==="/"?ys.active:null} ${ys.calendar}`}),b.jsx("button",{onClick:s,className:ys.notifications_button}),b.jsx(mt,{to:"/myprofile",className:`${e.pathname==="/myprofile"?ys.active:null} ${ys.avatar}`})]})]})]})},P9="_foot_165ht_1",O9="_home_165ht_29",N9="_active_165ht_33",L9="_visits_165ht_37",F9="_data_165ht_45",j9="_medicine_165ht_53",$9="_prevention_165ht_61",Lt={foot:P9,home:O9,active:N9,visits:L9,data:F9,medicine:j9,prevention:$9},U9=()=>{const t=hr();return b.jsxs("div",{className:Lt.foot,children:[b.jsxs(mt,{to:"/",children:[b.jsx("div",{className:`${t.pathname==="/"?Lt.active:null} ${Lt.home}`}),b.jsx("span",{className:`${t.pathname==="/"?Lt.active:null}`,children:"Home"})]}),b.jsxs(mt,{to:"",children:[b.jsx("div",{className:`${t.pathname==="/visits"?Lt.active:null} ${Lt.visits}`}),b.jsx("span",{className:`${t.pathname==="/visits"?Lt.active:null}`,children:"Wizyty"})]}),b.jsxs(mt,{to:"/results-list",children:[b.jsx("div",{className:`${t.pathname==="/results-list"?Lt.active:null} ${Lt.data}`}),b.jsx("span",{className:`${t.pathname==="/results-list"?Lt.active:null}`,children:"Wyniki"})]}),b.jsxs(mt,{to:"/medicine",children:[b.jsx("div",{className:`${t.pathname==="/medicine"?Lt.active:null} ${Lt.medicine}`}),b.jsx("span",{className:`${t.pathname==="/medicine"?Lt.active:null}`,children:"Leki"})]}),b.jsxs(mt,{to:"",children:[b.jsx("div",{className:`${t.pathname==="/prevention"?Lt.active:null} ${Lt.prevention}`}),b.jsx("span",{className:`${t.pathname==="/prevention"?Lt.active:null}`,children:"Profilaktyka"})]})]})},z9="_header_skvd3_1",V9="_results_list_skvd3_7",$m={header:z9,results_list:V9},wn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAjCAMAAADGxShVAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIdQTFRFAAAARG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SRG5SjiteJgAAAC10Uk5TACaxUwFu//tnFr72YRnJXA3DGL0XDK1xqHazL/LKtVmvZKv6Y3TFv1/Ecy5VaG4ABAAAAI1JREFUeJzVz0kWglAMRNEoWhHDF1CwB3tRcf/r87uB1JiM78lLRIY6o3EyIWQKnRGTzmEZMWEBy4kpSt5arnirKmFsT72GbpjZQnfM7Pk9sUV/j3s084kcjmj4NbkrihZ68sUZdnGvra+43V3xrzx8Ef/1K+HJ7ggd7OVXGvZt+mYV+bCKSN9+fTCM+QE1+AgX3VPFuAAAAABJRU5ErkJggg==",B9=()=>b.jsxs("div",{className:$m.container,children:[b.jsx("h2",{className:$m.header,children:"Wyniki"}),b.jsxs("ul",{className:$m.results_list,children:[b.jsxs("li",{children:["BADANIA",b.jsx("img",{src:wn})]}),b.jsxs("li",{children:["ZAWIADCZENIA",b.jsx("img",{src:wn})]}),b.jsxs("li",{children:["SZCZEPIENIA",b.jsx("img",{src:wn})]}),b.jsxs("li",{children:["SKIEROWANIA",b.jsx("img",{src:wn})]}),b.jsxs("li",{children:["RECEPTY",b.jsx("img",{src:wn})]}),b.jsx("li",{children:b.jsxs(mt,{to:"/results-list/measurements",children:["CODZIENNE POMIARY",b.jsx("img",{src:wn})]})})]})]}),W9="_header_z4xfj_1",H9="_measurement_list_z4xfj_5",Y9="_measurement_item_z4xfj_19",G9="_add_z4xfj_44",vh={header:W9,measurement_list:H9,measurement_item:Y9,add:G9},PD={loginData:{email:""},measurements:{},medicines:{},personalData:{},reminders:[]},K9={setUserData:()=>{},userData:PD},ni=Ta.createContext(K9),q9=({children:t})=>{const[e,n]=D.useState(PD);return b.jsx(ni.Provider,{value:{userData:e,setUserData:n},children:t})},Q9=()=>{const[t,e]=D.useState([]),{userData:n}=D.useContext(ni),[i,s]=D.useState(""),{currentUser:r}=D.useContext($n),o=r==null?void 0:r.uid;Jn(ei,"users",o),D.useEffect(()=>{(async()=>{try{const h=n.measurements,f=Object.keys(h);e(f)}catch{st.error("Bd pobierania danych")}})()},[n]);const a=c=>{s(c)},l=()=>{s("")};return b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:vh.header,children:"Codzienne pomiary"}),b.jsx("ul",{className:vh.measurement_list,children:t.map(c=>b.jsx("li",{className:vh.measurement_item,onMouseOver:()=>a(c),onMouseOut:l,children:b.jsx(mt,{to:`/results-list/measurements/${c}/addEntry`,children:c.toUpperCase()})},crypto.randomUUID()))}),b.jsx(mt,{to:"/results-list/measurements/addNew",className:vh.add,children:"Dodaj +"})]})},X9=()=>b.jsx(NM,{isNewMeasurement:!0}),J9="_measurement_name_qmwbd_1",Z9="_form_qmwbd_5",e6="_chart_container_qmwbd_28",Um={measurement_name:J9,form:Z9,chart_container:e6};function OD(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zm={exports:{}},ab;function t6(){return ab||(ab=1,function(t,e){(function(n,i){t.exports=i()})(OS,function(){var n;function i(){return n.apply(null,arguments)}function s(u){n=u}function r(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function o(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function a(u,d){return Object.prototype.hasOwnProperty.call(u,d)}function l(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var d;for(d in u)if(a(u,d))return!1;return!0}function c(u){return u===void 0}function h(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function f(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function p(u,d){var m=[],y,k=u.length;for(y=0;y<k;++y)m.push(d(u[y],y));return m}function g(u,d){for(var m in d)a(d,m)&&(u[m]=d[m]);return a(d,"toString")&&(u.toString=d.toString),a(d,"valueOf")&&(u.valueOf=d.valueOf),u}function v(u,d,m,y){return K_(u,d,m,y,!0).utc()}function _(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(u){return u._pf==null&&(u._pf=_()),u._pf}var S;Array.prototype.some?S=Array.prototype.some:S=function(u){var d=Object(this),m=d.length>>>0,y;for(y=0;y<m;y++)if(y in d&&u.call(this,d[y],y,d))return!0;return!1};function x(u){if(u._isValid==null){var d=w(u),m=S.call(d.parsedDateParts,function(k){return k!=null}),y=!isNaN(u._d.getTime())&&d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&m);if(u._strict&&(y=y&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=y;else return y}return u._isValid}function E(u){var d=v(NaN);return u!=null?g(w(d),u):w(d).userInvalidated=!0,d}var T=i.momentProperties=[],I=!1;function M(u,d){var m,y,k,C=T.length;if(c(d._isAMomentObject)||(u._isAMomentObject=d._isAMomentObject),c(d._i)||(u._i=d._i),c(d._f)||(u._f=d._f),c(d._l)||(u._l=d._l),c(d._strict)||(u._strict=d._strict),c(d._tzm)||(u._tzm=d._tzm),c(d._isUTC)||(u._isUTC=d._isUTC),c(d._offset)||(u._offset=d._offset),c(d._pf)||(u._pf=w(d)),c(d._locale)||(u._locale=d._locale),C>0)for(m=0;m<C;m++)y=T[m],k=d[y],c(k)||(u[y]=k);return u}function R(u){M(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),I===!1&&(I=!0,i.updateOffset(this),I=!1)}function A(u){return u instanceof R||u!=null&&u._isAMomentObject!=null}function N(u){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function O(u,d){var m=!0;return g(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,u),m){var y=[],k,C,P,X=arguments.length;for(C=0;C<X;C++){if(k="",typeof arguments[C]=="object"){k+=`
[`+C+"] ";for(P in arguments[0])a(arguments[0],P)&&(k+=P+": "+arguments[0][P]+", ");k=k.slice(0,-2)}else k=arguments[C];y.push(k)}N(u+`
Arguments: `+Array.prototype.slice.call(y).join("")+`
`+new Error().stack),m=!1}return d.apply(this,arguments)},d)}var B={};function q(u,d){i.deprecationHandler!=null&&i.deprecationHandler(u,d),B[u]||(N(d),B[u]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function oe(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function tt(u){var d,m;for(m in u)a(u,m)&&(d=u[m],oe(d)?this[m]=d:this["_"+m]=d);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ce(u,d){var m=g({},u),y;for(y in d)a(d,y)&&(o(u[y])&&o(d[y])?(m[y]={},g(m[y],u[y]),g(m[y],d[y])):d[y]!=null?m[y]=d[y]:delete m[y]);for(y in u)a(u,y)&&!a(d,y)&&o(u[y])&&(m[y]=g({},m[y]));return m}function ye(u){u!=null&&this.set(u)}var ke;Object.keys?ke=Object.keys:ke=function(u){var d,m=[];for(d in u)a(u,d)&&m.push(d);return m};var z={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(u,d,m){var y=this._calendar[u]||this._calendar.sameElse;return oe(y)?y.call(d,m):y}function Q(u,d,m){var y=""+Math.abs(u),k=d-y.length,C=u>=0;return(C?m?"+":"":"-")+Math.pow(10,Math.max(0,k)).toString().substr(1)+y}var xe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,be=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rn={},at={};function Y(u,d,m,y){var k=y;typeof y=="string"&&(k=function(){return this[y]()}),u&&(at[u]=k),d&&(at[d[0]]=function(){return Q(k.apply(this,arguments),d[1],d[2])}),m&&(at[m]=function(){return this.localeData().ordinal(k.apply(this,arguments),u)})}function Qt(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function yo(u){var d=u.match(xe),m,y;for(m=0,y=d.length;m<y;m++)at[d[m]]?d[m]=at[d[m]]:d[m]=Qt(d[m]);return function(k){var C="",P;for(P=0;P<y;P++)C+=oe(d[P])?d[P].call(k,u):d[P];return C}}function _u(u,d){return u.isValid()?(d=T_(d,u.localeData()),rn[d]=rn[d]||yo(d),rn[d](u)):u.localeData().invalidDate()}function T_(u,d){var m=5;function y(k){return d.longDateFormat(k)||k}for(be.lastIndex=0;m>=0&&be.test(u);)u=u.replace(be,y),be.lastIndex=0,m-=1;return u}var LM={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function FM(u){var d=this._longDateFormat[u],m=this._longDateFormat[u.toUpperCase()];return d||!m?d:(this._longDateFormat[u]=m.match(xe).map(function(y){return y==="MMMM"||y==="MM"||y==="DD"||y==="dddd"?y.slice(1):y}).join(""),this._longDateFormat[u])}var jM="Invalid date";function $M(){return this._invalidDate}var UM="%d",zM=/\d{1,2}/;function VM(u){return this._ordinal.replace("%d",u)}var BM={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function WM(u,d,m,y){var k=this._relativeTime[m];return oe(k)?k(u,d,m,y):k.replace(/%d/i,u)}function HM(u,d){var m=this._relativeTime[u>0?"future":"past"];return oe(m)?m(d):m.replace(/%s/i,d)}var Fa={};function Mt(u,d){var m=u.toLowerCase();Fa[m]=Fa[m+"s"]=Fa[d]=u}function Dn(u){return typeof u=="string"?Fa[u]||Fa[u.toLowerCase()]:void 0}function wp(u){var d={},m,y;for(y in u)a(u,y)&&(m=Dn(y),m&&(d[m]=u[y]));return d}var C_={};function At(u,d){C_[u]=d}function YM(u){var d=[],m;for(m in u)a(u,m)&&d.push({unit:m,priority:C_[m]});return d.sort(function(y,k){return y.priority-k.priority}),d}function wu(u){return u%4===0&&u%100!==0||u%400===0}function Mn(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function le(u){var d=+u,m=0;return d!==0&&isFinite(d)&&(m=Mn(d)),m}function vo(u,d){return function(m){return m!=null?(I_(this,u,m),i.updateOffset(this,d),this):xu(this,u)}}function xu(u,d){return u.isValid()?u._d["get"+(u._isUTC?"UTC":"")+d]():NaN}function I_(u,d,m){u.isValid()&&!isNaN(m)&&(d==="FullYear"&&wu(u.year())&&u.month()===1&&u.date()===29?(m=le(m),u._d["set"+(u._isUTC?"UTC":"")+d](m,u.month(),Iu(m,u.month()))):u._d["set"+(u._isUTC?"UTC":"")+d](m))}function GM(u){return u=Dn(u),oe(this[u])?this[u]():this}function KM(u,d){if(typeof u=="object"){u=wp(u);var m=YM(u),y,k=m.length;for(y=0;y<k;y++)this[m[y].unit](u[m[y].unit])}else if(u=Dn(u),oe(this[u]))return this[u](d);return this}var D_=/\d/,mn=/\d\d/,M_=/\d{3}/,xp=/\d{4}/,bu=/[+-]?\d{6}/,Re=/\d\d?/,A_=/\d\d\d\d?/,R_=/\d\d\d\d\d\d?/,Su=/\d{1,3}/,bp=/\d{1,4}/,ku=/[+-]?\d{1,6}/,_o=/\d+/,Eu=/[+-]?\d+/,qM=/Z|[+-]\d\d:?\d\d/gi,Tu=/Z|[+-]\d\d(?::?\d\d)?/gi,QM=/[+-]?\d+(\.\d{1,3})?/,ja=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Cu;Cu={};function W(u,d,m){Cu[u]=oe(d)?d:function(y,k){return y&&m?m:d}}function XM(u,d){return a(Cu,u)?Cu[u](d._strict,d._locale):new RegExp(JM(u))}function JM(u){return gn(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,m,y,k,C){return m||y||k||C}))}function gn(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Sp={};function Ie(u,d){var m,y=d,k;for(typeof u=="string"&&(u=[u]),h(d)&&(y=function(C,P){P[d]=le(C)}),k=u.length,m=0;m<k;m++)Sp[u[m]]=y}function $a(u,d){Ie(u,function(m,y,k,C){k._w=k._w||{},d(m,k._w,k,C)})}function ZM(u,d,m){d!=null&&a(Sp,u)&&Sp[u](d,m._a,m,u)}var Rt=0,Ii=1,ii=2,ft=3,Un=4,Di=5,yr=6,eA=7,tA=8;function nA(u,d){return(u%d+d)%d}var nt;Array.prototype.indexOf?nt=Array.prototype.indexOf:nt=function(u){var d;for(d=0;d<this.length;++d)if(this[d]===u)return d;return-1};function Iu(u,d){if(isNaN(u)||isNaN(d))return NaN;var m=nA(d,12);return u+=(d-m)/12,m===1?wu(u)?29:28:31-m%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),Y("MMMM",0,0,function(u){return this.localeData().months(this,u)}),Mt("month","M"),At("month",8),W("M",Re),W("MM",Re,mn),W("MMM",function(u,d){return d.monthsShortRegex(u)}),W("MMMM",function(u,d){return d.monthsRegex(u)}),Ie(["M","MM"],function(u,d){d[Ii]=le(u)-1}),Ie(["MMM","MMMM"],function(u,d,m,y){var k=m._locale.monthsParse(u,y,m._strict);k!=null?d[Ii]=k:w(m).invalidMonth=u});var iA="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),P_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),O_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sA=ja,rA=ja;function oA(u,d){return u?r(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||O_).test(d)?"format":"standalone"][u.month()]:r(this._months)?this._months:this._months.standalone}function aA(u,d){return u?r(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[O_.test(d)?"format":"standalone"][u.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lA(u,d,m){var y,k,C,P=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],y=0;y<12;++y)C=v([2e3,y]),this._shortMonthsParse[y]=this.monthsShort(C,"").toLocaleLowerCase(),this._longMonthsParse[y]=this.months(C,"").toLocaleLowerCase();return m?d==="MMM"?(k=nt.call(this._shortMonthsParse,P),k!==-1?k:null):(k=nt.call(this._longMonthsParse,P),k!==-1?k:null):d==="MMM"?(k=nt.call(this._shortMonthsParse,P),k!==-1?k:(k=nt.call(this._longMonthsParse,P),k!==-1?k:null)):(k=nt.call(this._longMonthsParse,P),k!==-1?k:(k=nt.call(this._shortMonthsParse,P),k!==-1?k:null))}function cA(u,d,m){var y,k,C;if(this._monthsParseExact)return lA.call(this,u,d,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),y=0;y<12;y++){if(k=v([2e3,y]),m&&!this._longMonthsParse[y]&&(this._longMonthsParse[y]=new RegExp("^"+this.months(k,"").replace(".","")+"$","i"),this._shortMonthsParse[y]=new RegExp("^"+this.monthsShort(k,"").replace(".","")+"$","i")),!m&&!this._monthsParse[y]&&(C="^"+this.months(k,"")+"|^"+this.monthsShort(k,""),this._monthsParse[y]=new RegExp(C.replace(".",""),"i")),m&&d==="MMMM"&&this._longMonthsParse[y].test(u))return y;if(m&&d==="MMM"&&this._shortMonthsParse[y].test(u))return y;if(!m&&this._monthsParse[y].test(u))return y}}function N_(u,d){var m;if(!u.isValid())return u;if(typeof d=="string"){if(/^\d+$/.test(d))d=le(d);else if(d=u.localeData().monthsParse(d),!h(d))return u}return m=Math.min(u.date(),Iu(u.year(),d)),u._d["set"+(u._isUTC?"UTC":"")+"Month"](d,m),u}function L_(u){return u!=null?(N_(this,u),i.updateOffset(this,!0),this):xu(this,"Month")}function uA(){return Iu(this.year(),this.month())}function hA(u){return this._monthsParseExact?(a(this,"_monthsRegex")||F_.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=sA),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function dA(u){return this._monthsParseExact?(a(this,"_monthsRegex")||F_.call(this),u?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=rA),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function F_(){function u(P,X){return X.length-P.length}var d=[],m=[],y=[],k,C;for(k=0;k<12;k++)C=v([2e3,k]),d.push(this.monthsShort(C,"")),m.push(this.months(C,"")),y.push(this.months(C,"")),y.push(this.monthsShort(C,""));for(d.sort(u),m.sort(u),y.sort(u),k=0;k<12;k++)d[k]=gn(d[k]),m[k]=gn(m[k]);for(k=0;k<24;k++)y[k]=gn(y[k]);this._monthsRegex=new RegExp("^("+y.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}Y("Y",0,0,function(){var u=this.year();return u<=9999?Q(u,4):"+"+u}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),Mt("year","y"),At("year",1),W("Y",Eu),W("YY",Re,mn),W("YYYY",bp,xp),W("YYYYY",ku,bu),W("YYYYYY",ku,bu),Ie(["YYYYY","YYYYYY"],Rt),Ie("YYYY",function(u,d){d[Rt]=u.length===2?i.parseTwoDigitYear(u):le(u)}),Ie("YY",function(u,d){d[Rt]=i.parseTwoDigitYear(u)}),Ie("Y",function(u,d){d[Rt]=parseInt(u,10)});function Ua(u){return wu(u)?366:365}i.parseTwoDigitYear=function(u){return le(u)+(le(u)>68?1900:2e3)};var j_=vo("FullYear",!0);function fA(){return wu(this.year())}function pA(u,d,m,y,k,C,P){var X;return u<100&&u>=0?(X=new Date(u+400,d,m,y,k,C,P),isFinite(X.getFullYear())&&X.setFullYear(u)):X=new Date(u,d,m,y,k,C,P),X}function za(u){var d,m;return u<100&&u>=0?(m=Array.prototype.slice.call(arguments),m[0]=u+400,d=new Date(Date.UTC.apply(null,m)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(u)):d=new Date(Date.UTC.apply(null,arguments)),d}function Du(u,d,m){var y=7+d-m,k=(7+za(u,0,y).getUTCDay()-d)%7;return-k+y-1}function $_(u,d,m,y,k){var C=(7+m-y)%7,P=Du(u,y,k),X=1+7*(d-1)+C+P,ae,De;return X<=0?(ae=u-1,De=Ua(ae)+X):X>Ua(u)?(ae=u+1,De=X-Ua(u)):(ae=u,De=X),{year:ae,dayOfYear:De}}function Va(u,d,m){var y=Du(u.year(),d,m),k=Math.floor((u.dayOfYear()-y-1)/7)+1,C,P;return k<1?(P=u.year()-1,C=k+Mi(P,d,m)):k>Mi(u.year(),d,m)?(C=k-Mi(u.year(),d,m),P=u.year()+1):(P=u.year(),C=k),{week:C,year:P}}function Mi(u,d,m){var y=Du(u,d,m),k=Du(u+1,d,m);return(Ua(u)-y+k)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),Mt("week","w"),Mt("isoWeek","W"),At("week",5),At("isoWeek",5),W("w",Re),W("ww",Re,mn),W("W",Re),W("WW",Re,mn),$a(["w","ww","W","WW"],function(u,d,m,y){d[y.substr(0,1)]=le(u)});function mA(u){return Va(u,this._week.dow,this._week.doy).week}var gA={dow:0,doy:6};function yA(){return this._week.dow}function vA(){return this._week.doy}function _A(u){var d=this.localeData().week(this);return u==null?d:this.add((u-d)*7,"d")}function wA(u){var d=Va(this,1,4).week;return u==null?d:this.add((u-d)*7,"d")}Y("d",0,"do","day"),Y("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),Y("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),Y("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),Mt("day","d"),Mt("weekday","e"),Mt("isoWeekday","E"),At("day",11),At("weekday",11),At("isoWeekday",11),W("d",Re),W("e",Re),W("E",Re),W("dd",function(u,d){return d.weekdaysMinRegex(u)}),W("ddd",function(u,d){return d.weekdaysShortRegex(u)}),W("dddd",function(u,d){return d.weekdaysRegex(u)}),$a(["dd","ddd","dddd"],function(u,d,m,y){var k=m._locale.weekdaysParse(u,y,m._strict);k!=null?d.d=k:w(m).invalidWeekday=u}),$a(["d","e","E"],function(u,d,m,y){d[y]=le(u)});function xA(u,d){return typeof u!="string"?u:isNaN(u)?(u=d.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function bA(u,d){return typeof u=="string"?d.weekdaysParse(u)%7||7:isNaN(u)?null:u}function kp(u,d){return u.slice(d,7).concat(u.slice(0,d))}var SA="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),U_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kA="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),EA=ja,TA=ja,CA=ja;function IA(u,d){var m=r(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return u===!0?kp(m,this._week.dow):u?m[u.day()]:m}function DA(u){return u===!0?kp(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function MA(u){return u===!0?kp(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function AA(u,d,m){var y,k,C,P=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],y=0;y<7;++y)C=v([2e3,1]).day(y),this._minWeekdaysParse[y]=this.weekdaysMin(C,"").toLocaleLowerCase(),this._shortWeekdaysParse[y]=this.weekdaysShort(C,"").toLocaleLowerCase(),this._weekdaysParse[y]=this.weekdays(C,"").toLocaleLowerCase();return m?d==="dddd"?(k=nt.call(this._weekdaysParse,P),k!==-1?k:null):d==="ddd"?(k=nt.call(this._shortWeekdaysParse,P),k!==-1?k:null):(k=nt.call(this._minWeekdaysParse,P),k!==-1?k:null):d==="dddd"?(k=nt.call(this._weekdaysParse,P),k!==-1||(k=nt.call(this._shortWeekdaysParse,P),k!==-1)?k:(k=nt.call(this._minWeekdaysParse,P),k!==-1?k:null)):d==="ddd"?(k=nt.call(this._shortWeekdaysParse,P),k!==-1||(k=nt.call(this._weekdaysParse,P),k!==-1)?k:(k=nt.call(this._minWeekdaysParse,P),k!==-1?k:null)):(k=nt.call(this._minWeekdaysParse,P),k!==-1||(k=nt.call(this._weekdaysParse,P),k!==-1)?k:(k=nt.call(this._shortWeekdaysParse,P),k!==-1?k:null))}function RA(u,d,m){var y,k,C;if(this._weekdaysParseExact)return AA.call(this,u,d,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),y=0;y<7;y++){if(k=v([2e3,1]).day(y),m&&!this._fullWeekdaysParse[y]&&(this._fullWeekdaysParse[y]=new RegExp("^"+this.weekdays(k,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[y]=new RegExp("^"+this.weekdaysShort(k,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[y]=new RegExp("^"+this.weekdaysMin(k,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[y]||(C="^"+this.weekdays(k,"")+"|^"+this.weekdaysShort(k,"")+"|^"+this.weekdaysMin(k,""),this._weekdaysParse[y]=new RegExp(C.replace(".",""),"i")),m&&d==="dddd"&&this._fullWeekdaysParse[y].test(u))return y;if(m&&d==="ddd"&&this._shortWeekdaysParse[y].test(u))return y;if(m&&d==="dd"&&this._minWeekdaysParse[y].test(u))return y;if(!m&&this._weekdaysParse[y].test(u))return y}}function PA(u){if(!this.isValid())return u!=null?this:NaN;var d=this._isUTC?this._d.getUTCDay():this._d.getDay();return u!=null?(u=xA(u,this.localeData()),this.add(u-d,"d")):d}function OA(u){if(!this.isValid())return u!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return u==null?d:this.add(u-d,"d")}function NA(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var d=bA(u,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function LA(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ep.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=EA),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function FA(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ep.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=TA),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jA(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ep.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=CA),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ep(){function u(Xt,Ni){return Ni.length-Xt.length}var d=[],m=[],y=[],k=[],C,P,X,ae,De;for(C=0;C<7;C++)P=v([2e3,1]).day(C),X=gn(this.weekdaysMin(P,"")),ae=gn(this.weekdaysShort(P,"")),De=gn(this.weekdays(P,"")),d.push(X),m.push(ae),y.push(De),k.push(X),k.push(ae),k.push(De);d.sort(u),m.sort(u),y.sort(u),k.sort(u),this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Tp(){return this.hours()%12||12}function $A(){return this.hours()||24}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Tp),Y("k",["kk",2],0,$A),Y("hmm",0,0,function(){return""+Tp.apply(this)+Q(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Tp.apply(this)+Q(this.minutes(),2)+Q(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+Q(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+Q(this.minutes(),2)+Q(this.seconds(),2)});function z_(u,d){Y(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}z_("a",!0),z_("A",!1),Mt("hour","h"),At("hour",13);function V_(u,d){return d._meridiemParse}W("a",V_),W("A",V_),W("H",Re),W("h",Re),W("k",Re),W("HH",Re,mn),W("hh",Re,mn),W("kk",Re,mn),W("hmm",A_),W("hmmss",R_),W("Hmm",A_),W("Hmmss",R_),Ie(["H","HH"],ft),Ie(["k","kk"],function(u,d,m){var y=le(u);d[ft]=y===24?0:y}),Ie(["a","A"],function(u,d,m){m._isPm=m._locale.isPM(u),m._meridiem=u}),Ie(["h","hh"],function(u,d,m){d[ft]=le(u),w(m).bigHour=!0}),Ie("hmm",function(u,d,m){var y=u.length-2;d[ft]=le(u.substr(0,y)),d[Un]=le(u.substr(y)),w(m).bigHour=!0}),Ie("hmmss",function(u,d,m){var y=u.length-4,k=u.length-2;d[ft]=le(u.substr(0,y)),d[Un]=le(u.substr(y,2)),d[Di]=le(u.substr(k)),w(m).bigHour=!0}),Ie("Hmm",function(u,d,m){var y=u.length-2;d[ft]=le(u.substr(0,y)),d[Un]=le(u.substr(y))}),Ie("Hmmss",function(u,d,m){var y=u.length-4,k=u.length-2;d[ft]=le(u.substr(0,y)),d[Un]=le(u.substr(y,2)),d[Di]=le(u.substr(k))});function UA(u){return(u+"").toLowerCase().charAt(0)==="p"}var zA=/[ap]\.?m?\.?/i,VA=vo("Hours",!0);function BA(u,d,m){return u>11?m?"pm":"PM":m?"am":"AM"}var B_={calendar:z,longDateFormat:LM,invalidDate:jM,ordinal:UM,dayOfMonthOrdinalParse:zM,relativeTime:BM,months:iA,monthsShort:P_,week:gA,weekdays:SA,weekdaysMin:kA,weekdaysShort:U_,meridiemParse:zA},Ue={},Ba={},Wa;function WA(u,d){var m,y=Math.min(u.length,d.length);for(m=0;m<y;m+=1)if(u[m]!==d[m])return m;return y}function W_(u){return u&&u.toLowerCase().replace("_","-")}function HA(u){for(var d=0,m,y,k,C;d<u.length;){for(C=W_(u[d]).split("-"),m=C.length,y=W_(u[d+1]),y=y?y.split("-"):null;m>0;){if(k=Mu(C.slice(0,m).join("-")),k)return k;if(y&&y.length>=m&&WA(C,y)>=m-1)break;m--}d++}return Wa}function YA(u){return u.match("^[^/\\\\]*$")!=null}function Mu(u){var d=null,m;if(Ue[u]===void 0&&t&&t.exports&&YA(u))try{d=Wa._abbr,m=OD,m("./locale/"+u),ds(d)}catch{Ue[u]=null}return Ue[u]}function ds(u,d){var m;return u&&(c(d)?m=Ai(u):m=Cp(u,d),m?Wa=m:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),Wa._abbr}function Cp(u,d){if(d!==null){var m,y=B_;if(d.abbr=u,Ue[u]!=null)q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),y=Ue[u]._config;else if(d.parentLocale!=null)if(Ue[d.parentLocale]!=null)y=Ue[d.parentLocale]._config;else if(m=Mu(d.parentLocale),m!=null)y=m._config;else return Ba[d.parentLocale]||(Ba[d.parentLocale]=[]),Ba[d.parentLocale].push({name:u,config:d}),null;return Ue[u]=new ye(ce(y,d)),Ba[u]&&Ba[u].forEach(function(k){Cp(k.name,k.config)}),ds(u),Ue[u]}else return delete Ue[u],null}function GA(u,d){if(d!=null){var m,y,k=B_;Ue[u]!=null&&Ue[u].parentLocale!=null?Ue[u].set(ce(Ue[u]._config,d)):(y=Mu(u),y!=null&&(k=y._config),d=ce(k,d),y==null&&(d.abbr=u),m=new ye(d),m.parentLocale=Ue[u],Ue[u]=m),ds(u)}else Ue[u]!=null&&(Ue[u].parentLocale!=null?(Ue[u]=Ue[u].parentLocale,u===ds()&&ds(u)):Ue[u]!=null&&delete Ue[u]);return Ue[u]}function Ai(u){var d;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return Wa;if(!r(u)){if(d=Mu(u),d)return d;u=[u]}return HA(u)}function KA(){return ke(Ue)}function Ip(u){var d,m=u._a;return m&&w(u).overflow===-2&&(d=m[Ii]<0||m[Ii]>11?Ii:m[ii]<1||m[ii]>Iu(m[Rt],m[Ii])?ii:m[ft]<0||m[ft]>24||m[ft]===24&&(m[Un]!==0||m[Di]!==0||m[yr]!==0)?ft:m[Un]<0||m[Un]>59?Un:m[Di]<0||m[Di]>59?Di:m[yr]<0||m[yr]>999?yr:-1,w(u)._overflowDayOfYear&&(d<Rt||d>ii)&&(d=ii),w(u)._overflowWeeks&&d===-1&&(d=eA),w(u)._overflowWeekday&&d===-1&&(d=tA),w(u).overflow=d),u}var qA=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,QA=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,XA=/Z|[+-]\d\d(?::?\d\d)?/,Au=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Dp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],JA=/^\/?Date\((-?\d+)/i,ZA=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,eR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function H_(u){var d,m,y=u._i,k=qA.exec(y)||QA.exec(y),C,P,X,ae,De=Au.length,Xt=Dp.length;if(k){for(w(u).iso=!0,d=0,m=De;d<m;d++)if(Au[d][1].exec(k[1])){P=Au[d][0],C=Au[d][2]!==!1;break}if(P==null){u._isValid=!1;return}if(k[3]){for(d=0,m=Xt;d<m;d++)if(Dp[d][1].exec(k[3])){X=(k[2]||" ")+Dp[d][0];break}if(X==null){u._isValid=!1;return}}if(!C&&X!=null){u._isValid=!1;return}if(k[4])if(XA.exec(k[4]))ae="Z";else{u._isValid=!1;return}u._f=P+(X||"")+(ae||""),Ap(u)}else u._isValid=!1}function tR(u,d,m,y,k,C){var P=[nR(u),P_.indexOf(d),parseInt(m,10),parseInt(y,10),parseInt(k,10)];return C&&P.push(parseInt(C,10)),P}function nR(u){var d=parseInt(u,10);return d<=49?2e3+d:d<=999?1900+d:d}function iR(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sR(u,d,m){if(u){var y=U_.indexOf(u),k=new Date(d[0],d[1],d[2]).getDay();if(y!==k)return w(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function rR(u,d,m){if(u)return eR[u];if(d)return 0;var y=parseInt(m,10),k=y%100,C=(y-k)/100;return C*60+k}function Y_(u){var d=ZA.exec(iR(u._i)),m;if(d){if(m=tR(d[4],d[3],d[2],d[5],d[6],d[7]),!sR(d[1],m,u))return;u._a=m,u._tzm=rR(d[8],d[9],d[10]),u._d=za.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),w(u).rfc2822=!0}else u._isValid=!1}function oR(u){var d=JA.exec(u._i);if(d!==null){u._d=new Date(+d[1]);return}if(H_(u),u._isValid===!1)delete u._isValid;else return;if(Y_(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:i.createFromInputFallback(u)}i.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function wo(u,d,m){return u??d??m}function aR(u){var d=new Date(i.now());return u._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function Mp(u){var d,m,y=[],k,C,P;if(!u._d){for(k=aR(u),u._w&&u._a[ii]==null&&u._a[Ii]==null&&lR(u),u._dayOfYear!=null&&(P=wo(u._a[Rt],k[Rt]),(u._dayOfYear>Ua(P)||u._dayOfYear===0)&&(w(u)._overflowDayOfYear=!0),m=za(P,0,u._dayOfYear),u._a[Ii]=m.getUTCMonth(),u._a[ii]=m.getUTCDate()),d=0;d<3&&u._a[d]==null;++d)u._a[d]=y[d]=k[d];for(;d<7;d++)u._a[d]=y[d]=u._a[d]==null?d===2?1:0:u._a[d];u._a[ft]===24&&u._a[Un]===0&&u._a[Di]===0&&u._a[yr]===0&&(u._nextDay=!0,u._a[ft]=0),u._d=(u._useUTC?za:pA).apply(null,y),C=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[ft]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==C&&(w(u).weekdayMismatch=!0)}}function lR(u){var d,m,y,k,C,P,X,ae,De;d=u._w,d.GG!=null||d.W!=null||d.E!=null?(C=1,P=4,m=wo(d.GG,u._a[Rt],Va(Pe(),1,4).year),y=wo(d.W,1),k=wo(d.E,1),(k<1||k>7)&&(ae=!0)):(C=u._locale._week.dow,P=u._locale._week.doy,De=Va(Pe(),C,P),m=wo(d.gg,u._a[Rt],De.year),y=wo(d.w,De.week),d.d!=null?(k=d.d,(k<0||k>6)&&(ae=!0)):d.e!=null?(k=d.e+C,(d.e<0||d.e>6)&&(ae=!0)):k=C),y<1||y>Mi(m,C,P)?w(u)._overflowWeeks=!0:ae!=null?w(u)._overflowWeekday=!0:(X=$_(m,y,k,C,P),u._a[Rt]=X.year,u._dayOfYear=X.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function Ap(u){if(u._f===i.ISO_8601){H_(u);return}if(u._f===i.RFC_2822){Y_(u);return}u._a=[],w(u).empty=!0;var d=""+u._i,m,y,k,C,P,X=d.length,ae=0,De,Xt;for(k=T_(u._f,u._locale).match(xe)||[],Xt=k.length,m=0;m<Xt;m++)C=k[m],y=(d.match(XM(C,u))||[])[0],y&&(P=d.substr(0,d.indexOf(y)),P.length>0&&w(u).unusedInput.push(P),d=d.slice(d.indexOf(y)+y.length),ae+=y.length),at[C]?(y?w(u).empty=!1:w(u).unusedTokens.push(C),ZM(C,y,u)):u._strict&&!y&&w(u).unusedTokens.push(C);w(u).charsLeftOver=X-ae,d.length>0&&w(u).unusedInput.push(d),u._a[ft]<=12&&w(u).bigHour===!0&&u._a[ft]>0&&(w(u).bigHour=void 0),w(u).parsedDateParts=u._a.slice(0),w(u).meridiem=u._meridiem,u._a[ft]=cR(u._locale,u._a[ft],u._meridiem),De=w(u).era,De!==null&&(u._a[Rt]=u._locale.erasConvertYear(De,u._a[Rt])),Mp(u),Ip(u)}function cR(u,d,m){var y;return m==null?d:u.meridiemHour!=null?u.meridiemHour(d,m):(u.isPM!=null&&(y=u.isPM(m),y&&d<12&&(d+=12),!y&&d===12&&(d=0)),d)}function uR(u){var d,m,y,k,C,P,X=!1,ae=u._f.length;if(ae===0){w(u).invalidFormat=!0,u._d=new Date(NaN);return}for(k=0;k<ae;k++)C=0,P=!1,d=M({},u),u._useUTC!=null&&(d._useUTC=u._useUTC),d._f=u._f[k],Ap(d),x(d)&&(P=!0),C+=w(d).charsLeftOver,C+=w(d).unusedTokens.length*10,w(d).score=C,X?C<y&&(y=C,m=d):(y==null||C<y||P)&&(y=C,m=d,P&&(X=!0));g(u,m||d)}function hR(u){if(!u._d){var d=wp(u._i),m=d.day===void 0?d.date:d.day;u._a=p([d.year,d.month,m,d.hour,d.minute,d.second,d.millisecond],function(y){return y&&parseInt(y,10)}),Mp(u)}}function dR(u){var d=new R(Ip(G_(u)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function G_(u){var d=u._i,m=u._f;return u._locale=u._locale||Ai(u._l),d===null||m===void 0&&d===""?E({nullInput:!0}):(typeof d=="string"&&(u._i=d=u._locale.preparse(d)),A(d)?new R(Ip(d)):(f(d)?u._d=d:r(m)?uR(u):m?Ap(u):fR(u),x(u)||(u._d=null),u))}function fR(u){var d=u._i;c(d)?u._d=new Date(i.now()):f(d)?u._d=new Date(d.valueOf()):typeof d=="string"?oR(u):r(d)?(u._a=p(d.slice(0),function(m){return parseInt(m,10)}),Mp(u)):o(d)?hR(u):h(d)?u._d=new Date(d):i.createFromInputFallback(u)}function K_(u,d,m,y,k){var C={};return(d===!0||d===!1)&&(y=d,d=void 0),(m===!0||m===!1)&&(y=m,m=void 0),(o(u)&&l(u)||r(u)&&u.length===0)&&(u=void 0),C._isAMomentObject=!0,C._useUTC=C._isUTC=k,C._l=m,C._i=u,C._f=d,C._strict=y,dR(C)}function Pe(u,d,m,y){return K_(u,d,m,y,!1)}var pR=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Pe.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:E()}),mR=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Pe.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:E()});function q_(u,d){var m,y;if(d.length===1&&r(d[0])&&(d=d[0]),!d.length)return Pe();for(m=d[0],y=1;y<d.length;++y)(!d[y].isValid()||d[y][u](m))&&(m=d[y]);return m}function gR(){var u=[].slice.call(arguments,0);return q_("isBefore",u)}function yR(){var u=[].slice.call(arguments,0);return q_("isAfter",u)}var vR=function(){return Date.now?Date.now():+new Date},Ha=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _R(u){var d,m=!1,y,k=Ha.length;for(d in u)if(a(u,d)&&!(nt.call(Ha,d)!==-1&&(u[d]==null||!isNaN(u[d]))))return!1;for(y=0;y<k;++y)if(u[Ha[y]]){if(m)return!1;parseFloat(u[Ha[y]])!==le(u[Ha[y]])&&(m=!0)}return!0}function wR(){return this._isValid}function xR(){return zn(NaN)}function Ru(u){var d=wp(u),m=d.year||0,y=d.quarter||0,k=d.month||0,C=d.week||d.isoWeek||0,P=d.day||0,X=d.hour||0,ae=d.minute||0,De=d.second||0,Xt=d.millisecond||0;this._isValid=_R(d),this._milliseconds=+Xt+De*1e3+ae*6e4+X*1e3*60*60,this._days=+P+C*7,this._months=+k+y*3+m*12,this._data={},this._locale=Ai(),this._bubble()}function Pu(u){return u instanceof Ru}function Rp(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function bR(u,d,m){var y=Math.min(u.length,d.length),k=Math.abs(u.length-d.length),C=0,P;for(P=0;P<y;P++)(m&&u[P]!==d[P]||!m&&le(u[P])!==le(d[P]))&&C++;return C+k}function Q_(u,d){Y(u,0,0,function(){var m=this.utcOffset(),y="+";return m<0&&(m=-m,y="-"),y+Q(~~(m/60),2)+d+Q(~~m%60,2)})}Q_("Z",":"),Q_("ZZ",""),W("Z",Tu),W("ZZ",Tu),Ie(["Z","ZZ"],function(u,d,m){m._useUTC=!0,m._tzm=Pp(Tu,u)});var SR=/([\+\-]|\d\d)/gi;function Pp(u,d){var m=(d||"").match(u),y,k,C;return m===null?null:(y=m[m.length-1]||[],k=(y+"").match(SR)||["-",0,0],C=+(k[1]*60)+le(k[2]),C===0?0:k[0]==="+"?C:-C)}function Op(u,d){var m,y;return d._isUTC?(m=d.clone(),y=(A(u)||f(u)?u.valueOf():Pe(u).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+y),i.updateOffset(m,!1),m):Pe(u).local()}function Np(u){return-Math.round(u._d.getTimezoneOffset())}i.updateOffset=function(){};function kR(u,d,m){var y=this._offset||0,k;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=Pp(Tu,u),u===null)return this}else Math.abs(u)<16&&!m&&(u=u*60);return!this._isUTC&&d&&(k=Np(this)),this._offset=u,this._isUTC=!0,k!=null&&this.add(k,"m"),y!==u&&(!d||this._changeInProgress?ew(this,zn(u-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?y:Np(this)}function ER(u,d){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,d),this):-this.utcOffset()}function TR(u){return this.utcOffset(0,u)}function CR(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(Np(this),"m")),this}function IR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=Pp(qM,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function DR(u){return this.isValid()?(u=u?Pe(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function MR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function AR(){if(!c(this._isDSTShifted))return this._isDSTShifted;var u={},d;return M(u,this),u=G_(u),u._a?(d=u._isUTC?v(u._a):Pe(u._a),this._isDSTShifted=this.isValid()&&bR(u._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function RR(){return this.isValid()?!this._isUTC:!1}function PR(){return this.isValid()?this._isUTC:!1}function X_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var OR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,NR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zn(u,d){var m=u,y=null,k,C,P;return Pu(u)?m={ms:u._milliseconds,d:u._days,M:u._months}:h(u)||!isNaN(+u)?(m={},d?m[d]=+u:m.milliseconds=+u):(y=OR.exec(u))?(k=y[1]==="-"?-1:1,m={y:0,d:le(y[ii])*k,h:le(y[ft])*k,m:le(y[Un])*k,s:le(y[Di])*k,ms:le(Rp(y[yr]*1e3))*k}):(y=NR.exec(u))?(k=y[1]==="-"?-1:1,m={y:vr(y[2],k),M:vr(y[3],k),w:vr(y[4],k),d:vr(y[5],k),h:vr(y[6],k),m:vr(y[7],k),s:vr(y[8],k)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(P=LR(Pe(m.from),Pe(m.to)),m={},m.ms=P.milliseconds,m.M=P.months),C=new Ru(m),Pu(u)&&a(u,"_locale")&&(C._locale=u._locale),Pu(u)&&a(u,"_isValid")&&(C._isValid=u._isValid),C}zn.fn=Ru.prototype,zn.invalid=xR;function vr(u,d){var m=u&&parseFloat(u.replace(",","."));return(isNaN(m)?0:m)*d}function J_(u,d){var m={};return m.months=d.month()-u.month()+(d.year()-u.year())*12,u.clone().add(m.months,"M").isAfter(d)&&--m.months,m.milliseconds=+d-+u.clone().add(m.months,"M"),m}function LR(u,d){var m;return u.isValid()&&d.isValid()?(d=Op(d,u),u.isBefore(d)?m=J_(u,d):(m=J_(d,u),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Z_(u,d){return function(m,y){var k,C;return y!==null&&!isNaN(+y)&&(q(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),C=m,m=y,y=C),k=zn(m,y),ew(this,k,u),this}}function ew(u,d,m,y){var k=d._milliseconds,C=Rp(d._days),P=Rp(d._months);u.isValid()&&(y=y??!0,P&&N_(u,xu(u,"Month")+P*m),C&&I_(u,"Date",xu(u,"Date")+C*m),k&&u._d.setTime(u._d.valueOf()+k*m),y&&i.updateOffset(u,C||P))}var FR=Z_(1,"add"),jR=Z_(-1,"subtract");function tw(u){return typeof u=="string"||u instanceof String}function $R(u){return A(u)||f(u)||tw(u)||h(u)||zR(u)||UR(u)||u===null||u===void 0}function UR(u){var d=o(u)&&!l(u),m=!1,y=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],k,C,P=y.length;for(k=0;k<P;k+=1)C=y[k],m=m||a(u,C);return d&&m}function zR(u){var d=r(u),m=!1;return d&&(m=u.filter(function(y){return!h(y)&&tw(u)}).length===0),d&&m}function VR(u){var d=o(u)&&!l(u),m=!1,y=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],k,C;for(k=0;k<y.length;k+=1)C=y[k],m=m||a(u,C);return d&&m}function BR(u,d){var m=u.diff(d,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function WR(u,d){arguments.length===1&&(arguments[0]?$R(arguments[0])?(u=arguments[0],d=void 0):VR(arguments[0])&&(d=arguments[0],u=void 0):(u=void 0,d=void 0));var m=u||Pe(),y=Op(m,this).startOf("day"),k=i.calendarFormat(this,y)||"sameElse",C=d&&(oe(d[k])?d[k].call(this,m):d[k]);return this.format(C||this.localeData().calendar(k,this,Pe(m)))}function HR(){return new R(this)}function YR(u,d){var m=A(u)?u:Pe(u);return this.isValid()&&m.isValid()?(d=Dn(d)||"millisecond",d==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(d).valueOf()):!1}function GR(u,d){var m=A(u)?u:Pe(u);return this.isValid()&&m.isValid()?(d=Dn(d)||"millisecond",d==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(d).valueOf()<m.valueOf()):!1}function KR(u,d,m,y){var k=A(u)?u:Pe(u),C=A(d)?d:Pe(d);return this.isValid()&&k.isValid()&&C.isValid()?(y=y||"()",(y[0]==="("?this.isAfter(k,m):!this.isBefore(k,m))&&(y[1]===")"?this.isBefore(C,m):!this.isAfter(C,m))):!1}function qR(u,d){var m=A(u)?u:Pe(u),y;return this.isValid()&&m.isValid()?(d=Dn(d)||"millisecond",d==="millisecond"?this.valueOf()===m.valueOf():(y=m.valueOf(),this.clone().startOf(d).valueOf()<=y&&y<=this.clone().endOf(d).valueOf())):!1}function QR(u,d){return this.isSame(u,d)||this.isAfter(u,d)}function XR(u,d){return this.isSame(u,d)||this.isBefore(u,d)}function JR(u,d,m){var y,k,C;if(!this.isValid())return NaN;if(y=Op(u,this),!y.isValid())return NaN;switch(k=(y.utcOffset()-this.utcOffset())*6e4,d=Dn(d),d){case"year":C=Ou(this,y)/12;break;case"month":C=Ou(this,y);break;case"quarter":C=Ou(this,y)/3;break;case"second":C=(this-y)/1e3;break;case"minute":C=(this-y)/6e4;break;case"hour":C=(this-y)/36e5;break;case"day":C=(this-y-k)/864e5;break;case"week":C=(this-y-k)/6048e5;break;default:C=this-y}return m?C:Mn(C)}function Ou(u,d){if(u.date()<d.date())return-Ou(d,u);var m=(d.year()-u.year())*12+(d.month()-u.month()),y=u.clone().add(m,"months"),k,C;return d-y<0?(k=u.clone().add(m-1,"months"),C=(d-y)/(y-k)):(k=u.clone().add(m+1,"months"),C=(d-y)/(k-y)),-(m+C)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ZR(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eP(u){if(!this.isValid())return null;var d=u!==!0,m=d?this.clone().utc():this;return m.year()<0||m.year()>9999?_u(m,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):oe(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_u(m,"Z")):_u(m,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tP(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",d="",m,y,k,C;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),m="["+u+'("]',y=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",k="-MM-DD[T]HH:mm:ss.SSS",C=d+'[")]',this.format(m+y+k+C)}function nP(u){u||(u=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var d=_u(this,u);return this.localeData().postformat(d)}function iP(u,d){return this.isValid()&&(A(u)&&u.isValid()||Pe(u).isValid())?zn({to:this,from:u}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function sP(u){return this.from(Pe(),u)}function rP(u,d){return this.isValid()&&(A(u)&&u.isValid()||Pe(u).isValid())?zn({from:this,to:u}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function oP(u){return this.to(Pe(),u)}function nw(u){var d;return u===void 0?this._locale._abbr:(d=Ai(u),d!=null&&(this._locale=d),this)}var iw=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function sw(){return this._locale}var Nu=1e3,xo=60*Nu,Lu=60*xo,rw=(365*400+97)*24*Lu;function bo(u,d){return(u%d+d)%d}function ow(u,d,m){return u<100&&u>=0?new Date(u+400,d,m)-rw:new Date(u,d,m).valueOf()}function aw(u,d,m){return u<100&&u>=0?Date.UTC(u+400,d,m)-rw:Date.UTC(u,d,m)}function aP(u){var d,m;if(u=Dn(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?aw:ow,u){case"year":d=m(this.year(),0,1);break;case"quarter":d=m(this.year(),this.month()-this.month()%3,1);break;case"month":d=m(this.year(),this.month(),1);break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=m(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=bo(d+(this._isUTC?0:this.utcOffset()*xo),Lu);break;case"minute":d=this._d.valueOf(),d-=bo(d,xo);break;case"second":d=this._d.valueOf(),d-=bo(d,Nu);break}return this._d.setTime(d),i.updateOffset(this,!0),this}function lP(u){var d,m;if(u=Dn(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?aw:ow,u){case"year":d=m(this.year()+1,0,1)-1;break;case"quarter":d=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=m(this.year(),this.month()+1,1)-1;break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=Lu-bo(d+(this._isUTC?0:this.utcOffset()*xo),Lu)-1;break;case"minute":d=this._d.valueOf(),d+=xo-bo(d,xo)-1;break;case"second":d=this._d.valueOf(),d+=Nu-bo(d,Nu)-1;break}return this._d.setTime(d),i.updateOffset(this,!0),this}function cP(){return this._d.valueOf()-(this._offset||0)*6e4}function uP(){return Math.floor(this.valueOf()/1e3)}function hP(){return new Date(this.valueOf())}function dP(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function fP(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function pP(){return this.isValid()?this.toISOString():null}function mP(){return x(this)}function gP(){return g({},w(this))}function yP(){return w(this).overflow}function vP(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr"),Y("NN",0,0,"eraAbbr"),Y("NNN",0,0,"eraAbbr"),Y("NNNN",0,0,"eraName"),Y("NNNNN",0,0,"eraNarrow"),Y("y",["y",1],"yo","eraYear"),Y("y",["yy",2],0,"eraYear"),Y("y",["yyy",3],0,"eraYear"),Y("y",["yyyy",4],0,"eraYear"),W("N",Lp),W("NN",Lp),W("NNN",Lp),W("NNNN",DP),W("NNNNN",MP),Ie(["N","NN","NNN","NNNN","NNNNN"],function(u,d,m,y){var k=m._locale.erasParse(u,y,m._strict);k?w(m).era=k:w(m).invalidEra=u}),W("y",_o),W("yy",_o),W("yyy",_o),W("yyyy",_o),W("yo",AP),Ie(["y","yy","yyy","yyyy"],Rt),Ie(["yo"],function(u,d,m,y){var k;m._locale._eraYearOrdinalRegex&&(k=u.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?d[Rt]=m._locale.eraYearOrdinalParse(u,k):d[Rt]=parseInt(u,10)});function _P(u,d){var m,y,k,C=this._eras||Ai("en")._eras;for(m=0,y=C.length;m<y;++m){switch(typeof C[m].since){case"string":k=i(C[m].since).startOf("day"),C[m].since=k.valueOf();break}switch(typeof C[m].until){case"undefined":C[m].until=1/0;break;case"string":k=i(C[m].until).startOf("day").valueOf(),C[m].until=k.valueOf();break}}return C}function wP(u,d,m){var y,k,C=this.eras(),P,X,ae;for(u=u.toUpperCase(),y=0,k=C.length;y<k;++y)if(P=C[y].name.toUpperCase(),X=C[y].abbr.toUpperCase(),ae=C[y].narrow.toUpperCase(),m)switch(d){case"N":case"NN":case"NNN":if(X===u)return C[y];break;case"NNNN":if(P===u)return C[y];break;case"NNNNN":if(ae===u)return C[y];break}else if([P,X,ae].indexOf(u)>=0)return C[y]}function xP(u,d){var m=u.since<=u.until?1:-1;return d===void 0?i(u.since).year():i(u.since).year()+(d-u.offset)*m}function bP(){var u,d,m,y=this.localeData().eras();for(u=0,d=y.length;u<d;++u)if(m=this.clone().startOf("day").valueOf(),y[u].since<=m&&m<=y[u].until||y[u].until<=m&&m<=y[u].since)return y[u].name;return""}function SP(){var u,d,m,y=this.localeData().eras();for(u=0,d=y.length;u<d;++u)if(m=this.clone().startOf("day").valueOf(),y[u].since<=m&&m<=y[u].until||y[u].until<=m&&m<=y[u].since)return y[u].narrow;return""}function kP(){var u,d,m,y=this.localeData().eras();for(u=0,d=y.length;u<d;++u)if(m=this.clone().startOf("day").valueOf(),y[u].since<=m&&m<=y[u].until||y[u].until<=m&&m<=y[u].since)return y[u].abbr;return""}function EP(){var u,d,m,y,k=this.localeData().eras();for(u=0,d=k.length;u<d;++u)if(m=k[u].since<=k[u].until?1:-1,y=this.clone().startOf("day").valueOf(),k[u].since<=y&&y<=k[u].until||k[u].until<=y&&y<=k[u].since)return(this.year()-i(k[u].since).year())*m+k[u].offset;return this.year()}function TP(u){return a(this,"_erasNameRegex")||Fp.call(this),u?this._erasNameRegex:this._erasRegex}function CP(u){return a(this,"_erasAbbrRegex")||Fp.call(this),u?this._erasAbbrRegex:this._erasRegex}function IP(u){return a(this,"_erasNarrowRegex")||Fp.call(this),u?this._erasNarrowRegex:this._erasRegex}function Lp(u,d){return d.erasAbbrRegex(u)}function DP(u,d){return d.erasNameRegex(u)}function MP(u,d){return d.erasNarrowRegex(u)}function AP(u,d){return d._eraYearOrdinalRegex||_o}function Fp(){var u=[],d=[],m=[],y=[],k,C,P=this.eras();for(k=0,C=P.length;k<C;++k)d.push(gn(P[k].name)),u.push(gn(P[k].abbr)),m.push(gn(P[k].narrow)),y.push(gn(P[k].name)),y.push(gn(P[k].abbr)),y.push(gn(P[k].narrow));this._erasRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Fu(u,d){Y(0,[u,u.length],0,d)}Fu("gggg","weekYear"),Fu("ggggg","weekYear"),Fu("GGGG","isoWeekYear"),Fu("GGGGG","isoWeekYear"),Mt("weekYear","gg"),Mt("isoWeekYear","GG"),At("weekYear",1),At("isoWeekYear",1),W("G",Eu),W("g",Eu),W("GG",Re,mn),W("gg",Re,mn),W("GGGG",bp,xp),W("gggg",bp,xp),W("GGGGG",ku,bu),W("ggggg",ku,bu),$a(["gggg","ggggg","GGGG","GGGGG"],function(u,d,m,y){d[y.substr(0,2)]=le(u)}),$a(["gg","GG"],function(u,d,m,y){d[y]=i.parseTwoDigitYear(u)});function RP(u){return lw.call(this,u,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function PP(u){return lw.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function OP(){return Mi(this.year(),1,4)}function NP(){return Mi(this.isoWeekYear(),1,4)}function LP(){var u=this.localeData()._week;return Mi(this.year(),u.dow,u.doy)}function FP(){var u=this.localeData()._week;return Mi(this.weekYear(),u.dow,u.doy)}function lw(u,d,m,y,k){var C;return u==null?Va(this,y,k).year:(C=Mi(u,y,k),d>C&&(d=C),jP.call(this,u,d,m,y,k))}function jP(u,d,m,y,k){var C=$_(u,d,m,y,k),P=za(C.year,0,C.dayOfYear);return this.year(P.getUTCFullYear()),this.month(P.getUTCMonth()),this.date(P.getUTCDate()),this}Y("Q",0,"Qo","quarter"),Mt("quarter","Q"),At("quarter",7),W("Q",D_),Ie("Q",function(u,d){d[Ii]=(le(u)-1)*3});function $P(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date"),Mt("date","D"),At("date",9),W("D",Re),W("DD",Re,mn),W("Do",function(u,d){return u?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),Ie(["D","DD"],ii),Ie("Do",function(u,d){d[ii]=le(u.match(Re)[0])});var cw=vo("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),Mt("dayOfYear","DDD"),At("dayOfYear",4),W("DDD",Su),W("DDDD",M_),Ie(["DDD","DDDD"],function(u,d,m){m._dayOfYear=le(u)});function UP(u){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?d:this.add(u-d,"d")}Y("m",["mm",2],0,"minute"),Mt("minute","m"),At("minute",14),W("m",Re),W("mm",Re,mn),Ie(["m","mm"],Un);var zP=vo("Minutes",!1);Y("s",["ss",2],0,"second"),Mt("second","s"),At("second",15),W("s",Re),W("ss",Re,mn),Ie(["s","ss"],Di);var VP=vo("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return this.millisecond()*10}),Y(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Mt("millisecond","ms"),At("millisecond",16),W("S",Su,D_),W("SS",Su,mn),W("SSS",Su,M_);var fs,uw;for(fs="SSSS";fs.length<=9;fs+="S")W(fs,_o);function BP(u,d){d[yr]=le(("0."+u)*1e3)}for(fs="S";fs.length<=9;fs+="S")Ie(fs,BP);uw=vo("Milliseconds",!1),Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");function WP(){return this._isUTC?"UTC":""}function HP(){return this._isUTC?"Coordinated Universal Time":""}var j=R.prototype;j.add=FR,j.calendar=WR,j.clone=HR,j.diff=JR,j.endOf=lP,j.format=nP,j.from=iP,j.fromNow=sP,j.to=rP,j.toNow=oP,j.get=GM,j.invalidAt=yP,j.isAfter=YR,j.isBefore=GR,j.isBetween=KR,j.isSame=qR,j.isSameOrAfter=QR,j.isSameOrBefore=XR,j.isValid=mP,j.lang=iw,j.locale=nw,j.localeData=sw,j.max=mR,j.min=pR,j.parsingFlags=gP,j.set=KM,j.startOf=aP,j.subtract=jR,j.toArray=dP,j.toObject=fP,j.toDate=hP,j.toISOString=eP,j.inspect=tP,typeof Symbol<"u"&&Symbol.for!=null&&(j[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),j.toJSON=pP,j.toString=ZR,j.unix=uP,j.valueOf=cP,j.creationData=vP,j.eraName=bP,j.eraNarrow=SP,j.eraAbbr=kP,j.eraYear=EP,j.year=j_,j.isLeapYear=fA,j.weekYear=RP,j.isoWeekYear=PP,j.quarter=j.quarters=$P,j.month=L_,j.daysInMonth=uA,j.week=j.weeks=_A,j.isoWeek=j.isoWeeks=wA,j.weeksInYear=LP,j.weeksInWeekYear=FP,j.isoWeeksInYear=OP,j.isoWeeksInISOWeekYear=NP,j.date=cw,j.day=j.days=PA,j.weekday=OA,j.isoWeekday=NA,j.dayOfYear=UP,j.hour=j.hours=VA,j.minute=j.minutes=zP,j.second=j.seconds=VP,j.millisecond=j.milliseconds=uw,j.utcOffset=kR,j.utc=TR,j.local=CR,j.parseZone=IR,j.hasAlignedHourOffset=DR,j.isDST=MR,j.isLocal=RR,j.isUtcOffset=PR,j.isUtc=X_,j.isUTC=X_,j.zoneAbbr=WP,j.zoneName=HP,j.dates=O("dates accessor is deprecated. Use date instead.",cw),j.months=O("months accessor is deprecated. Use month instead",L_),j.years=O("years accessor is deprecated. Use year instead",j_),j.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ER),j.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",AR);function YP(u){return Pe(u*1e3)}function GP(){return Pe.apply(null,arguments).parseZone()}function hw(u){return u}var ve=ye.prototype;ve.calendar=G,ve.longDateFormat=FM,ve.invalidDate=$M,ve.ordinal=VM,ve.preparse=hw,ve.postformat=hw,ve.relativeTime=WM,ve.pastFuture=HM,ve.set=tt,ve.eras=_P,ve.erasParse=wP,ve.erasConvertYear=xP,ve.erasAbbrRegex=CP,ve.erasNameRegex=TP,ve.erasNarrowRegex=IP,ve.months=oA,ve.monthsShort=aA,ve.monthsParse=cA,ve.monthsRegex=dA,ve.monthsShortRegex=hA,ve.week=mA,ve.firstDayOfYear=vA,ve.firstDayOfWeek=yA,ve.weekdays=IA,ve.weekdaysMin=MA,ve.weekdaysShort=DA,ve.weekdaysParse=RA,ve.weekdaysRegex=LA,ve.weekdaysShortRegex=FA,ve.weekdaysMinRegex=jA,ve.isPM=UA,ve.meridiem=BA;function ju(u,d,m,y){var k=Ai(),C=v().set(y,d);return k[m](C,u)}function dw(u,d,m){if(h(u)&&(d=u,u=void 0),u=u||"",d!=null)return ju(u,d,m,"month");var y,k=[];for(y=0;y<12;y++)k[y]=ju(u,y,m,"month");return k}function jp(u,d,m,y){typeof u=="boolean"?(h(d)&&(m=d,d=void 0),d=d||""):(d=u,m=d,u=!1,h(d)&&(m=d,d=void 0),d=d||"");var k=Ai(),C=u?k._week.dow:0,P,X=[];if(m!=null)return ju(d,(m+C)%7,y,"day");for(P=0;P<7;P++)X[P]=ju(d,(P+C)%7,y,"day");return X}function KP(u,d){return dw(u,d,"months")}function qP(u,d){return dw(u,d,"monthsShort")}function QP(u,d,m){return jp(u,d,m,"weekdays")}function XP(u,d,m){return jp(u,d,m,"weekdaysShort")}function JP(u,d,m){return jp(u,d,m,"weekdaysMin")}ds("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var d=u%10,m=le(u%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return u+m}}),i.lang=O("moment.lang is deprecated. Use moment.locale instead.",ds),i.langData=O("moment.langData is deprecated. Use moment.localeData instead.",Ai);var Ri=Math.abs;function ZP(){var u=this._data;return this._milliseconds=Ri(this._milliseconds),this._days=Ri(this._days),this._months=Ri(this._months),u.milliseconds=Ri(u.milliseconds),u.seconds=Ri(u.seconds),u.minutes=Ri(u.minutes),u.hours=Ri(u.hours),u.months=Ri(u.months),u.years=Ri(u.years),this}function fw(u,d,m,y){var k=zn(d,m);return u._milliseconds+=y*k._milliseconds,u._days+=y*k._days,u._months+=y*k._months,u._bubble()}function eO(u,d){return fw(this,u,d,1)}function tO(u,d){return fw(this,u,d,-1)}function pw(u){return u<0?Math.floor(u):Math.ceil(u)}function nO(){var u=this._milliseconds,d=this._days,m=this._months,y=this._data,k,C,P,X,ae;return u>=0&&d>=0&&m>=0||u<=0&&d<=0&&m<=0||(u+=pw($p(m)+d)*864e5,d=0,m=0),y.milliseconds=u%1e3,k=Mn(u/1e3),y.seconds=k%60,C=Mn(k/60),y.minutes=C%60,P=Mn(C/60),y.hours=P%24,d+=Mn(P/24),ae=Mn(mw(d)),m+=ae,d-=pw($p(ae)),X=Mn(m/12),m%=12,y.days=d,y.months=m,y.years=X,this}function mw(u){return u*4800/146097}function $p(u){return u*146097/4800}function iO(u){if(!this.isValid())return NaN;var d,m,y=this._milliseconds;if(u=Dn(u),u==="month"||u==="quarter"||u==="year")switch(d=this._days+y/864e5,m=this._months+mw(d),u){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(d=this._days+Math.round($p(this._months)),u){case"week":return d/7+y/6048e5;case"day":return d+y/864e5;case"hour":return d*24+y/36e5;case"minute":return d*1440+y/6e4;case"second":return d*86400+y/1e3;case"millisecond":return Math.floor(d*864e5)+y;default:throw new Error("Unknown unit "+u)}}function sO(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+le(this._months/12)*31536e6:NaN}function Pi(u){return function(){return this.as(u)}}var rO=Pi("ms"),oO=Pi("s"),aO=Pi("m"),lO=Pi("h"),cO=Pi("d"),uO=Pi("w"),hO=Pi("M"),dO=Pi("Q"),fO=Pi("y");function pO(){return zn(this)}function mO(u){return u=Dn(u),this.isValid()?this[u+"s"]():NaN}function _r(u){return function(){return this.isValid()?this._data[u]:NaN}}var gO=_r("milliseconds"),yO=_r("seconds"),vO=_r("minutes"),_O=_r("hours"),wO=_r("days"),xO=_r("months"),bO=_r("years");function SO(){return Mn(this.days()/7)}var Oi=Math.round,So={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kO(u,d,m,y,k){return k.relativeTime(d||1,!!m,u,y)}function EO(u,d,m,y){var k=zn(u).abs(),C=Oi(k.as("s")),P=Oi(k.as("m")),X=Oi(k.as("h")),ae=Oi(k.as("d")),De=Oi(k.as("M")),Xt=Oi(k.as("w")),Ni=Oi(k.as("y")),ps=C<=m.ss&&["s",C]||C<m.s&&["ss",C]||P<=1&&["m"]||P<m.m&&["mm",P]||X<=1&&["h"]||X<m.h&&["hh",X]||ae<=1&&["d"]||ae<m.d&&["dd",ae];return m.w!=null&&(ps=ps||Xt<=1&&["w"]||Xt<m.w&&["ww",Xt]),ps=ps||De<=1&&["M"]||De<m.M&&["MM",De]||Ni<=1&&["y"]||["yy",Ni],ps[2]=d,ps[3]=+u>0,ps[4]=y,kO.apply(null,ps)}function TO(u){return u===void 0?Oi:typeof u=="function"?(Oi=u,!0):!1}function CO(u,d){return So[u]===void 0?!1:d===void 0?So[u]:(So[u]=d,u==="s"&&(So.ss=d-1),!0)}function IO(u,d){if(!this.isValid())return this.localeData().invalidDate();var m=!1,y=So,k,C;return typeof u=="object"&&(d=u,u=!1),typeof u=="boolean"&&(m=u),typeof d=="object"&&(y=Object.assign({},So,d),d.s!=null&&d.ss==null&&(y.ss=d.s-1)),k=this.localeData(),C=EO(this,!m,y,k),m&&(C=k.pastFuture(+this,C)),k.postformat(C)}var Up=Math.abs;function ko(u){return(u>0)-(u<0)||+u}function $u(){if(!this.isValid())return this.localeData().invalidDate();var u=Up(this._milliseconds)/1e3,d=Up(this._days),m=Up(this._months),y,k,C,P,X=this.asSeconds(),ae,De,Xt,Ni;return X?(y=Mn(u/60),k=Mn(y/60),u%=60,y%=60,C=Mn(m/12),m%=12,P=u?u.toFixed(3).replace(/\.?0+$/,""):"",ae=X<0?"-":"",De=ko(this._months)!==ko(X)?"-":"",Xt=ko(this._days)!==ko(X)?"-":"",Ni=ko(this._milliseconds)!==ko(X)?"-":"",ae+"P"+(C?De+C+"Y":"")+(m?De+m+"M":"")+(d?Xt+d+"D":"")+(k||y||u?"T":"")+(k?Ni+k+"H":"")+(y?Ni+y+"M":"")+(u?Ni+P+"S":"")):"P0D"}var fe=Ru.prototype;fe.isValid=wR,fe.abs=ZP,fe.add=eO,fe.subtract=tO,fe.as=iO,fe.asMilliseconds=rO,fe.asSeconds=oO,fe.asMinutes=aO,fe.asHours=lO,fe.asDays=cO,fe.asWeeks=uO,fe.asMonths=hO,fe.asQuarters=dO,fe.asYears=fO,fe.valueOf=sO,fe._bubble=nO,fe.clone=pO,fe.get=mO,fe.milliseconds=gO,fe.seconds=yO,fe.minutes=vO,fe.hours=_O,fe.days=wO,fe.weeks=SO,fe.months=xO,fe.years=bO,fe.humanize=IO,fe.toISOString=$u,fe.toString=$u,fe.toJSON=$u,fe.locale=nw,fe.localeData=sw,fe.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$u),fe.lang=iw,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),W("x",Eu),W("X",QM),Ie("X",function(u,d,m){m._d=new Date(parseFloat(u)*1e3)}),Ie("x",function(u,d,m){m._d=new Date(le(u))});//! moment.js
return i.version="2.29.4",s(Pe),i.fn=j,i.min=gR,i.max=yR,i.now=vR,i.utc=v,i.unix=YP,i.months=KP,i.isDate=f,i.locale=ds,i.invalid=E,i.duration=zn,i.isMoment=A,i.weekdays=QP,i.parseZone=GP,i.localeData=Ai,i.isDuration=Pu,i.monthsShort=qP,i.weekdaysMin=JP,i.defineLocale=Cp,i.updateLocale=GA,i.locales=KA,i.weekdaysShort=XP,i.normalizeUnits=Dn,i.relativeTimeRounding=TO,i.relativeTimeThreshold=CO,i.calendarFormat=BR,i.prototype=j,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(zm)),zm.exports}(function(t,e){(function(n,i){i(typeof OD=="function"?t6():n.moment)})(OS,function(n){//! moment.js locale configuration
var i=n.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(s){var r=s%10,o=~~(s%100/10)===1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th";return s+o},week:{dow:1,doy:4}});return i})})();/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function mu(t){return t+.5|0}const Ls=(t,e,n)=>Math.max(Math.min(t,n),e);function wl(t){return Ls(mu(t*2.55),0,255)}function Zs(t){return Ls(mu(t*255),0,255)}function Bi(t){return Ls(mu(t/2.55)/100,0,1)}function lb(t){return Ls(mu(t*100),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fy=[..."0123456789ABCDEF"],n6=t=>Fy[t&15],i6=t=>Fy[(t&240)>>4]+Fy[t&15],_h=t=>(t&240)>>4===(t&15),s6=t=>_h(t.r)&&_h(t.g)&&_h(t.b)&&_h(t.a);function r6(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&An[t[1]]*17,g:255&An[t[2]]*17,b:255&An[t[3]]*17,a:e===5?An[t[4]]*17:255}:(e===7||e===9)&&(n={r:An[t[1]]<<4|An[t[2]],g:An[t[3]]<<4|An[t[4]],b:An[t[5]]<<4|An[t[6]],a:e===9?An[t[7]]<<4|An[t[8]]:255})),n}const o6=(t,e)=>t<255?e(t):"";function a6(t){var e=s6(t)?n6:i6;return t?"#"+e(t.r)+e(t.g)+e(t.b)+o6(t.a,e):void 0}const l6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ND(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function c6(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function u6(t,e,n){const i=ND(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function h6(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function u_(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=h6(n,i,s,h,r),l=l*60+.5),[l|0,c||0,a]}function h_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Zs)}function d_(t,e,n){return h_(ND,t,e,n)}function d6(t,e,n){return h_(u6,t,e,n)}function f6(t,e,n){return h_(c6,t,e,n)}function LD(t){return(t%360+360)%360}function p6(t){const e=l6.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?wl(+e[5]):Zs(+e[5]));const s=LD(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=d6(s,r,o):e[1]==="hsv"?i=f6(s,r,o):i=d_(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function m6(t,e){var n=u_(t);n[0]=LD(n[0]+e),n=d_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function g6(t){if(!t)return;const e=u_(t),n=e[0],i=lb(e[1]),s=lb(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Bi(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const cb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ub={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y6(){const t={},e=Object.keys(ub),n=Object.keys(cb);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,cb[r]);r=parseInt(ub[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let wh;function v6(t){wh||(wh=y6(),wh.transparent=[0,0,0,0]);const e=wh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function w6(t){const e=_6.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?wl(o):Ls(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?wl(i):Ls(i,0,255)),s=255&(e[4]?wl(s):Ls(s,0,255)),r=255&(e[6]?wl(r):Ls(r,0,255)),{r:i,g:s,b:r,a:n}}}function x6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Co=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function b6(t,e,n){const i=Co(Bi(t.r)),s=Co(Bi(t.g)),r=Co(Bi(t.b));return{r:Zs(Vm(i+n*(Co(Bi(e.r))-i))),g:Zs(Vm(s+n*(Co(Bi(e.g))-s))),b:Zs(Vm(r+n*(Co(Bi(e.b))-r))),a:t.a+n*(e.a-t.a)}}function xh(t,e,n){if(t){let i=u_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=d_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function FD(t,e){return t&&Object.assign(e||{},t)}function hb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Zs(t[3]))):(e=FD(t,{r:0,g:0,b:0,a:1}),e.a=Zs(e.a)),e}function S6(t){return t.charAt(0)==="r"?w6(t):p6(t)}class Pc{constructor(e){if(e instanceof Pc)return e;const n=typeof e;let i;n==="object"?i=hb(e):n==="string"&&(i=r6(e)||v6(e)||S6(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=FD(this._rgb);return e&&(e.a=Bi(e.a)),e}set rgb(e){this._rgb=hb(e)}rgbString(){return this._valid?x6(this._rgb):void 0}hexString(){return this._valid?a6(this._rgb):void 0}hslString(){return this._valid?g6(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=b6(this._rgb,e._rgb,n)),this}clone(){return new Pc(this.rgb)}alpha(e){return this._rgb.a=Zs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=mu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xh(this._rgb,2,e),this}darken(e){return xh(this._rgb,2,-e),this}saturate(e){return xh(this._rgb,1,e),this}desaturate(e){return xh(this._rgb,1,-e),this}rotate(e){return m6(this._rgb,e),this}}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Fi(){}const k6=(()=>{let t=0;return()=>t++})();function ge(t){return t===null||typeof t>"u"}function Le(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function he(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function yn(t,e){return qe(t)?t:e}function se(t,e){return typeof t>"u"?e:t}const E6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,jD=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Me(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ee(t,e,n,i){let s,r,o;if(Le(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(he(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function sf(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function rf(t){if(Le(t))return t.map(rf);if(he(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=rf(t[n[s]]);return e}return t}function $D(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function T6(t,e,n,i){if(!$D(t))return;const s=e[t],r=n[t];he(s)&&he(r)?Oc(s,r,i):e[t]=rf(r)}function Oc(t,e,n){const i=Le(e)?e:[e],s=i.length;if(!he(t))return t;n=n||{};const r=n.merger||T6;let o;for(let a=0;a<s;++a){if(o=i[a],!he(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],t,o,n)}return t}function Vl(t,e){return Oc(t,e,{merger:C6})}function C6(t,e,n){if(!$D(t))return;const i=e[t],s=n[t];he(i)&&he(s)?Vl(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=rf(s))}const db={"":t=>t,x:t=>t.x,y:t=>t.y};function I6(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function D6(t){const e=I6(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function or(t,e){return(db[e]||(db[e]=D6(e)))(t)}function f_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nc=t=>typeof t<"u",ar=t=>typeof t=="function",fb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function M6(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ve=Math.PI,je=2*Ve,A6=je+Ve,of=Number.POSITIVE_INFINITY,R6=Ve/180,Qe=Ve/2,wr=Ve/4,pb=Ve*2/3,Fs=Math.log10,Si=Math.sign;function Bl(t,e,n){return Math.abs(t-e)<n}function mb(t){const e=Math.round(t);t=Bl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fs(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function P6(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function ba(t){return!isNaN(parseFloat(t))&&isFinite(t)}function O6(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function UD(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Yn(t){return t*(Ve/180)}function p_(t){return t*(180/Ve)}function gb(t){if(!qe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function zD(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Ve&&(r+=je),{angle:r,distance:s}}function jy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function N6(t,e){return(t-e+A6)%je-Ve}function _n(t){return(t%je+je)%je}function Lc(t,e,n,i){const s=_n(t),r=_n(e),o=_n(n),a=_n(r-s),l=_n(o-s),c=_n(s-r),h=_n(s-o);return s===r||s===o||i&&r===o||a>l&&c<h}function xt(t,e,n){return Math.max(e,Math.min(n,t))}function L6(t){return xt(t,-32768,32767)}function Qi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function m_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Xi=(t,e,n,i)=>m_(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),F6=(t,e,n)=>m_(t,n,i=>t[i][e]>=n);function j6(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const VD=["push","pop","shift","splice","unshift"];function $6(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VD.forEach(n=>{const i="_onData"+f_(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function yb(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(VD.forEach(r=>{delete t[r]}),delete t._chartjs)}function BD(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const WD=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function HD(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,WD.call(window,()=>{i=!1,t.apply(e,n)}))}}function U6(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const g_=t=>t==="start"?"left":t==="end"?"right":"center",jt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,z6=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function YD(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:h,minDefined:f,maxDefined:p}=o.getUserBounds();f&&(s=xt(Math.min(Xi(a,o.axis,c).lo,n?i:Xi(e,l,o.getPixelForValue(c)).lo),0,i-1)),p?r=xt(Math.max(Xi(a,o.axis,h,!0).hi+1,n?0:Xi(e,l,o.getPixelForValue(h),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function GD(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const bh=t=>t===0||t===1,vb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*je/n)),_b=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*je/n)+1,Wl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Qe)+1,easeOutSine:t=>Math.sin(t*Qe),easeInOutSine:t=>-.5*(Math.cos(Ve*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>bh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>bh(t)?t:vb(t,.075,.3),easeOutElastic:t=>bh(t)?t:_b(t,.075,.3),easeInOutElastic(t){return bh(t)?t:t<.5?.5*vb(t*2,.1125,.45):.5+.5*_b(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wl.easeInBounce(t*2)*.5:Wl.easeOutBounce(t*2-1)*.5+.5};function y_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wb(t){return y_(t)?t:new Pc(t)}function Bm(t){return y_(t)?t:new Pc(t).saturate(.5).darken(.1).hexString()}const V6=["x","y","borderWidth","radius","tension"],B6=["color","borderColor","backgroundColor"];function W6(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:B6},numbers:{type:"number",properties:V6}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function H6(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xb=new Map;function Y6(t,e){e=e||{};const n=t+JSON.stringify(e);let i=xb.get(n);return i||(i=new Intl.NumberFormat(t,e),xb.set(n,i)),i}function gu(t,e,n){return Y6(e,n).format(t)}const KD={values(t){return Le(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=G6(t,n)}const o=Fs(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),gu(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Fs(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?KD.numeric.call(this,t,e,n):""}};function G6(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pp={formatters:KD};function K6(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const no=Object.create(null),$y=Object.create(null);function Hl(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Wm(t,e,n){return typeof e=="string"?Oc(Hl(t,e),n):Oc(Hl(t,""),e)}class q6{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Bm(s.backgroundColor),this.hoverBorderColor=(i,s)=>Bm(s.borderColor),this.hoverColor=(i,s)=>Bm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wm(this,e,n)}get(e){return Hl(this,e)}describe(e,n){return Wm($y,e,n)}override(e,n){return Wm(no,e,n)}route(e,n,i,s){const r=Hl(this,e),o=Hl(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return he(l)?Object.assign({},c,l):se(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Xe=new q6({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[W6,H6,K6]);function Q6(t){return!t||ge(t.size)||ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function af(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function X6(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,h,f,p;for(l=0;l<a;l++)if(f=n[l],f!=null&&!Le(f))o=af(t,s,r,o,f);else if(Le(f))for(c=0,h=f.length;c<h;c++)p=f[c],p!=null&&!Le(p)&&(o=af(t,s,r,o,p));t.restore();const g=r.length/2;if(g>n.length){for(l=0;l<g;l++)delete s[r[l]];r.splice(0,g)}return o}function xr(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function bb(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Uy(t,e,n,i){qD(t,e,n,i,null)}function qD(t,e,n,i,s){let r,o,a,l,c,h,f,p;const g=e.pointStyle,v=e.rotation,_=e.radius;let w=(v||0)*R6;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,i,s/2,_,0,0,je):t.arc(n,i,_,0,je),t.closePath();break;case"triangle":h=s?s/2:_,t.moveTo(n+Math.sin(w)*h,i-Math.cos(w)*_),w+=pb,t.lineTo(n+Math.sin(w)*h,i-Math.cos(w)*_),w+=pb,t.lineTo(n+Math.sin(w)*h,i-Math.cos(w)*_),t.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(w+wr)*l,f=Math.cos(w+wr)*(s?s/2-c:l),a=Math.sin(w+wr)*l,p=Math.sin(w+wr)*(s?s/2-c:l),t.arc(n-f,i-a,c,w-Ve,w-Qe),t.arc(n+p,i-o,c,w-Qe,w),t.arc(n+f,i+a,c,w,w+Qe),t.arc(n-p,i+o,c,w+Qe,w+Ve),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*_,h=s?s/2:l,t.rect(n-h,i-l,2*h,2*l);break}w+=wr;case"rectRot":f=Math.cos(w)*(s?s/2:_),o=Math.cos(w)*_,a=Math.sin(w)*_,p=Math.sin(w)*(s?s/2:_),t.moveTo(n-f,i-a),t.lineTo(n+p,i-o),t.lineTo(n+f,i+a),t.lineTo(n-p,i+o),t.closePath();break;case"crossRot":w+=wr;case"cross":f=Math.cos(w)*(s?s/2:_),o=Math.cos(w)*_,a=Math.sin(w)*_,p=Math.sin(w)*(s?s/2:_),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"star":f=Math.cos(w)*(s?s/2:_),o=Math.cos(w)*_,a=Math.sin(w)*_,p=Math.sin(w)*(s?s/2:_),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o),w+=wr,f=Math.cos(w)*(s?s/2:_),o=Math.cos(w)*_,a=Math.sin(w)*_,p=Math.sin(w)*(s?s/2:_),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"line":o=s?s/2:Math.cos(w)*_,a=Math.sin(w)*_,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(s?s/2:_),i+Math.sin(w)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ji(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function mp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function gp(t){t.restore()}function J6(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Z6(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function eW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function tW(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function nW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function io(t,e,n,i,s,r={}){const o=Le(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,eW(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&nW(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ge(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),tW(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function Fc(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Qe,Ve,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ve,Qe,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Qe,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Qe,!0),t.lineTo(n+o.topLeft,i)}const iW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rW(t,e){const n=(""+t).match(iW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const oW=t=>+t||0;function v_(t,e){const n={},i=he(e),s=i?Object.keys(e):e,r=he(t)?i?o=>se(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=oW(r(o));return n}function QD(t){return v_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zr(t){return v_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qt(t){const e=QD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vt(t,e){t=t||{},e=e||Xe.font;let n=se(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=se(t.style,e.style);i&&!(""+i).match(sW)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:se(t.family,e.family),lineHeight:rW(se(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:se(t.weight,e.weight),string:""};return s.string=Q6(s),s}function xl(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&Le(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function aW(t,e,n){const{min:i,max:s}=t,r=jD(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function gr(t,e){return Object.assign(Object.create(t),e)}function __(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=eM("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>__([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return JD(a,l,()=>mW(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return kb(a).includes(l)},ownKeys(a){return kb(a)},set(a,l,c){const h=a._storage||(a._storage=s());return a[l]=h[l]=c,delete a._keys,!0}})}function Sa(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:XD(t,i),setContext:r=>Sa(t,r,n,i),override:r=>Sa(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return JD(r,o,()=>cW(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function XD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:ar(n)?n:()=>n,isIndexable:ar(i)?i:()=>i}}const lW=(t,e)=>t?t+f_(e):e,w_=(t,e)=>he(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function JD(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function cW(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return ar(a)&&o.isScriptable(e)&&(a=uW(e,a,t,n)),Le(a)&&a.length&&(a=hW(e,a,t,o.isIndexable)),w_(e,a)&&(a=Sa(a,s,r&&r[e],o)),a}function uW(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),w_(t,l)&&(l=x_(s._scopes,s,t,l)),l}function hW(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(he(e[0])){const l=e,c=s._scopes.filter(h=>h!==l);e=[];for(const h of l){const f=x_(c,s,t,h);e.push(Sa(f,r,o&&o[t],a))}}return e}function ZD(t,e,n){return ar(t)?t(e,n):t}const dW=(t,e)=>t===!0?e:typeof t=="string"?or(e,t):void 0;function fW(t,e,n,i,s){for(const r of e){const o=dW(n,r);if(o){t.add(o);const a=ZD(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function x_(t,e,n,i){const s=e._rootScopes,r=ZD(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=Sb(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Sb(a,o,r,l,i),l===null)?!1:__(Array.from(a),[""],s,r,()=>pW(e,n,i))}function Sb(t,e,n,i,s){for(;n;)n=fW(t,e,n,i,s);return n}function pW(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Le(s)&&he(n)?n:s||{}}function mW(t,e,n,i){let s;for(const r of e)if(s=eM(lW(r,t),n),typeof s<"u")return w_(t,s)?x_(n,i,t,s):s}function eM(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function kb(t){let e=t._keys;return e||(e=t._keys=gW(t._scopes)),e}function gW(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function tM(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,h;for(a=0,l=i;a<l;++a)c=a+n,h=e[c],o[a]={r:s.parse(or(h,r),c)};return o}const yW=Number.EPSILON||1e-14,ka=(t,e)=>e<t.length&&!t[e].skip&&t[e],nM=t=>t==="x"?"y":"x";function vW(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=jy(r,s),l=jy(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const f=i*c,p=i*h;return{previous:{x:r.x-f*(o.x-s.x),y:r.y-f*(o.y-s.y)},next:{x:r.x+p*(o.x-s.x),y:r.y+p*(o.y-s.y)}}}function _W(t,e,n){const i=t.length;let s,r,o,a,l,c=ka(t,0);for(let h=0;h<i-1;++h)if(l=c,c=ka(t,h+1),!(!l||!c)){if(Bl(e[h],0,yW)){n[h]=n[h+1]=0;continue}s=n[h]/e[h],r=n[h+1]/e[h],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=s*o*e[h],n[h+1]=r*o*e[h])}}function wW(t,e,n="x"){const i=nM(n),s=t.length;let r,o,a,l=ka(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=ka(t,c+1),!a)continue;const h=a[n],f=a[i];o&&(r=(h-o[n])/3,a[`cp1${n}`]=h-r,a[`cp1${i}`]=f-r*e[c]),l&&(r=(l[n]-h)/3,a[`cp2${n}`]=h+r,a[`cp2${i}`]=f+r*e[c])}}function xW(t,e="x"){const n=nM(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=ka(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=ka(t,o+1),!!l){if(c){const h=c[e]-l[e];s[o]=h!==0?(c[n]-l[n])/h:0}r[o]=a?c?Si(s[o-1])!==Si(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}_W(t,s,r),wW(t,r,e)}function Sh(t,e,n){return Math.max(Math.min(t,n),e)}function bW(t,e){let n,i,s,r,o,a=Ji(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Ji(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Sh(s.cp1x,e.left,e.right),s.cp1y=Sh(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Sh(s.cp2x,e.left,e.right),s.cp2y=Sh(s.cp2y,e.top,e.bottom)))}function SW(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")xW(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=vW(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&bW(t,n)}function iM(){return typeof window<"u"&&typeof document<"u"}function b_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function lf(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const yp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kW(t,e){return yp(t).getPropertyValue(e)}const EW=["top","right","bottom","left"];function Vr(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=EW[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const TW=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function CW(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(TW(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Cr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=yp(n),r=s.boxSizing==="border-box",o=Vr(s,"padding"),a=Vr(s,"border","width"),{x:l,y:c,box:h}=CW(t,n),f=o.left+(h&&a.left),p=o.top+(h&&a.top);let{width:g,height:v}=e;return r&&(g-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-f)/g*n.width/i),y:Math.round((c-p)/v*n.height/i)}}function IW(t,e,n){let i,s;if(e===void 0||n===void 0){const r=b_(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=yp(r),l=Vr(a,"border","width"),c=Vr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=lf(a.maxWidth,r,"clientWidth"),s=lf(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||of,maxHeight:s||of}}const kh=t=>Math.round(t*10)/10;function DW(t,e,n,i){const s=yp(t),r=Vr(s,"margin"),o=lf(s.maxWidth,t,"clientWidth")||of,a=lf(s.maxHeight,t,"clientHeight")||of,l=IW(t,e,n);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const p=Vr(s,"border","width"),g=Vr(s,"padding");c-=g.width+p.width,h-=g.height+p.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=kh(Math.min(c,o,l.maxWidth)),h=kh(Math.min(h,a,l.maxHeight)),c&&!h&&(h=kh(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=kh(Math.floor(h*i))),{width:c,height:h}}function Eb(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const MW=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function Tb(t,e){const n=kW(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ir(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function AW(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function RW(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ir(t,s,n),a=Ir(s,r,n),l=Ir(r,e,n),c=Ir(o,a,n),h=Ir(a,l,n);return Ir(c,h,n)}const PW=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},OW=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function sa(t,e,n){return t?PW(e,n):OW()}function sM(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function rM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function oM(t){return t==="angle"?{between:Lc,compare:N6,normalize:_n}:{between:Qi,compare:(e,n)=>e-n,normalize:e=>e}}function Cb({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function NW(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=oM(i),l=e.length;let{start:c,end:h,loop:f}=t,p,g;if(f){for(c+=l,h+=l,p=0,g=l;p<g&&o(a(e[c%l][i]),s,r);++p)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:f,style:t.style}}function aM(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=oM(i),{start:h,end:f,loop:p,style:g}=NW(t,e,n),v=[];let _=!1,w=null,S,x,E;const T=()=>l(s,E,S)&&a(s,E)!==0,I=()=>a(r,S)===0||l(r,E,S),M=()=>_||T(),R=()=>!_||I();for(let A=h,N=h;A<=f;++A)x=e[A%o],!x.skip&&(S=c(x[i]),S!==E&&(_=l(S,s,r),w===null&&M()&&(w=a(S,s)===0?A:N),w!==null&&R()&&(v.push(Cb({start:w,end:A,loop:p,count:o,style:g})),w=null),N=A,E=S));return w!==null&&v.push(Cb({start:w,end:f,loop:p,count:o,style:g})),v}function lM(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=aM(i[s],t.points,e);r.length&&n.push(...r)}return n}function LW(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function FW(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function jW(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=LW(n,s,r,i);if(i===!0)return Ib(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return Ib(t,FW(n,o,l,c),n,e)}function Ib(t,e,n,i){return!i||!i.setContext||!n?e:$W(t,e,n,i)}function $W(t,e,n,i){const s=t._chart.getContext(),r=Db(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let h=r,f=e[0].start,p=f;function g(v,_,w,S){const x=a?-1:1;if(v!==_){for(v+=l;n[v%l].skip;)v-=x;for(;n[_%l].skip;)_+=x;v%l!==_%l&&(c.push({start:v%l,end:_%l,loop:w,style:S}),h=S,f=_%l)}}for(const v of e){f=a?f:v.start;let _=n[f%l],w;for(p=f+1;p<=v.end;p++){const S=n[p%l];w=Db(i.setContext(gr(s,{type:"segment",p0:_,p1:S,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),UW(w,h)&&g(f,p-1,v.loop,h),_=S,h=w}f<p-1&&g(f,p-1,v.loop,h)}return c}function Db(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function UW(t,e){if(!e)return!1;const n=[],i=function(s,r){return y_(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class zW{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=WD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $i=new zW;const Mb="transparent",VW={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=wb(t||Mb),s=i.valid&&wb(e||Mb);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class BW{constructor(e,n,i,s){const r=n[i];s=xl([e.to,s,r,e.from]);const o=xl([e.from,r,s]);this._active=!0,this._fn=e.fn||VW[e.type||typeof o],this._easing=Wl[e.easing]||Wl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=xl([e.to,n,s,e.from]),this._from=xl([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class cM{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!he(e))return;const n=Object.keys(Xe.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!he(r))return;const o={};for(const a of n)o[a]=r[a];(Le(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=HW(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&WW(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[c];let f=r[c];const p=i.get(c);if(f)if(p&&f.active()){f.update(p,h,a);continue}else f.cancel();if(!p||!p.duration){e[c]=h;continue}r[c]=f=new BW(p,e,c,h),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return $i.add(this._chart,i),!0}}function WW(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function HW(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ab(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function YW(t,e,n){if(n===!1)return!1;const i=Ab(t,n),s=Ab(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function GW(t){let e,n,i,s;return he(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function uM(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Rb(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],qe(c)&&(r||e===0||Si(e)===Si(c))&&(e+=c)}return e}}function KW(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function Pb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function qW(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function QW(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function XW(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ob(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Nb(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,h=qW(r,o,i),f=e.length;let p;for(let g=0;g<f;++g){const v=e[g],{[l]:_,[c]:w}=v,S=v._stacks||(v._stacks={});p=S[c]=XW(s,h,_),p[a]=w,p._top=Ob(p,o,!0,i.type),p._bottom=Ob(p,o,!1,i.type);const x=p._visualValues||(p._visualValues={});x[a]=w}}function Hm(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function JW(t,e){return gr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ZW(t,e,n){return gr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function il(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Ym=t=>t==="reset"||t==="none",Lb=(t,e)=>e?t:Object.assign({},t),eH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:uM(n,!0),values:null};class qn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&il(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(f,p,g,v)=>f==="x"?p:f==="r"?v:g,r=n.xAxisID=se(i.xAxisID,Hm(e,"x")),o=n.yAxisID=se(i.yAxisID,Hm(e,"y")),a=n.rAxisID=se(i.rAxisID,Hm(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),h=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&yb(this._data,this),e._stacked&&il(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(he(n))this._data=KW(n);else if(i!==n){if(i){yb(i,this);const s=this._cachedMeta;il(s),s._parsed=[]}n&&Object.isExtensible(n)&&$6(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Pb(n.vScale,n),n.stack!==i.stack&&(s=!0,il(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&Nb(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,f,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{Le(s[e])?p=this.parseArrayData(i,s,e,n):he(s[e])?p=this.parseObjectData(i,s,e,n):p=this.parsePrimitiveData(i,s,e,n);const g=()=>f[a]===null||c&&f[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=f=p[h],l&&(g()&&(l=!1),c=f);i._sorted=l}o&&Nb(this,p)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,f=new Array(s);let p,g,v;for(p=0,g=s;p<g;++p)v=p+i,f[p]={[a]:h||r.parse(c[v],v),[l]:o.parse(n[v],v)};return f}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,h,f;for(l=0,c=s;l<c;++l)h=l+i,f=n[h],a[l]={x:r.parse(f[0],h),y:o.parse(f[1],h)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,f,p,g;for(h=0,f=s;h<f;++h)p=h+i,g=n[p],c[h]={x:r.parse(or(g,a),p),y:o.parse(or(g,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:uM(s,!0),values:n._stacks[e.axis]._visualValues};return Rb(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=Rb(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=eH(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=QW(a);let p,g;function v(){g=s[p];const _=g[a.axis];return!qe(g[e.axis])||h>_||f<_}for(p=0;p<o&&!(!v()&&(this.updateRangeFromParsed(c,e,g,l),r));++p);if(r){for(p=o-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],qe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=GW(se(this.options.clip,YW(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,r,a,l),h=a;h<a+l;++h){const f=s[h];f.hidden||(f.active&&c?o.push(f):f.draw(e,r))}for(h=0;h<o.length;++h)o[h].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=ZW(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=JW(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Nc(i);if(a)return Lb(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),h),g=Object.keys(Xe.elements[e]),v=()=>this.getContext(i,s,n),_=c.resolveNamedOptions(p,g,v,f);return _.$shared&&(_.$shared=l,r[o]=Object.freeze(Lb(_,l))),_}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(e,i,n))}const c=new cM(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ym(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Ym(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Ym(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&il(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}U(qn,"defaults",{}),U(qn,"datasetElementType",null),U(qn,"dataElementType",null);function tH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=BD(i.sort((s,r)=>s-r))}return t._cache.$bar}function nH(t){const e=t.iScale,n=tH(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Nc(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function iH(t,e,n,i){const s=n.barThickness;let r,o;return ge(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function sH(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function rH(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function hM(t,e,n,i){return Le(t)?rH(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Fb(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,h,f,p;for(c=n,h=n+i;c<h;++c)p=e[c],f={},f[s.axis]=a||s.parse(o[c],c),l.push(hM(p,f,r,c));return l}function Gm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function oH(t,e,n){return t!==0?Si(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function aH(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function lH(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=aH(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=h:(r[jb(h,o,a,l)]=!0,s=c)),r[jb(s,o,a,l)]=!0,t.borderSkipped=r}function jb(t,e,n,i){return i?(t=cH(t,e,n),t=$b(t,n,e)):t=$b(t,e,n),t}function cH(t,e,n){return t===e?n:t===n?e:t}function $b(t,e,n){return t==="start"?e:t==="end"?n:t}function uH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class td extends qn{parsePrimitiveData(e,n,i,s){return Fb(e,n,i,s)}parseArrayData(e,n,i,s){return Fb(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,f=[];let p,g,v,_;for(p=i,g=i+s;p<g;++p)_=n[p],v={},v[r.axis]=r.parse(or(_,c),p),f.push(hM(or(_,h),v,o,p));return f}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Gm(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const v=this.getParsed(g),_=r||ge(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),w=this._calculateBarIndexPixels(g,h),S=(v._stacks||{})[a.axis],x={horizontal:c,base:_.base,enableBorderRadius:!S||Gm(v._custom)||o===S._top||o===S._bottom,x:c?_.head:w.center,y:c?w.center:_.head,height:c?w.size:Math.abs(_.size),width:c?Math.abs(_.size):w.size};p&&(x.options=f||this.resolveDataElementOptions(g,e[g].active?"active":s));const E=x.options||e[g].options;lH(x,E,S,o),uH(x,E,h.ratio),this.updateElement(e[g],g,x,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),h=c&&c[l.vScale.axis];if(ge(h)||isNaN(h))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||nH(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,h=Gm(c);let f=l[n.axis],p=0,g=i?this.applyStack(n,l,i):f,v,_;g!==f&&(p=g-f,g=f),h&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&Si(f)!==Si(c.barEnd)&&(p=0),p+=f);const w=!ge(r)&&!h?r:p;let S=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(p+g):v=S,_=v-S,Math.abs(_)<o){_=oH(_,n,a)*o,f===a&&(S-=_/2);const x=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),T=Math.min(x,E),I=Math.max(x,E);S=Math.max(Math.min(S,I),T),v=S+_,i&&!h&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(S))}if(S===n.getPixelForValue(a)){const x=Si(_)*n.getLineWidthForValue(a)/2;S+=x,_-=x}return{size:_,base:S,head:v,center:v+_/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=se(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?sH(e,n,s,c):iH(e,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=h.start+h.chunk*f+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}U(td,"id","bar"),U(td,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),U(td,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class nd extends qn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=se(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=se(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),h=o.axis,f=a.axis;for(let p=n;p<n+i;p++){const g=e[p],v=!r&&this.getParsed(p),_={},w=_[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(v[h]),S=_[f]=r?a.getBasePixel():a.getPixelForValue(v[f]);_.skip=isNaN(w)||isNaN(S),c&&(_.options=l||this.resolveDataElementOptions(p,g.active?"active":s),r&&(_.options.radius=0)),this.updateElement(g,p,_,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=se(i&&i._custom,r),s}}U(nd,"id","bubble"),U(nd,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),U(nd,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function hH(t,e,n){let i=1,s=1,r=0,o=0;if(e<je){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),f=Math.cos(l),p=Math.sin(l),g=(E,T,I)=>Lc(E,a,l,!0)?1:Math.max(T,T*n,I,I*n),v=(E,T,I)=>Lc(E,a,l,!0)?-1:Math.min(T,T*n,I,I*n),_=g(0,c,f),w=g(Qe,h,p),S=v(Ve,c,f),x=v(Ve+Qe,h,p);i=(_-S)/2,s=(w-x)/2,r=-(_+S)/2,o=-(w+x)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Nr extends qn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(he(i[e])){const{key:l="value"}=this._parsing;r=c=>+or(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Yn(this.options.rotation-90)}_getCircumference(){return Yn(this.options.circumference)}_getRotationExtents(){let e=je,n=-je;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(E6(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:v,offsetY:_}=hH(f,h,l),w=(i.width-o)/p,S=(i.height-o)/g,x=Math.max(Math.min(w,S)/2,0),E=jD(this.options.radius,x),T=Math.max(E*l,0),I=(E-T)/this._getVisibleDatasetWeightTotal();this.offsetX=v*E,this.offsetY=_*E,s.total=this.calculateTotal(),this.outerRadius=E-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/je)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2,p=r&&c.animateScale,g=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:_,includeOptions:w}=this._getSharedOptions(n,s);let S=this._getRotation(),x;for(x=0;x<n;++x)S+=this._circumference(x,r);for(x=n;x<n+i;++x){const E=this._circumference(x,r),T=e[x],I={x:h+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+E,circumference:E,outerRadius:v,innerRadius:g};w&&(I.options=_||this.resolveDataElementOptions(x,T.active?"active":s)),S+=E,this.updateElement(T,x,I,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?je*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=gu(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}U(Nr,"id","doughnut"),U(Nr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),U(Nr,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),U(Nr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Yl extends qn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=YD(n,s,o);this._drawStart=a,this._drawCount=l,GD(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s),p=o.axis,g=a.axis,{spanGaps:v,segment:_}=this.options,w=ba(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||r||s==="none",x=n+i,E=e.length;let T=n>0&&this.getParsed(n-1);for(let I=0;I<E;++I){const M=e[I],R=S?M:{};if(I<n||I>=x){R.skip=!0;continue}const A=this.getParsed(I),N=ge(A[g]),O=R[p]=o.getPixelForValue(A[p],I),B=R[g]=r||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[g],I);R.skip=isNaN(O)||isNaN(B)||N,R.stop=I>0&&Math.abs(A[p]-T[p])>w,_&&(R.parsed=A,R.raw=c.data[I]),f&&(R.options=h||this.resolveDataElementOptions(I,M.active?"active":s)),S||this.updateElement(M,I,R,s),T=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}U(Yl,"id","line"),U(Yl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),U(Yl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Gl extends qn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=gu(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return tM.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,f=c.yCenter,p=c.getIndexAngle(0)-.5*Ve;let g=p,v;const _=360/this.countVisibleElements();for(v=0;v<n;++v)g+=this._computeAngle(v,s,_);for(v=n;v<n+i;v++){const w=e[v];let S=g,x=g+this._computeAngle(v,s,_),E=o.getDataVisibility(v)?c.getDistanceFromCenterForValue(this.getParsed(v).r):0;g=x,r&&(l.animateScale&&(E=0),l.animateRotate&&(S=x=p));const T={x:h,y:f,innerRadius:0,outerRadius:E,startAngle:S,endAngle:x,options:this.resolveDataElementOptions(v,w.active?"active":s)};this.updateElement(w,v,T,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Yn(this.resolveDataElementOptions(e,n).angle||i):0}}U(Gl,"id","polarArea"),U(Gl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),U(Gl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class zy extends Nr{}U(zy,"id","pie"),U(zy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class id extends qn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return tM.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),h=r.getPointPositionForValue(a,this.getParsed(a).r),f=o?r.xCenter:h.x,p=o?r.yCenter:h.y,g={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:c};this.updateElement(l,a,g,s)}}}U(id,"id","radar"),U(id,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),U(id,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class sd extends qn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=YD(n,i,s);if(this._drawStart=r,this._drawCount=o,GD(n)&&(r=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(h),p=this.includeOptions(s,f),g=o.axis,v=a.axis,{spanGaps:_,segment:w}=this.options,S=ba(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||s==="none";let E=n>0&&this.getParsed(n-1);for(let T=n;T<n+i;++T){const I=e[T],M=this.getParsed(T),R=x?I:{},A=ge(M[v]),N=R[g]=o.getPixelForValue(M[g],T),O=R[v]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[v],T);R.skip=isNaN(N)||isNaN(O)||A,R.stop=T>0&&Math.abs(M[g]-E[g])>S,w&&(R.parsed=M,R.raw=c.data[T]),p&&(R.options=f||this.resolveDataElementOptions(T,I.active?"active":s)),x||this.updateElement(I,T,R,s),E=M}this.updateSharedOptions(f,s,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}U(sd,"id","scatter"),U(sd,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),U(sd,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var dH=Object.freeze({__proto__:null,BarController:td,BubbleController:nd,DoughnutController:Nr,LineController:Yl,PieController:zy,PolarAreaController:Gl,RadarController:id,ScatterController:sd});function br(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class S_{constructor(e){U(this,"options");this.options=e||{}}static override(e){Object.assign(S_.prototype,e)}init(){}formats(){return br()}parse(){return br()}format(){return br()}add(){return br()}diff(){return br()}startOf(){return br()}endOf(){return br()}}var fH={_date:S_};function pH(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?F6:Xi;if(i){if(s._sharedOptions){const c=r[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const f=l(r,e,n-h),p=l(r,e,n+h);return{lo:f.lo,hi:p.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function yu(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:f,hi:p}=pH(r[a],e,o,s);for(let g=f;g<=p;++g){const v=h[g];v.skip||i(v,c,g)}}}function mH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Km(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||yu(t,n,e,function(a,l,c){!s&&!Ji(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function gH(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:f}=zD(o,{x:e.x,y:e.y});Lc(f,c,h)&&s.push({element:o,datasetIndex:a,index:l})}return yu(t,n,e,r),s}function yH(t,e,n,i,s,r){let o=[];const a=mH(n);let l=Number.POSITIVE_INFINITY;function c(h,f,p){const g=h.inRange(e.x,e.y,s);if(i&&!g)return;const v=h.getCenterPoint(s);if(!(!!r||t.isPointInArea(v))&&!g)return;const w=a(e,v);w<l?(o=[{element:h,datasetIndex:f,index:p}],l=w):w===l&&o.push({element:h,datasetIndex:f,index:p})}return yu(t,n,e,c),o}function qm(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?gH(t,e,n,s):yH(t,e,n,i,s,r)}function Ub(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return yu(t,n,e,(l,c,h)=>{l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var vH={evaluateInteractionItems:yu,modes:{index(t,e,n,i){const s=Cr(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Km(t,s,r,i,o):qm(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const s=Cr(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Km(t,s,r,i,o):qm(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const s=Cr(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Km(t,s,r,i,o)},nearest(t,e,n,i){const s=Cr(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return qm(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=Cr(e,t);return Ub(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Cr(e,t);return Ub(t,s,"y",n.intersect,i)}}};const dM=["left","top","right","bottom"];function sl(t,e){return t.filter(n=>n.pos===e)}function zb(t,e){return t.filter(n=>dM.indexOf(n.pos)===-1&&n.box.axis===e)}function rl(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function _H(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function wH(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!dM.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function xH(t,e){const n=wH(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:l&&e.availableHeight)}return n}function bH(t){const e=_H(t),n=rl(e.filter(c=>c.box.fullSize),!0),i=rl(sl(e,"left"),!0),s=rl(sl(e,"right")),r=rl(sl(e,"top"),!0),o=rl(sl(e,"bottom")),a=zb(e,"x"),l=zb(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:sl(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Vb(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function fM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function SH(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!he(s)){n.size&&(t[s]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,t[s]+=n.size}r.getPadding&&fM(o,r.getPadding());const a=Math.max(0,e.outerWidth-Vb(o,t,"left","right")),l=Math.max(0,e.outerHeight-Vb(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function kH(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function EH(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function bl(t,e,n,i){const s=[];let r,o,a,l,c,h;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,EH(a.horizontal,e));const{same:f,other:p}=SH(e,n,a,i);c|=f&&s.length,h=h||p,l.fullSize||s.push(a)}return c&&bl(s,e,n,i)||h}function Eh(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Bb(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*h,p=c.size||l.height;Nc(c.start)&&(o=c.start),l.fullSize?Eh(l,s.left,o,n.outerWidth-s.right-s.left,p):Eh(l,e.left+c.placed,o,f,p),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*h,p=c.size||l.width;Nc(c.start)&&(r=c.start),l.fullSize?Eh(l,r,s.top,p,n.outerHeight-s.bottom-s.top):Eh(l,r,e.top+c.placed,p,f),c.start=r,c.placed+=f,r=l.right}}e.x=r,e.y=o}var Bt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=qt(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=bH(t.boxes),l=a.vertical,c=a.horizontal;Ee(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=l.reduce((_,w)=>w.box.options&&w.box.options.display===!1?_:_+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),p=Object.assign({},s);fM(p,qt(i));const g=Object.assign({maxPadding:p,w:r,h:o,x:s.left,y:s.top},s),v=xH(l.concat(c),f);bl(a.fullSize,g,f,v),bl(l,g,f,v),bl(c,g,f,v)&&bl(l,g,f,v),kH(g),Bb(a.leftAndTop,g,f,v),g.x+=g.w,g.y+=g.h,Bb(a.rightAndBottom,g,f,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Ee(a.chartArea,_=>{const w=_.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class pM{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class TH extends pM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rd="$chartjs",CH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wb=t=>t===null||t==="";function IH(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[rd]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Wb(s)){const r=Tb(t,"width");r!==void 0&&(t.width=r)}if(Wb(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Tb(t,"height");r!==void 0&&(t.height=r)}return t}const mM=MW?{passive:!0}:!1;function DH(t,e,n){t.addEventListener(e,n,mM)}function MH(t,e,n){t.canvas.removeEventListener(e,n,mM)}function AH(t,e){const n=CH[t.type]||t.type,{x:i,y:s}=Cr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function cf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function RH(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||cf(a.addedNodes,i),o=o&&!cf(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function PH(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||cf(a.removedNodes,i),o=o&&!cf(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const jc=new Map;let Hb=0;function gM(){const t=window.devicePixelRatio;t!==Hb&&(Hb=t,jc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function OH(t,e){jc.size||window.addEventListener("resize",gM),jc.set(t,e)}function NH(t){jc.delete(t),jc.size||window.removeEventListener("resize",gM)}function LH(t,e,n){const i=t.canvas,s=i&&b_(i);if(!s)return;const r=HD((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(s),OH(t,r),o}function Qm(t,e,n){n&&n.disconnect(),e==="resize"&&NH(t)}function FH(t,e,n){const i=t.canvas,s=HD(r=>{t.ctx!==null&&n(AH(r,t))},t);return DH(i,e,s),s}class jH extends pM{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(IH(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[rd])return!1;const i=n[rd].initial;["height","width"].forEach(r=>{const o=i[r];ge(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[rd],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:RH,detach:PH,resize:LH}[n]||FH;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Qm,detach:Qm,resize:Qm}[n]||MH)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return DW(e,n,i,s)}isAttached(e){const n=b_(e);return!!(n&&n.isConnected)}}function $H(t){return!iM()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?TH:jH}class ti{constructor(){U(this,"x");U(this,"y");U(this,"active",!1);U(this,"options");U(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ba(this.x)&&ba(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}U(ti,"defaults",{}),U(ti,"defaultRoutes");function UH(t,e){const n=t.options.ticks,i=zH(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?BH(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return WH(e,c,r,o/s),c;const h=VH(r,e,s);if(o>0){let f,p;const g=o>1?Math.round((l-a)/(o-1)):null;for(Th(e,c,h,ge(g)?0:a-g,a),f=0,p=o-1;f<p;f++)Th(e,c,h,r[f],r[f+1]);return Th(e,c,h,l,ge(g)?e.length:l+g),c}return Th(e,c,h),c}function zH(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function VH(t,e,n){const i=HH(t),s=e.length/n;if(!i)return Math.max(s,1);const r=P6(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function BH(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function WH(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Th(t,e,n,i,s){const r=se(i,0),o=Math.min(se(s,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),h=r;h<0;)a++,h=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(r+a*n))}function HH(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const YH=t=>t==="left"?"right":t==="right"?"left":t,Yb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Gb=(t,e)=>Math.min(e||t,t);function Kb(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function GH(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function KH(t,e){Ee(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ol(t){return t.drawTicks?t.tickLength:0}function qb(t,e){if(!t.display)return 0;const n=vt(t.font,e),i=qt(t.padding);return(Le(t.text)?t.text.length:1)*n.lineHeight+i.height}function qH(t,e){return gr(t,{scale:e,type:"scale"})}function QH(t,e,n){return gr(t,{tick:n,index:e,type:"tick"})}function XH(t,e,n){let i=g_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=YH(i)),i}function JH(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let f=0,p,g,v;const _=o-s,w=a-r;if(t.isHorizontal()){if(g=jt(i,r,a),he(n)){const S=Object.keys(n)[0],x=n[S];v=h[S].getPixelForValue(x)+_-e}else n==="center"?v=(c.bottom+c.top)/2+_-e:v=Yb(t,n,e);p=a-r}else{if(he(n)){const S=Object.keys(n)[0],x=n[S];g=h[S].getPixelForValue(x)-w+e}else n==="center"?g=(c.left+c.right)/2-w+e:g=Yb(t,n,e);v=jt(i,o,s),f=n==="left"?-Qe:Qe}return{titleX:g,titleY:v,maxWidth:p,rotation:f}}class go extends ti{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=yn(e,Number.POSITIVE_INFINITY),n=yn(n,Number.NEGATIVE_INFINITY),i=yn(i,Number.POSITIVE_INFINITY),s=yn(s,Number.NEGATIVE_INFINITY),{min:yn(e,i),max:yn(n,s),minDefined:qe(e),maxDefined:qe(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:yn(n,yn(i,n)),max:yn(i,yn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=aW(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Kb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=UH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Me(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Gb(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),f=h.widest.width,p=h.highest.height,g=xt(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),f+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-ol(e.grid)-n.padding-qb(e.title,this.chart.options.font),c=Math.sqrt(f*f+p*p),o=p_(Math.min(Math.asin(xt((h.highest.height+6)/a,-1,1)),Math.asin(xt(l/c,-1,1))-Math.asin(xt(p/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=qb(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ol(r)+l):(e.height=this.maxHeight,e.width=ol(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:p}=this._getLabelSizes(),g=i.padding*2,v=Yn(this.labelRotation),_=Math.cos(v),w=Math.sin(v);if(a){const S=i.mirror?0:w*f.width+_*p.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{const S=i.mirror?0:_*f.width+w*p.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(c,h,w,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;l?c?(p=s*e.width,g=i*n.height):(p=i*e.height,g=s*n.width):r==="start"?g=n.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;r==="start"?(h=0,f=e.height):r==="end"&&(h=n.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ge(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Kb(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Gb(n,i));let c=0,h=0,f,p,g,v,_,w,S,x,E,T,I;for(f=0;f<n;f+=l){if(v=e[f].label,_=this._resolveTickFontOptions(f),s.font=w=_.string,S=r[w]=r[w]||{data:{},gc:[]},x=_.lineHeight,E=T=0,!ge(v)&&!Le(v))E=af(s,S.data,S.gc,E,v),T=x;else if(Le(v))for(p=0,g=v.length;p<g;++p)I=v[p],!ge(I)&&!Le(I)&&(E=af(s,S.data,S.gc,E,I),T+=x);o.push(E),a.push(T),c=Math.max(E,c),h=Math.max(T,h)}KH(r,n);const M=o.indexOf(c),R=a.indexOf(h),A=N=>({width:o[N]||0,height:a[N]||0});return{first:A(0),last:A(n-1),widest:A(M),highest:A(R),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return L6(this._alignToPixels?xr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=QH(this.getContext(),e,i))}return this.$context||(this.$context=qH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Yn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),p=ol(r),g=[],v=a.setContext(this.getContext()),_=v.display?v.width:0,w=_/2,S=function(ye){return xr(i,ye,_)};let x,E,T,I,M,R,A,N,O,B,q,oe;if(o==="top")x=S(this.bottom),R=this.bottom-p,N=x-w,B=S(e.top)+w,oe=e.bottom;else if(o==="bottom")x=S(this.top),B=e.top,oe=S(e.bottom)-w,R=x+w,N=this.top+p;else if(o==="left")x=S(this.right),M=this.right-p,A=x-w,O=S(e.left)+w,q=e.right;else if(o==="right")x=S(this.left),O=e.left,q=S(e.right)-w,M=x+w,A=this.left+p;else if(n==="x"){if(o==="center")x=S((e.top+e.bottom)/2+.5);else if(he(o)){const ye=Object.keys(o)[0],ke=o[ye];x=S(this.chart.scales[ye].getPixelForValue(ke))}B=e.top,oe=e.bottom,R=x+w,N=R+p}else if(n==="y"){if(o==="center")x=S((e.left+e.right)/2);else if(he(o)){const ye=Object.keys(o)[0],ke=o[ye];x=S(this.chart.scales[ye].getPixelForValue(ke))}M=x-w,A=M-p,O=e.left,q=e.right}const tt=se(s.ticks.maxTicksLimit,f),ce=Math.max(1,Math.ceil(f/tt));for(E=0;E<f;E+=ce){const ye=this.getContext(E),ke=r.setContext(ye),z=a.setContext(ye),G=ke.lineWidth,Q=ke.color,xe=z.dash||[],be=z.dashOffset,rn=ke.tickWidth,at=ke.tickColor,Y=ke.tickBorderDash||[],Qt=ke.tickBorderDashOffset;T=GH(this,E,l),T!==void 0&&(I=xr(i,T,G),c?M=A=O=q=I:R=N=B=oe=I,g.push({tx1:M,ty1:R,tx2:A,ty2:N,x1:O,y1:B,x2:q,y2:oe,width:G,color:Q,borderDash:xe,borderDashOffset:be,tickWidth:rn,tickColor:at,tickBorderDash:Y,tickBorderDashOffset:Qt}))}return this._ticksLength=f,this._borderValue=x,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=r,p=ol(i.grid),g=p+h,v=f?-h:g,_=-Yn(this.labelRotation),w=[];let S,x,E,T,I,M,R,A,N,O,B,q,oe="middle";if(s==="top")M=this.bottom-v,R=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+v,R=this._getXAxisLabelAlignment();else if(s==="left"){const ce=this._getYAxisLabelAlignment(p);R=ce.textAlign,I=ce.x}else if(s==="right"){const ce=this._getYAxisLabelAlignment(p);R=ce.textAlign,I=ce.x}else if(n==="x"){if(s==="center")M=(e.top+e.bottom)/2+g;else if(he(s)){const ce=Object.keys(s)[0],ye=s[ce];M=this.chart.scales[ce].getPixelForValue(ye)+g}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")I=(e.left+e.right)/2-g;else if(he(s)){const ce=Object.keys(s)[0],ye=s[ce];I=this.chart.scales[ce].getPixelForValue(ye)}R=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?oe="top":l==="end"&&(oe="bottom"));const tt=this._getLabelSizes();for(S=0,x=a.length;S<x;++S){E=a[S],T=E.label;const ce=r.setContext(this.getContext(S));A=this.getPixelForTick(S)+r.labelOffset,N=this._resolveTickFontOptions(S),O=N.lineHeight,B=Le(T)?T.length:1;const ye=B/2,ke=ce.color,z=ce.textStrokeColor,G=ce.textStrokeWidth;let Q=R;o?(I=A,R==="inner"&&(S===x-1?Q=this.options.reverse?"left":"right":S===0?Q=this.options.reverse?"right":"left":Q="center"),s==="top"?c==="near"||_!==0?q=-B*O+O/2:c==="center"?q=-tt.highest.height/2-ye*O+O:q=-tt.highest.height+O/2:c==="near"||_!==0?q=O/2:c==="center"?q=tt.highest.height/2-ye*O:q=tt.highest.height-B*O,f&&(q*=-1),_!==0&&!ce.showLabelBackdrop&&(I+=O/2*Math.sin(_))):(M=A,q=(1-B)*O/2);let xe;if(ce.showLabelBackdrop){const be=qt(ce.backdropPadding),rn=tt.heights[S],at=tt.widths[S];let Y=q-be.top,Qt=0-be.left;switch(oe){case"middle":Y-=rn/2;break;case"bottom":Y-=rn;break}switch(R){case"center":Qt-=at/2;break;case"right":Qt-=at;break}xe={left:Qt,top:Y,width:at+be.width,height:rn+be.height,color:ce.backdropColor}}w.push({label:T,font:N,textOffset:q,options:{rotation:_,color:ke,strokeColor:z,strokeWidth:G,textAlign:Q,textBaseline:oe,translation:[I,M],backdrop:xe}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Yn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,h;return n==="left"?s?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,p;this.isHorizontal()?(c=xr(e,this.left,o)-o/2,h=xr(e,this.right,a)+a/2,f=p=l):(f=xr(e,this.top,o)-o/2,p=xr(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&mp(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;io(i,c,0,h,l,a)}s&&gp(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=vt(i.font),o=qt(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||he(n)?(l+=o.bottom,Le(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:f,rotation:p}=JH(this,l,n,a);io(e,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:p,textAlign:XH(a,n,s),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=se(e.grid&&e.grid.z,-1),s=se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==go.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return vt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ch{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;tY(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,ZH(e,o,i),this.override&&Xe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Xe[s]&&(delete Xe[s][i],this.override&&delete no[i])}}function ZH(t,e,n){const i=Oc(Object.create(null),[n?Xe.get(n):{},Xe.get(e),t.defaults]);Xe.set(e,i),t.defaultRoutes&&eY(e,t.defaultRoutes),t.descriptors&&Xe.describe(e,t.descriptors)}function eY(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Xe.route(r,s,l,a)})}function tY(t){return"id"in t&&"defaults"in t}class nY{constructor(){this.controllers=new Ch(qn,"datasets",!0),this.elements=new Ch(ti,"elements"),this.plugins=new Ch(Object,"plugins"),this.scales=new Ch(go,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Ee(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=f_(e);Me(i["before"+s],[],i),n[e](i),Me(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var ai=new nY;class iY{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Me(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=se(i.options&&i.options.plugins,{}),r=sY(i);return s===!1&&!n?[]:oY(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function sY(t){const e={},n=[],i=Object.keys(ai.plugins.items);for(let r=0;r<i.length;r++)n.push(ai.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function rY(t,e){return!e&&t===!1?null:t===!0?{}:t}function oY(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=rY(i[l],s);c!==null&&r.push({plugin:a,options:aY(t.config,{plugin:a,local:n[l]},c,o)})}return r}function aY(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vy(t,e){const n=Xe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function lY(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function cY(t,e){return t===e?"_index_":"_value_"}function Qb(t){if(t==="x"||t==="y"||t==="r")return t}function uY(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function By(t,...e){if(Qb(t))return t;for(const n of e){const i=n.axis||uY(n.position)||t.length>1&&Qb(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Xb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function hY(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Xb(t,"x",n[0])||Xb(t,"y",n[0])}return{}}function dY(t,e){const n=no[t.type]||{scales:{}},i=e.scales||{},s=Vy(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!he(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=By(o,a,hY(o,t),Xe.scales[a.type]),c=cY(l,s),h=n.scales||{};r[o]=Vl(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Vy(a,e),h=(no[a]||{}).scales||{};Object.keys(h).forEach(f=>{const p=lY(f,l),g=o[p+"AxisID"]||p;r[g]=r[g]||Object.create(null),Vl(r[g],[{axis:p},i[g],h[f]])})}),Object.keys(r).forEach(o=>{const a=r[o];Vl(a,[Xe.scales[a.type],Xe.scale])}),r}function yM(t){const e=t.options||(t.options={});e.plugins=se(e.plugins,{}),e.scales=dY(t,e)}function vM(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fY(t){return t=t||{},t.data=vM(t.data),yM(t),t}const Jb=new Map,_M=new Set;function Ih(t,e){let n=Jb.get(t);return n||(n=e(),Jb.set(t,n),_M.add(n)),n}const al=(t,e,n)=>{const i=or(e,n);i!==void 0&&t.add(i)};class pY{constructor(e){this._config=fY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=vM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ih(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ih(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ih(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Ih(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(f=>al(l,e,f))),h.forEach(f=>al(l,s,f)),h.forEach(f=>al(l,no[r]||{},f)),h.forEach(f=>al(l,Xe,f)),h.forEach(f=>al(l,$y,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),_M.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,no[n]||{},Xe.datasets[n]||{},{type:n},Xe,$y]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Zb(this._resolverCache,e,s);let l=o;if(gY(o,n)){r.$shared=!1,i=ar(i)?i():i;const c=this.createResolver(e,i,a);l=Sa(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=Zb(this._resolverCache,e,i);return he(n)?Sa(r,n,void 0,s):r}}function Zb(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:__(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const mY=t=>he(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||ar(t[n]),!1);function gY(t,e){const{isScriptable:n,isIndexable:i}=XD(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(ar(a)||mY(a))||o&&Le(a))return!0}return!1}var yY="4.3.0";const vY=["top","bottom","left","right","chartArea"];function eS(t,e){return t==="top"||t==="bottom"||vY.indexOf(t)===-1&&e==="x"}function tS(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function nS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[t],e)}function _Y(t){const e=t.chart,n=e.options.animation;Me(n&&n.onProgress,[t],e)}function wM(t){return iM()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const od={},iS=t=>{const e=wM(t);return Object.values(od).filter(n=>n.canvas===e).pop()};function wY(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function xY(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function bY(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var xs;let vu=(xs=class{static register(...e){ai.add(...e),sS()}static unregister(...e){ai.remove(...e),sS()}constructor(e,n){const i=this.config=new pY(n),s=wM(e),r=iS(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||$H(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=k6(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=U6(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],od[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",nS),$i.listen(this,"progress",_Y),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return ge(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ai}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Eb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bb(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(e,n){$i.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Eb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Me(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ee(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=By(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Ee(r,o=>{const a=o.options,l=a.id,c=By(l,a),h=se(a.type,o.dtype);(a.position===void 0||eS(a.position,c)!==eS(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const p=ai.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),Ee(s,(o,a)=>{o||delete i[a]}),Ee(i,o=>{Bt.configure(this,o,o.options),Bt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(tS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Vy(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ai.getController(a),{datasetElementType:c,dataElementType:h}=Xe.datasets[a];Object.assign(l,{dataElementType:ai.getElement(h),datasetElementType:c&&ai.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ee(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),p=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Ee(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tS("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ee(this.scales,e=>{Bt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!fb(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;wY(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!fb(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ee(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ar(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),nS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=bY(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&mp(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&gp(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Ji(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=vH.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=gr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Nc(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),$i.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete od[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ee(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ee(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ee(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!sf(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=M6(e),c=xY(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Me(r.onHover,[e,a,this],this),l&&Me(r.onClick,[e,a,this],this));const h=!sf(a,s);return(h||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},U(xs,"defaults",Xe),U(xs,"instances",od),U(xs,"overrides",no),U(xs,"registry",ai),U(xs,"version",yY),U(xs,"getChart",iS),xs);function sS(){return Ee(vu.instances,t=>t._plugins.invalidate())}function SY(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+Qe,i-Qe),t.closePath(),t.clip()}function kY(t){return v_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EY(t,e,n,i){const s=kY(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return xt(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:xt(s.innerStart,0,o),innerEnd:xt(s.innerEnd,0,o)}}function Io(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function uf(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,f=Math.max(e.outerRadius+i+n-c,0),p=h>0?h+i+n+c:0;let g=0;const v=s-l;if(i){const ce=h>0?h-i:0,ye=f>0?f-i:0,ke=(ce+ye)/2,z=ke!==0?v*ke/(ke+i):v;g=(v-z)/2}const _=Math.max(.001,v*f-n/Ve)/f,w=(v-_)/2,S=l+w+g,x=s-w-g,{outerStart:E,outerEnd:T,innerStart:I,innerEnd:M}=EY(e,p,f,x-S),R=f-E,A=f-T,N=S+E/R,O=x-T/A,B=p+I,q=p+M,oe=S+I/B,tt=x-M/q;if(t.beginPath(),r){const ce=(N+O)/2;if(t.arc(o,a,f,N,ce),t.arc(o,a,f,ce,O),T>0){const G=Io(A,O,o,a);t.arc(G.x,G.y,T,O,x+Qe)}const ye=Io(q,x,o,a);if(t.lineTo(ye.x,ye.y),M>0){const G=Io(q,tt,o,a);t.arc(G.x,G.y,M,x+Qe,tt+Math.PI)}const ke=(x-M/p+(S+I/p))/2;if(t.arc(o,a,p,x-M/p,ke,!0),t.arc(o,a,p,ke,S+I/p,!0),I>0){const G=Io(B,oe,o,a);t.arc(G.x,G.y,I,oe+Math.PI,S-Qe)}const z=Io(R,S,o,a);if(t.lineTo(z.x,z.y),E>0){const G=Io(R,N,o,a);t.arc(G.x,G.y,E,S-Qe,N)}}else{t.moveTo(o,a);const ce=Math.cos(N)*f+o,ye=Math.sin(N)*f+a;t.lineTo(ce,ye);const ke=Math.cos(O)*f+o,z=Math.sin(O)*f+a;t.lineTo(ke,z)}t.closePath()}function TY(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){uf(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%je||je))}return uf(t,e,n,i,l,s),t.fill(),l}function CY(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:f,borderDashOffset:p}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=p,g?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let v=e.endAngle;if(r){uf(t,e,n,i,v,s);for(let _=0;_<r;++_)t.stroke();isNaN(a)||(v=o+(a%je||je))}g&&SY(t,e,v),r||(uf(t,e,n,i,v,s),t.stroke())}class Sl extends ti{constructor(n){super();U(this,"circumference");U(this,"endAngle");U(this,"fullCircles");U(this,"innerRadius");U(this,"outerRadius");U(this,"pixelMargin");U(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=zD(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,_=se(p,c-l)>=je||Lc(o,l,c),w=Qi(a,h+g,f+g);return _&&w}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:h}=this.options,f=(r+o)/2,p=(a+l+h+c)/2;return{x:i+Math.cos(f)*p,y:s+Math.sin(f)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>je?Math.floor(s/je):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Ve,s||0)),h=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,TY(n,this,h,o,a),CY(n,this,h,o,a),n.restore()}}U(Sl,"id","arc"),U(Sl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),U(Sl,"defaultRoutes",{backgroundColor:"backgroundColor"}),U(Sl,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function xM(t,e,n=e){t.lineCap=se(n.borderCapStyle,e.borderCapStyle),t.setLineDash(se(n.borderDash,e.borderDash)),t.lineDashOffset=se(n.borderDashOffset,e.borderDashOffset),t.lineJoin=se(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=se(n.borderWidth,e.borderWidth),t.strokeStyle=se(n.borderColor,e.borderColor)}function IY(t,e,n){t.lineTo(n.x,n.y)}function DY(t){return t.stepped?J6:t.tension||t.cubicInterpolationMode==="monotone"?Z6:IY}function bM(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),h=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function MY(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=bM(s,n,i),h=DY(r);let{move:f=!0,reverse:p}=i||{},g,v,_;for(g=0;g<=c;++g)v=s[(a+(p?c-g:g))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):h(t,_,v,p,r.stepped),_=v);return l&&(v=s[(a+(p?c:0))%o],h(t,_,v,p,r.stepped)),!!l}function AY(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=bM(s,n,i),{move:l=!0,reverse:c}=i||{};let h=0,f=0,p,g,v,_,w,S;const x=T=>(o+(c?a-T:T))%r,E=()=>{_!==w&&(t.lineTo(h,w),t.lineTo(h,_),t.lineTo(h,S))};for(l&&(g=s[x(0)],t.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=s[x(p)],g.skip)continue;const T=g.x,I=g.y,M=T|0;M===v?(I<_?_=I:I>w&&(w=I),h=(f*h+T)/++f):(E(),t.lineTo(T,I),v=M,f=0,_=w=I),S=I}E()}function Wy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?AY:MY}function RY(t){return t.stepped?AW:t.tension||t.cubicInterpolationMode==="monotone"?RW:Ir}function PY(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),xM(t,e.options),t.stroke(s)}function OY(t,e,n,i){const{segments:s,options:r}=e,o=Wy(e);for(const a of s)xM(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const NY=typeof Path2D=="function";function LY(t,e,n,i){NY&&!e.options.segment?PY(t,e,n,i):OY(t,e,n,i)}class js extends ti{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;SW(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jW(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=lM(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=RY(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:f,end:p}=o[c],g=r[f],v=r[p];if(g===v){a.push(g);continue}const _=Math.abs((s-g[n])/(v[n]-g[n])),w=l(g,v,_,i.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Wy(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Wy(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),LY(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}U(js,"id","line"),U(js,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),U(js,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),U(js,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rS(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Kl extends ti{constructor(n){super();U(this,"parsed");U(this,"skip");U(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return rS(this,n,"x",i)}inYRange(n,i){return rS(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ji(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Uy(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}U(Kl,"id","point"),U(Kl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),U(Kl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function SM(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,f;return t.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-f,h=i+f):(f=r/2,a=n-f,l=n+f,c=Math.min(i,s),h=Math.max(i,s)),{left:a,top:c,right:l,bottom:h}}function $s(t,e,n,i){return t?0:xt(e,n,i)}function FY(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=QD(i);return{t:$s(s.top,r.top,0,n),r:$s(s.right,r.right,0,e),b:$s(s.bottom,r.bottom,0,n),l:$s(s.left,r.left,0,e)}}function jY(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=zr(s),o=Math.min(e,n),a=t.borderSkipped,l=i||he(s);return{topLeft:$s(!l||a.top||a.left,r.topLeft,0,o),topRight:$s(!l||a.top||a.right,r.topRight,0,o),bottomLeft:$s(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:$s(!l||a.bottom||a.right,r.bottomRight,0,o)}}function $Y(t){const e=SM(t),n=e.right-e.left,i=e.bottom-e.top,s=FY(t,n/2,i/2),r=jY(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Xm(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&SM(t,i);return a&&(s||Qi(e,a.left,a.right))&&(r||Qi(n,a.top,a.bottom))}function UY(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function zY(t,e){t.rect(e.x,e.y,e.w,e.h)}function Jm(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class ad extends ti{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=$Y(this),a=UY(o.radius)?Fc:zY;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Jm(o,n,r)),e.clip(),a(e,Jm(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Jm(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Xm(this,e,n,i)}inXRange(e,n){return Xm(this,e,null,n)}inYRange(e,n){return Xm(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}U(ad,"id","bar"),U(ad,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),U(ad,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var VY=Object.freeze({__proto__:null,ArcElement:Sl,BarElement:ad,LineElement:js,PointElement:Kl});const Hy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],oS=Hy.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function kM(t){return Hy[t%Hy.length]}function EM(t){return oS[t%oS.length]}function BY(t,e){return t.borderColor=kM(e),t.backgroundColor=EM(e),++e}function WY(t,e){return t.backgroundColor=t.data.map(()=>kM(e++)),e}function HY(t,e){return t.backgroundColor=t.data.map(()=>EM(e++)),e}function YY(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof Nr?e=WY(n,e):s instanceof Gl?e=HY(n,e):s&&(e=BY(n,e))}}function aS(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function GY(t){return t&&(t.borderColor||t.backgroundColor)}var KY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s;if(!n.forceOverride&&(aS(i)||GY(s)||r&&aS(r)))return;const o=YY(t);i.forEach(o)}};function qY(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let h=e,f,p,g,v,_;for(o[l++]=t[h],f=0;f<r-2;f++){let w=0,S=0,x;const E=Math.floor((f+1)*a)+1+e,T=Math.min(Math.floor((f+2)*a)+1,n)+e,I=T-E;for(x=E;x<T;x++)w+=t[x].x,S+=t[x].y;w/=I,S/=I;const M=Math.floor(f*a)+1+e,R=Math.min(Math.floor((f+1)*a)+1,n)+e,{x:A,y:N}=t[h];for(g=v=-1,x=M;x<R;x++)v=.5*Math.abs((A-w)*(t[x].y-N)-(A-t[x].x)*(S-N)),v>g&&(g=v,p=t[x],_=x);o[l++]=p,h=_}return o[l++]=t[c],o}function QY(t,e,n,i){let s=0,r=0,o,a,l,c,h,f,p,g,v,_;const w=[],S=e+n-1,x=t[e].x,T=t[S].x-x;for(o=e;o<e+n;++o){a=t[o],l=(a.x-x)/T*i,c=a.y;const I=l|0;if(I===h)c<v?(v=c,f=o):c>_&&(_=c,p=o),s=(r*s+a.x)/++r;else{const M=o-1;if(!ge(f)&&!ge(p)){const R=Math.min(f,p),A=Math.max(f,p);R!==g&&R!==M&&w.push({...t[R],x:s}),A!==g&&A!==M&&w.push({...t[A],x:s})}o>0&&M!==g&&w.push(t[M]),w.push(a),h=I,r=0,v=_=c,f=p=g=o}}return w}function TM(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function lS(t){t.data.datasets.forEach(e=>{TM(e)})}function XY(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=xt(Xi(e,r.axis,o).lo,0,n-1)),c?s=xt(Xi(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var JY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){lS(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(xl([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=t.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:f,count:p}=XY(l,c);const g=n.threshold||4*i;if(p<=g){TM(s);return}ge(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let v;switch(n.algorithm){case"lttb":v=qY(c,f,p,i,n);break;case"min-max":v=QY(c,f,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=v})},destroy(t){lS(t)}};function ZY(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=k_(l,c,s);const h=Yy(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:h,start:s[l],end:s[c]});continue}const f=lM(e,h);for(const p of f){const g=Yy(n,r[p.start],r[p.end],p.loop),v=aM(a,s,g);for(const _ of v)o.push({source:_,target:p,start:{[n]:cS(h,g,"start",Math.max)},end:{[n]:cS(h,g,"end",Math.min)}})}}return o}function Yy(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=_n(s),r=_n(r)),{property:t,start:s,end:r}}function e8(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=k_(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function k_(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function cS(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function CM(t,e){let n=[],i=!1;return Le(t)?(i=!0,n=t):n=e8(t,e),n.length?new js({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function uS(t){return t&&t.fill!==!1}function t8(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!qe(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function n8(t,e,n){const i=o8(t);if(he(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return qe(s)&&Math.floor(s)===s?i8(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function i8(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function s8(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:he(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function r8(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:he(t)?i=t.value:i=e.getBaseValue(),i}function o8(t){const e=t.options,n=e.fill;let i=se(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function a8(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=l8(e,n);a.push(CM({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let h=c.start;h<=c.end;h++)c8(s,o[h],a)}return new js({points:s,options:{}})}function l8(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function c8(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=u8(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function u8(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const h=r[c],f=o[h.start][n],p=o[h.end][n];if(Qi(s,f,p)){a=s===f,l=s===p;break}}return{first:a,last:l,point:i}}class IM{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:je},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function h8(t){const{chart:e,fill:n,line:i}=t;if(qe(n))return d8(e,n);if(n==="stack")return a8(t);if(n==="shape")return!0;const s=f8(t);return s instanceof IM?s:CM(s,i)}function d8(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function f8(t){return(t.scale||{}).getPointPositionForValue?m8(t):p8(t)}function p8(t){const{scale:e={},fill:n}=t,i=s8(n,e);if(qe(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function m8(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=r8(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new IM({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Zm(t,e,n){const i=h8(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:f=c}=l||{};i&&s.points.length&&(mp(t,n),g8(t,{line:s,target:i,above:h,below:f,area:n,scale:r,axis:o}),gp(t))}function g8(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(hS(t,i,o.top),dS(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),hS(t,i,o.bottom)),dS(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function hS(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,h=s[l],f=s[k_(l,c,s)];r?(t.moveTo(h.x,h.y),r=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function dS(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=ZY(n,i,s);for(const{source:l,target:c,start:h,end:f}of a){const{style:{backgroundColor:p=r}={}}=l,g=i!==!0;t.save(),t.fillStyle=p,y8(t,o,g&&Yy(s,h,f)),t.beginPath();const v=!!n.pathSegment(t,l);let _;if(g){v?t.closePath():fS(t,i,f,s);const w=!!i.pathSegment(t,c,{move:v,reverse:!0});_=v&&w,_||fS(t,i,h,s)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function y8(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function fS(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var v8={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof js&&(l={visible:t.isDatasetVisible(o),index:o,fill:n8(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=t8(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Zm(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;uS(r)&&Zm(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!uS(i)||n.drawTime!=="beforeDatasetDraw"||Zm(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const pS=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},_8=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class mS extends ti{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=vt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=pS(i,r);let c,h;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+a;let f=e;r.textAlign="left",r.textBaseline="middle";let p=-1,g=-h;return this.legendItems.forEach((v,_)=>{const w=i+n/2+r.measureText(v.text).width;(_===0||c[c.length-1]+w+2*a>o)&&(f+=h,c[c.length-(_>0?0:1)]=0,g+=h,p++),l[_]={left:0,top:g,row:p,width:w,height:s},c[c.length-1]+=w+a}),f}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let f=a,p=0,g=0,v=0,_=0;return this.legendItems.forEach((w,S)=>{const{itemWidth:x,itemHeight:E}=w8(i,n,r,w,s);S>0&&g+E+2*a>h&&(f+=p+a,c.push({width:p,height:g}),v+=p+a,_++,p=g=0),l[S]={left:v,top:g,col:_,width:x,height:E},p=Math.max(p,x),g+=E+a}),f+=p,c.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=sa(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=jt(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=jt(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=jt(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=jt(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;mp(e,this),this._draw(),gp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Xe.color,l=sa(e.rtl,this.left,this.width),c=vt(o.font),{padding:h}=o,f=c.size,p=f/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:v,boxHeight:_,itemHeight:w}=pS(o,f),S=function(M,R,A){if(isNaN(v)||v<=0||isNaN(_)||_<0)return;s.save();const N=se(A.lineWidth,1);if(s.fillStyle=se(A.fillStyle,a),s.lineCap=se(A.lineCap,"butt"),s.lineDashOffset=se(A.lineDashOffset,0),s.lineJoin=se(A.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=se(A.strokeStyle,a),s.setLineDash(se(A.lineDash,[])),o.usePointStyle){const O={radius:_*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:N},B=l.xPlus(M,v/2),q=R+p;qD(s,O,B,q,o.pointStyleWidth&&v)}else{const O=R+Math.max((f-_)/2,0),B=l.leftForLtr(M,v),q=zr(A.borderRadius);s.beginPath(),Object.values(q).some(oe=>oe!==0)?Fc(s,{x:B,y:O,w:v,h:_,radius:q}):s.rect(B,O,v,_),s.fill(),N!==0&&s.stroke()}s.restore()},x=function(M,R,A){io(s,A.text,M,R+w/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},E=this.isHorizontal(),T=this._computeTitleHeight();E?g={x:jt(r,this.left+h,this.right-i[0]),y:this.top+h+T,line:0}:g={x:this.left+h,y:jt(r,this.top+T+h,this.bottom-n[0].height),line:0},sM(this.ctx,e.textDirection);const I=w+h;this.legendItems.forEach((M,R)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const A=s.measureText(M.text).width,N=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),O=v+p+A;let B=g.x,q=g.y;l.setWidth(this.width),E?R>0&&B+O+h>this.right&&(q=g.y+=I,g.line++,B=g.x=jt(r,this.left+h,this.right-i[g.line])):R>0&&q+I>this.bottom&&(B=g.x=B+n[g.line].width+h,g.line++,q=g.y=jt(r,this.top+T+h,this.bottom-n[g.line].height));const oe=l.x(B);if(S(oe,q,M),B=z6(N,B+v+p,E?B+O:this.right,e.rtl),x(l.x(B),q,M),E)g.x+=O+h;else if(typeof M.text!="string"){const tt=c.lineHeight;g.y+=DM(M,tt)}else g.y+=I}),rM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=vt(n.font),s=qt(n.padding);if(!n.display)return;const r=sa(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let h,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+c,f=jt(e.align,f,this.right-p);else{const v=this.columnSizes.reduce((_,w)=>Math.max(_,w.height),0);h=c+jt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=jt(a,f,f+p);o.textAlign=r.textAlign(g_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,io(o,n.text,g,h,i)}_computeTitleHeight(){const e=this.options.title,n=vt(e.font),i=qt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Qi(e,this.left,this.right)&&Qi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Qi(e,s.left,s.left+s.width)&&Qi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!S8(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=_8(s,i);s&&!r&&Me(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Me(n.onHover,[e,i,this],this)}else i&&Me(n.onClick,[e,i,this],this)}}function w8(t,e,n,i,s){const r=x8(i,t,e,n),o=b8(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function x8(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function b8(t,e,n){let i=t;return typeof e.text!="string"&&(i=DM(e,n)),i}function DM(t,e){const n=t.text?t.text.length+.5:0;return e*n}function S8(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var k8={id:"legend",_element:mS,start(t,e,n){const i=t.legend=new mS({ctx:t.ctx,options:n,chart:t});Bt.configure(t,i,n),Bt.addBox(t,i)},stop(t){Bt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Bt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=qt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class E_ extends ti{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Le(i.text)?i.text.length:1;this._padding=qt(i.padding);const r=s*vt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,h,f;return this.isHorizontal()?(h=jt(a,i,r),f=n+e,c=r-i):(o.position==="left"?(h=i+e,f=jt(a,s,n),l=Ve*-.5):(h=r-e,f=jt(a,n,s),l=Ve*.5),c=s-n),{titleX:h,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=vt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);io(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:g_(n.align),textBaseline:"middle",translation:[o,a]})}}function E8(t,e){const n=new E_({ctx:t.ctx,options:e,chart:t});Bt.configure(t,n,e),Bt.addBox(t,n),t.titleBlock=n}var T8={id:"title",_element:E_,start(t,e,n){E8(t,n)},stop(t){const e=t.titleBlock;Bt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dh=new WeakMap;var C8={id:"subtitle",start(t,e,n){const i=new E_({ctx:t.ctx,options:n,chart:t});Bt.configure(t,i,n),Bt.addBox(t,i),Dh.set(t,i)},stop(t){Bt.removeBox(t,Dh.get(t)),Dh.delete(t)},beforeUpdate(t,e,n){const i=Dh.get(t);Bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kl={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=jy(e,c);h<s&&(s=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function ri(t,e){return e&&(Le(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ui(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function I8(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function gS(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=vt(e.bodyFont),c=vt(e.titleFont),h=vt(e.footerFont),f=r.length,p=s.length,g=i.length,v=qt(e.padding);let _=v.height,w=0,S=i.reduce((T,I)=>T+I.before.length+I.lines.length+I.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,f&&(_+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),S){const T=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=g*T+(S-g)*l.lineHeight+(S-1)*e.bodySpacing}p&&(_+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let x=0;const E=function(T){w=Math.max(w,n.measureText(T).width+x)};return n.save(),n.font=c.string,Ee(t.title,E),n.font=l.string,Ee(t.beforeBody.concat(t.afterBody),E),x=e.displayColors?o+2+e.boxPadding:0,Ee(i,T=>{Ee(T.before,E),Ee(T.lines,E),Ee(T.after,E)}),x=0,n.font=h.string,Ee(t.footer,E),n.restore(),w+=v.width,{width:w,height:_}}function D8(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function M8(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function A8(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),M8(c,t,e,n)&&(c="center"),c}function yS(t,e,n){const i=n.yAlign||e.yAlign||D8(t,n);return{xAlign:n.xAlign||e.xAlign||A8(t,e,n,i),yAlign:i}}function R8(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function P8(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function vS(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=zr(o);let v=R8(e,a);const _=P8(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(h,p)+s:a==="right"&&(v+=Math.max(f,g)+s),{x:xt(v,0,i.width-e.width),y:xt(_,0,i.height-e.height)}}function Mh(t,e,n){const i=qt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function _S(t){return ri([],Ui(t))}function O8(t,e,n){return gr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function wS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const MM={beforeTitle:Fi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Fi,beforeBody:Fi,beforeLabel:Fi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fi,afterBody:Fi,beforeFooter:Fi,footer:Fi,afterFooter:Fi};function on(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?MM[e].call(n,i):s}class Gy extends ti{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new cM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=O8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=on(i,"beforeTitle",this,e),r=on(i,"title",this,e),o=on(i,"afterTitle",this,e);let a=[];return a=ri(a,Ui(s)),a=ri(a,Ui(r)),a=ri(a,Ui(o)),a}getBeforeBody(e,n){return _S(on(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Ee(e,r=>{const o={before:[],lines:[],after:[]},a=wS(i,r);ri(o.before,Ui(on(a,"beforeLabel",this,r))),ri(o.lines,on(a,"label",this,r)),ri(o.after,Ui(on(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return _S(on(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=on(i,"beforeFooter",this,e),r=on(i,"footer",this,e),o=on(i,"afterFooter",this,e);let a=[];return a=ri(a,Ui(s)),a=ri(a,Ui(r)),a=ri(a,Ui(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(I8(this.chart,n[l]));return e.filter&&(a=a.filter((h,f,p)=>e.filter(h,f,p,i))),e.itemSort&&(a=a.sort((h,f)=>e.itemSort(h,f,i))),Ee(a,h=>{const f=wS(e.callbacks,h);s.push(on(f,"labelColor",this,h)),r.push(on(f,"labelPointStyle",this,h)),o.push(on(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=kl[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=gS(this,i),c=Object.assign({},a,l),h=yS(this.chart,i,c),f=vS(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=zr(a),{x:p,y:g}=e,{width:v,height:_}=n;let w,S,x,E,T,I;return r==="center"?(T=g+_/2,s==="left"?(w=p,S=w-o,E=T+o,I=T-o):(w=p+v,S=w+o,E=T-o,I=T+o),x=w):(s==="left"?S=p+Math.max(l,h)+o:s==="right"?S=p+v-Math.max(c,f)-o:S=this.caretX,r==="top"?(E=g,T=E-o,w=S-o,x=S+o):(E=g+_,T=E+o,w=S+o,x=S-o),I=E),{x1:w,x2:S,x3:x,y1:E,y2:T,y3:I}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=sa(i.rtl,this.x,this.width);for(e.x=Mh(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=vt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=vt(r.bodyFont),f=Mh(this,"left",r),p=s.x(f),g=l<h.lineHeight?(h.lineHeight-l)/2:0,v=n.y+g;if(r.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=s.leftForLtr(p,c)+c/2,S=v+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Uy(e,_,w,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Uy(e,_,w,S)}else{e.lineWidth=he(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=s.leftForLtr(p,c),w=s.leftForLtr(s.xPlus(p,1),c-2),S=zr(o.borderRadius);Object.values(S).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Fc(e,{x:_,y:v,w:c,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Fc(e,{x:w,y:v+1,w:c-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,v,c,l),e.strokeRect(_,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(w,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=vt(i.bodyFont);let p=f.lineHeight,g=0;const v=sa(i.rtl,this.x,this.width),_=function(A){n.fillText(A,v.x(e.x+g),e.y+p/2),e.y+=p+r},w=v.textAlign(o);let S,x,E,T,I,M,R;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Mh(this,w,i),n.fillStyle=i.bodyColor,Ee(this.beforeBody,_),g=a&&w!=="right"?o==="center"?c/2+h:c+2+h:0,T=0,M=s.length;T<M;++T){for(S=s[T],x=this.labelTextColors[T],n.fillStyle=x,Ee(S.before,_),E=S.lines,a&&E.length&&(this._drawColorBox(n,e,T,v,i),p=Math.max(f.lineHeight,l)),I=0,R=E.length;I<R;++I)_(E[I]),p=f.lineHeight;Ee(S.after,_)}g=0,p=f.lineHeight,Ee(this.afterBody,_),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=sa(i.rtl,this.x,this.width);for(e.x=Mh(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=vt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:v}=zr(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+h-v),n.quadraticCurveTo(a+c,l+h,a+c-v,l+h),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+g,l+h),n.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=kl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=gS(this,e),l=Object.assign({},o,this._size),c=yS(n,e,l),h=vS(e,l,c,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=qt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),sM(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),rM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!sf(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!sf(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=kl[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}U(Gy,"positioners",kl);var N8={id:"tooltip",_element:Gy,positioners:kl,afterInit(t,e,n){n&&(t.tooltip=new Gy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},L8=Object.freeze({__proto__:null,Colors:KY,Decimation:JY,Filler:v8,Legend:k8,SubTitle:C8,Title:T8,Tooltip:N8});const F8=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function j8(t,e,n,i){const s=t.indexOf(e);if(s===-1)return F8(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const $8=(t,e)=>t===null?null:xt(Math.round(t),0,e);function xS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class hf extends go{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ge(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:j8(i,e,se(n,e),this._addedLabels),$8(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return xS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}U(hf,"id","category"),U(hf,"defaults",{ticks:{callback:xS}});function U8(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:p}=t,g=r||1,v=h-1,{min:_,max:w}=e,S=!ge(o),x=!ge(a),E=!ge(c),T=(w-_)/(f+1);let I=mb((w-_)/v/g)*g,M,R,A,N;if(I<1e-14&&!S&&!x)return[{value:_},{value:w}];N=Math.ceil(w/I)-Math.floor(_/I),N>v&&(I=mb(N*I/v/g)*g),ge(l)||(M=Math.pow(10,l),I=Math.ceil(I*M)/M),s==="ticks"?(R=Math.floor(_/I)*I,A=Math.ceil(w/I)*I):(R=_,A=w),S&&x&&r&&O6((a-o)/r,I/1e3)?(N=Math.round(Math.min((a-o)/I,h)),I=(a-o)/N,R=o,A=a):E?(R=S?o:R,A=x?a:A,N=c-1,I=(A-R)/N):(N=(A-R)/I,Bl(N,Math.round(N),I/1e3)?N=Math.round(N):N=Math.ceil(N));const O=Math.max(gb(I),gb(R));M=Math.pow(10,ge(l)?O:l),R=Math.round(R*M)/M,A=Math.round(A*M)/M;let B=0;for(S&&(p&&R!==o?(n.push({value:o}),R<o&&B++,Bl(Math.round((R+B*I)*M)/M,o,bS(o,T,t))&&B++):R<o&&B++);B<N;++B){const q=Math.round((R+B*I)*M)/M;if(x&&q>a)break;n.push({value:q})}return x&&p&&A!==a?n.length&&Bl(n[n.length-1].value,a,bS(a,T,t))?n[n.length-1].value=a:n.push({value:a}):(!x||A===a)&&n.push({value:A}),n}function bS(t,e,{horizontal:n,minRotation:i}){const s=Yn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class df extends go{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Si(s),c=Si(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=U8(s,r);return e.bounds==="ticks"&&UD(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return gu(e,this.chart.options.locale,this.options.ticks.format)}}class ff extends df{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qe(e)?e:0,this.max=qe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Yn(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}U(ff,"id","linear"),U(ff,"defaults",{ticks:{callback:pp.formatters.numeric}});const $c=t=>Math.floor(Fs(t)),Sr=(t,e)=>Math.pow(10,$c(t)+e);function SS(t){return t/Math.pow(10,$c(t))===1}function kS(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function z8(t,e){const n=e-t;let i=$c(n);for(;kS(t,e,i)>10;)i++;for(;kS(t,e,i)<10;)i--;return Math.min(i,$c(t))}function V8(t,{min:e,max:n}){e=yn(t.min,e);const i=[],s=$c(e);let r=z8(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((c-h)/Math.pow(10,r)),p=yn(t.min,Math.round((l+h+f*Math.pow(10,r))*o)/o);for(;p<n;)i.push({value:p,major:SS(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),p=Math.round((l+h+f*Math.pow(10,r))*o)/o;const g=yn(t.max,p);return i.push({value:g,major:SS(g),significand:f}),i}class Ky extends go{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=df.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return qe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qe(e)?Math.max(0,e):null,this.max=qe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qe(this._userMin)&&(this.min=e===Sr(this.min,0)?Sr(this.min,-1):Sr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Sr(i,-1)),o(Sr(s,1)))),i<=0&&r(Sr(s,-1)),s<=0&&o(Sr(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=V8(n,this);return e.bounds==="ticks"&&UD(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":gu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Fs(e),this._valueRange=Fs(this.max)-Fs(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}U(Ky,"id","logarithmic"),U(Ky,"defaults",{ticks:{callback:pp.formatters.logarithmic,major:{enabled:!0}}});function qy(t){const e=t.ticks;if(e.display&&t.display){const n=qt(e.backdropPadding);return se(e.font&&e.font.size,Xe.font.size)+n.height}return 0}function B8(t,e,n){return n=Le(n)?n:[n],{w:X6(t,e.string,n),h:n.length*e.lineHeight}}function ES(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function W8(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ve/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const h=t.getPointPosition(l,t.drawingArea+s[l],a),f=vt(c.font),p=B8(t.ctx,f,t._pointLabels[l]);i[l]=p;const g=_n(t.getIndexAngle(l)+a),v=Math.round(p_(g)),_=ES(v,h.x,p.w,0,180),w=ES(v,h.y,p.h,90,270);H8(n,e,g,_,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=K8(t,i,s)}function H8(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Y8(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),c=Math.round(p_(_n(l.angle+Qe))),h=X8(l.y,a.h,c),f=q8(c),p=Q8(l.x,a.w,f);return{visible:!0,x:l.x,y:h,textAlign:f,left:p,top:h,right:p+a.w,bottom:h+a.h}}function G8(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(Ji({x:n,y:i},e)||Ji({x:n,y:r},e)||Ji({x:s,y:i},e)||Ji({x:s,y:r},e))}function K8(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:qy(r)/2,additionalAngle:o?Ve/s:0};let c;for(let h=0;h<s;h++){l.padding=n[h],l.size=e[h];const f=Y8(t,h,l);i.push(f),a==="auto"&&(f.visible=G8(f,c),f.visible&&(c=f))}return i}function q8(t){return t===0||t===180?"center":t<180?"left":"right"}function Q8(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function X8(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function J8(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!ge(a)){const l=zr(e.borderRadius),c=qt(e.backdropPadding);t.fillStyle=a;const h=i-c.left,f=s-c.top,p=r-i+c.width,g=o-s+c.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),Fc(t,{x:h,y:f,w:p,h:g,radius:l}),t.fill()):t.fillRect(h,f,p,g)}}function Z8(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));J8(n,o,r);const a=vt(o.font),{x:l,y:c,textAlign:h}=r;io(n,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function AM(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,je);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function e7(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),AM(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function t7(t,e,n){return gr(t,{label:n,index:e,type:"pointLabel"})}class El extends df{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=qt(qy(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=qe(e)&&!isNaN(e)?e:0,this.max=qe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qy(this.options))}generateTickLabels(e){df.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=Me(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?W8(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=je/(this._pointLabels.length||1),i=this.options.startAngle||0;return _n(e*n+Yn(i))}getDistanceFromCenterForValue(e){if(ge(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ge(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return t7(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Qe+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),AM(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Z8(this,o),s.display&&this.ticks.forEach((h,f)=>{if(f!==0){l=this.getDistanceFromCenterForValue(h.value);const p=this.getContext(f),g=s.setContext(p),v=r.setContext(p);e7(this,g,l,o,v)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:p}=h;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),h=vt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=qt(c.backdropPadding);e.fillRect(-o/2-f.left,-r-h.size/2-f.top,o+f.width,h.size+f.height)}io(e,a.label,0,-r,h,{color:c.color})}),e.restore()}drawTitle(){}}U(El,"id","radialLinear"),U(El,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),U(El,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),U(El,"descriptors",{angleLines:{_fallback:"grid"}});const vp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cn=Object.keys(vp);function n7(t,e){return t-e}function TS(t,e){if(ge(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),qe(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ba(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function CS(t,e,n,i){const s=cn.length;for(let r=cn.indexOf(t);r<s-1;++r){const o=vp[cn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return cn[r]}return cn[s-1]}function i7(t,e,n,i,s){for(let r=cn.length-1;r>=cn.indexOf(n);r--){const o=cn[r];if(vp[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return cn[n?cn.indexOf(n):0]}function s7(t){for(let e=cn.indexOf(t)+1,n=cn.length;e<n;++e)if(vp[cn[e]].common)return cn[e]}function IS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=m_(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function r7(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function DS(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:r7(t,i,s,n)}class Uc extends go{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new fH._date(e.adapters.date);s.init(n),Vl(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:TS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=qe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=qe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=j6(s,r,o);return this._unit=n.unit||(i.autoSkip?CS(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):i7(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:s7(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),DS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=xt(n,0,o),i=xt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||CS(r.minUnit,n,i,this._getLabelCapacity(n)),a=se(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ba(l)||l===!0,h={};let f=n,p,g;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<i;p=+e.add(p,a,o),g++)IS(h,p,v);return(p===i||s.bounds==="ticks"||g===1)&&IS(h,p,v),Object.keys(h).sort((_,w)=>_-w).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Me(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],f=c&&a[c],p=i[n],g=c&&f&&p&&p.major;return this._adapter.format(e,s||(g?f:h))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Yn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,DS(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(TS(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return BD(e.sort(n7))}}U(Uc,"id","time"),U(Uc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ah(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Xi(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Xi(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Qy extends Uc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ah(n,this.min),this._tableRange=Ah(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],l=s[o-1],c=s[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ah(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ah(this._table,i*this._tableRange+this._minPos,!0)}}U(Qy,"id","timeseries"),U(Qy,"defaults",Uc.defaults);var o7=Object.freeze({__proto__:null,CategoryScale:hf,LinearScale:ff,LogarithmicScale:Ky,RadialLinearScale:El,TimeScale:Uc,TimeSeriesScale:Qy});const a7=[dH,VY,L8,o7],RM="label";function MS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function l7(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function PM(t,e){t.labels=e}function OM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RM;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function c7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RM;const n={labels:[],datasets:[]};return PM(n,t.labels),OM(n,t.datasets,e),n}function u7(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...p}=t,g=D.useRef(null),v=D.useRef(),_=()=>{g.current&&(v.current=new vu(g.current,{type:o,data:c7(a,r),options:l&&{...l},plugins:c}),MS(e,v.current))},w=()=>{MS(e,null),v.current&&(v.current.destroy(),v.current=null)};return D.useEffect(()=>{!s&&v.current&&l&&l7(v.current,l)},[s,l]),D.useEffect(()=>{!s&&v.current&&PM(v.current.config.data,a.labels)},[s,a.labels]),D.useEffect(()=>{!s&&v.current&&a.datasets&&OM(v.current.config.data,a.datasets,r)},[s,a.datasets]),D.useEffect(()=>{v.current&&(s?(w(),setTimeout(_)):v.current.update(f))},[s,l,a.labels,a.datasets,f]),D.useEffect(()=>{v.current&&(w(),setTimeout(_))},[o]),D.useEffect(()=>(_(),()=>w()),[]),Ta.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:i},p),h)}const h7=D.forwardRef(u7);function d7(t,e){return vu.register(e),D.forwardRef((n,i)=>Ta.createElement(h7,Object.assign({},n,{ref:i,type:t})))}const f7=d7("line",Yl);vu.register(...a7);vu.register(hf,ff,Kl);const p7=({param:t})=>{const[e,n]=D.useState([]),{currentUser:i}=D.useContext($n),s=i==null?void 0:i.uid,{userData:r}=D.useContext(ni);D.useEffect(()=>{(async()=>{try{if(r){const p=r.measurements[t];console.log(p);const g=[];Object.keys(p).forEach(v=>{const _=p[v],w={date:_.date.toDate(),measurementValue:_.measurementValue};g.push(w),console.log(g)}),g.sort((v,_)=>v.date.getTime()-_.date.getTime()),n(g)}}catch(f){console.log(f)}})()},[t,s,r]);const o=h=>{const f=h.toLocaleString("default",{month:"short"}),p=h.getFullYear();return`${h.getDate()} ${f} ${p}`},a={labels:e.map((h,f)=>{if(f===0)return o(h.date);{const p=e[f-1],g=h.date,v=p.date;if(g.getMonth()!==v.getMonth()||g.getFullYear()!==v.getFullYear())return o(g)}return""}),datasets:[{data:e.map(h=>h.measurementValue),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},c={plugins:{tooltip:{callbacks:{label:h=>{const f=h.dataIndex,p=e[f],g=o(p.date),v=h.dataset.data[f];return`${g}: ${v}`}}},legend:{display:!1}},label:{display:!1},animation:{duration:30}};return b.jsx("div",{children:b.jsx(f7,{data:a,options:c})})},NM=({isNewMeasurement:t,param:e})=>{const{currentUser:n}=D.useContext($n),{userData:i}=D.useContext(ni),s=n.uid,r=hs(),o=Jn(ei,"users",s),a=D.useRef(null),l=async c=>{var g,v,_;c.preventDefault();const h=(g=c.currentTarget.elements.namedItem("measurementType"))==null?void 0:g.value,f=parseFloat(c.currentTarget.elements.namedItem("value").value),p=new Date(c.currentTarget.elements.namedItem("date").value);try{const w=i.measurements,S=w[e];if(console.log(S),w[h]){(v=a.current)==null||v.reset(),toast.error("Measurement already exists");return}const x=t?{...w,[h]:{...w==null?void 0:w.measurement,[`entry${Object.keys((w==null?void 0:w.measurement)??{}).length+1}`]:{date:p,measurementValue:f}}}:{...w,[e]:{...S,[`entry${Object.keys(S??{}).length+1}`]:{date:p,measurementValue:f}}};console.log(x),await fi(o,{measurements:x}),console.log("Document updated with ID: ",o.id),t&&r("/results-list/measurements")}catch(w){console.log(w)}(_=a.current)==null||_.reset()};return b.jsxs("div",{children:[b.jsxs("form",{className:Um.form,onSubmit:l,ref:a,children:[t&&b.jsxs(b.Fragment,{children:[b.jsx("label",{htmlFor:"measurement_type",children:"Dodaj pomiar"}),b.jsx("input",{type:"measurementType",name:"measurementType",id:"measurementType"})]}),!t&&b.jsx("h2",{className:Um.measurement_name,children:e==null?void 0:e.toUpperCase()}),b.jsx("label",{htmlFor:"value",children:"Warto"}),b.jsx("input",{type:"number",name:"value",id:"value",step:".01"}),b.jsx("label",{htmlFor:"date",children:"Data"}),b.jsx("input",{type:"date",name:"date",id:"date"}),b.jsx("button",{type:"submit",children:"Dodaj"})]}),!t&&b.jsx("div",{className:Um.chart_container,children:b.jsx(p7,{param:e})})]})},m7=()=>{const t=LL(),e=!1;return b.jsx(NM,{isNewMeasurement:e,param:t.measurementName})},g7="_myprofile_container_40x3v_1",y7="_myprofile_header_40x3v_6",v7="_avatar_container_40x3v_14",_7="_btn_container_40x3v_47",w7="_dropdown_container_40x3v_81",x7="_avatarform_container_40x3v_108",b7="_avatarform_modal_40x3v_121",S7="_btn_close_40x3v_158",vs={myprofile_container:g7,myprofile_header:y7,avatar_container:v7,btn_container:_7,dropdown_container:w7,avatarform_container:x7,avatarform_modal:b7,btn_close:S7},k7="/jfdzr11-team-codebusters/assets/avatar-21b913a9.jpg",E7=()=>{var h;const[t,e]=D.useState(),n=hs(),[i,s]=D.useState(),{userData:r}=D.useContext(ni),{currentUser:o,setCurrentUser:a}=D.useContext($n),l=async()=>{try{await BV(fu),a(null),n("/login")}catch(f){console.log(f)}},c=async f=>{f.preventDefault();const p=f.target[0].files[0];if(console.log(p),!p)return;const g=h3(g3,`avatars/${p.name}-${o.uid}`);try{const v=await c3(g,p),_=await u3(v.ref);console.log(_);const w={avatar:_},S=Jn(ei,"users",o.uid);await fi(S,w)}catch(v){console.log(v)}s(!1)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:vs.myprofile_container,children:[b.jsx("span",{className:vs.myprofile_header,children:"Mj profil"}),b.jsxs("div",{className:vs.avatar_container,children:[b.jsxs("div",{children:[b.jsx("img",{src:r.avatar?r.avatar:k7}),b.jsx("button",{onClick:()=>s(!0),children:"Dodaj zdjcie"})]}),b.jsx("span",{children:(h=r.personalData)==null?void 0:h.name})]}),b.jsxs("div",{className:vs.btn_container,children:[b.jsxs("button",{onClick:()=>{e(t===!1)},children:[b.jsx("span",{children:"Moje dane"}),b.jsx("img",{src:wn})]}),t===!0&&b.jsxs("div",{className:vs.dropdown_container,children:[b.jsx(mt,{to:"/myprofile/personaldata",children:"Dane personalne"}),b.jsx(mt,{to:"",children:"Dane medyczne"}),b.jsx(mt,{to:"",children:"Moi lekarze"})]}),b.jsxs("button",{children:[b.jsx("span",{children:"Zarzdzaj kontem"}),b.jsx("img",{src:wn})]}),b.jsxs("button",{children:[b.jsx("span",{children:"Ustawienia"}),b.jsx("img",{src:wn})]}),b.jsxs("button",{children:[b.jsx("span",{children:"Pomoc"}),b.jsx("img",{src:wn})]}),b.jsxs("button",{onClick:l,children:[b.jsx("span",{children:"Wyloguj"}),b.jsx("img",{src:wn})]})]})]}),i?b.jsx("div",{className:vs.avatarform_container,children:b.jsxs("div",{className:vs.avatarform_modal,children:[b.jsx("button",{onClick:()=>s(!1),className:vs.btn_close,children:"x"}),b.jsxs("form",{onSubmit:c,children:[b.jsx("input",{accept:"image/*",type:"file"}),b.jsx("button",{type:"submit",children:"Ustaw wybrane zdjcie"})]})]})}):null]})},T7="_personaldata_container_rkp5j_1",C7="_personaldata_header_rkp5j_6",I7="_personaldata_label_active_rkp5j_15",D7="_personaldata_label_rkp5j_15",M7="_contactdata_label_active_rkp5j_41",A7="_contactdata_label_rkp5j_41",R7="_data_container_rkp5j_64",P7="_data_header_rkp5j_75",O7="_data_detail_rkp5j_81",N7="_dataedit_container_rkp5j_97",L7="_radio_container_rkp5j_142",Se={personaldata_container:T7,personaldata_header:C7,personaldata_label_active:I7,personaldata_label:D7,contactdata_label_active:M7,contactdata_label:A7,data_container:R7,data_header:P7,data_detail:O7,dataedit_container:N7,radio_container:L7};function AS(t,e){const n=new Date(t.seconds*1e3+t.nanoseconds/1e6);let i=Number(n.getMonth())+1,s=Number(n.getDate());const r=n.getFullYear();return i<10&&(i="0"+i),s<10&&(s="0"+s),e==="normal"?s+"-"+i+"-"+r:r+"-"+i+"-"+s}const F7=()=>{var E,T,I,M,R,A;const{userData:t}=D.useContext(ni),[e,n]=D.useState("personaldata"),[i,s]=D.useState(""),[r,o]=D.useState(""),{currentUser:a}=D.useContext($n),[l,c]=D.useState(!1),[h,f]=D.useState(""),[p,g]=D.useState(""),[v,_]=D.useState("");D.useEffect(()=>{var N,O,B,q,oe;(N=t.personalData)!=null&&N.birthday&&(s(AS((O=t.personalData)==null?void 0:O.birthday,"normal")),o(AS((B=t.personalData)==null?void 0:B.birthday,"reverse"))),_(`${(q=t.personalData)==null?void 0:q.name} ${(oe=t.personalData)==null?void 0:oe.lastName}`)},[t]);const w=(N,O)=>{c(!0),f(N),g(O)},S=()=>{var N,O,B,q,oe,tt,ce;if(h==="Imi i nazwisko")return b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",name:"name",defaultValue:(N=t.personalData)==null?void 0:N.name}),b.jsx("br",{}),b.jsx("input",{type:"text",name:"lastName",defaultValue:(O=t.personalData)==null?void 0:O.lastName})]});if(h==="Pe")return((B=t.personalData)==null?void 0:B.gender)=="mczyzna"?b.jsxs("div",{className:Se.radio_container,children:[b.jsxs("div",{children:[b.jsx("input",{type:"radio",id:"man",name:"editData",value:"mczyzna",defaultChecked:!0}),b.jsx("label",{htmlFor:"man",children:"mczyzna"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",id:"woman",name:"editData",value:"kobieta"}),b.jsx("label",{htmlFor:"woman",children:"kobieta"})]})]}):b.jsxs("div",{className:Se.radio_container,children:[b.jsxs("div",{children:[b.jsx("input",{type:"radio",id:"man",name:"editData",value:"mczyzna"}),b.jsx("label",{htmlFor:"man",children:"mczyzna"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",id:"woman",name:"editData",value:"kobieta",defaultChecked:!0}),b.jsx("label",{htmlFor:"woman",children:"kobieta"})]})]});if(h==="Data urodzenia")return b.jsx("input",{type:"date",name:"editData",defaultValue:r});if(h==="PESEL")return b.jsx("input",{type:"text",name:"editData",defaultValue:(q=t.personalData)==null?void 0:q.PESEL,size:11});if(h==="Telefon")return b.jsx("input",{type:"text",name:"editData",defaultValue:(oe=t.personalData)==null?void 0:oe.tel,size:9});if(h==="Adres")return b.jsx("input",{type:"text",name:"editData",defaultValue:(tt=t.personalData)==null?void 0:tt.address});if(h==="Adres e-mail")return b.jsx("input",{type:"text",name:"editData",defaultValue:(ce=t.personalData)==null?void 0:ce.email})},x=async N=>{console.log(N),N.preventDefault();let O;if(p==="fullname")O={personalData:{...t.personalData,name:N.target.name.value,lastName:N.target.lastName.value}};else{const B=N.target.editData;let q;p==="birthday"?q=ht.fromDate(new Date(B.value)):p==="PESEL"||p==="tel"?q=Number(B.value):q=B.value,O={personalData:{...t.personalData,[p]:q}}}try{const B=Jn(ei,"users",a==null?void 0:a.uid);await fi(B,O)}catch(B){console.log(B)}c(!1)};return b.jsx(b.Fragment,{children:l==!1?b.jsxs("div",{className:Se.personaldata_container,children:[b.jsx("span",{className:Se.personaldata_header,children:"Dane personalne"}),b.jsx("button",{className:e==="personaldata"?Se.personaldata_label_active:Se.personaldata_label,onClick:()=>n("personaldata"),children:"Dane osobowe"}),b.jsx("button",{className:e==="contactdata"?Se.personaldata_label_active:Se.personaldata_label,onClick:()=>n("contactdata"),children:"Dane kontaktowe"}),e=="personaldata"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"Imi i nazwisko"}),b.jsx("span",{className:Se.data_detail,children:v}),b.jsx("button",{onClick:()=>w("Imi i nazwisko","fullname")})]}),b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"Pe"}),b.jsx("span",{className:Se.data_detail,children:(E=t.personalData)==null?void 0:E.gender}),b.jsx("button",{onClick:()=>w("Pe","gender")})]}),b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"Data urodzenia"}),b.jsx("span",{className:Se.data_detail,children:i}),b.jsx("button",{onClick:()=>w("Data urodzenia","birthday")})]}),b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"PESEL"}),b.jsx("span",{className:Se.data_detail,children:(T=t.personalData)==null?void 0:T.PESEL}),b.jsx("button",{onClick:()=>w("PESEL","PESEL")})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"Telefon"}),b.jsx("span",{className:Se.data_detail,children:(I=t.personalData)!=null&&I.tel?`+48 ${(M=t.personalData)==null?void 0:M.tel}`:""}),b.jsx("button",{onClick:()=>w("Telefon","tel")})]}),b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"Adres"}),b.jsx("span",{className:Se.data_detail,children:(R=t.personalData)==null?void 0:R.address}),b.jsx("button",{onClick:()=>w("Adres","address")})]}),b.jsxs("div",{className:Se.data_container,children:[b.jsx("span",{className:Se.data_header,children:"Adres e-mail"}),b.jsx("span",{className:Se.data_detail,children:(A=t.personalData)==null?void 0:A.email}),b.jsx("button",{onClick:()=>w("Adres e-mail","email")})]})]})]}):b.jsx("div",{className:Se.dataedit_container,children:b.jsxs("form",{onSubmit:x,children:[b.jsx("label",{children:h}),b.jsx("br",{}),S(),b.jsx("button",{type:"submit",children:"Zapisz"})]})})})},j7="_wrapper_1d07r_1",$7={wrapper:j7},U7=()=>b.jsxs("div",{className:$7.wrapper,children:[b.jsxs(mt,{to:"/medicine/mymedicine",children:["Apteczka",b.jsx("img",{src:wn})]}),b.jsxs(mt,{to:"/medicine/find",children:["Znajd lek",b.jsx("img",{src:wn})]})]}),z7="_bigDiv_vtvd8_1",V7="_wrapper_vtvd8_6",B7="_findDiv_vtvd8_17",W7="_resultDiv_vtvd8_32",H7="_buttons_container_vtvd8_73",Y7="_medicine_button_vtvd8_88",_s={bigDiv:z7,wrapper:V7,findDiv:B7,resultDiv:W7,buttons_container:H7,medicine_button:Y7},G7=()=>{const{currentUser:t}=D.useContext($n),e=t==null?void 0:t.uid;let n;const[i,s]=D.useState(!1),[r,o]=D.useState(!1),[a,l]=D.useState({substance:"",power:"",name:"",form:"",registryNumber:"",pack:""}),c=hs(),h=async()=>{const g=document.getElementById("codeEAN").value,w=(await(await fetch(`https://rejestrymedyczne.ezdrowie.gov.pl/api/rpl/medicinal-products/search/public?eanGtin=${g}`,{method:"GET"})).json()).content[0],E=w.gtin.split("\\n").indexOf(`0${g}`);n=w.packaging.split("\\n")[E],l({pack:n,substance:w.activeSubstanceName,power:w.medicinalProductPower,name:w.medicinalProductName,form:w.pharmaceuticalFormName,registryNumber:w.registryNumber}),s(!i)},f=async()=>{const g=Jn(ei,"users",e),_=(await Vz(g)).data(),w=Number(a.pack.split(" ")[0]),S={name:a.name,form:a.form,pack:a.pack,power:a.power,registryNumber:a.registryNumber,substance:a.substance,currentAmount:w};if(_.medicines.some(T=>T.registryNumber===S.registryNumber)){st.error("Ten lek jest ju w Twojej apteczce");return}const E=[..._.medicines,S];await fi(g,{medicines:E}),c("/medicine"),st.success("Lek zosta dodany do Twojej apteczki")},p=()=>{o(!r)};return b.jsxs("div",{className:_s.bigDiv,children:[i?null:b.jsxs("div",{className:_s.wrapper,children:[b.jsx("h2",{children:"Znajd lek"}),b.jsxs("form",{className:_s.findDiv,children:[b.jsx("label",{htmlFor:"codeEAN",children:"Wpisz kod leku z opakowania"}),b.jsx("input",{name:"codeEAN",id:"codeEAN",placeholder:"np. 5909990864546"}),b.jsx("button",{type:"button",onClick:h,className:_s.medicine_button,children:"Wyszukaj lek"})]})]}),i?b.jsxs("div",{className:_s.resultDiv,children:[r&&b.jsx(_p,{editForm:void 0,isModalForm:!0,onHideForm:p,medicineForm:!0}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("span",{children:"Nazwa leku:"})," ",a.name]}),b.jsxs("li",{children:[b.jsx("span",{children:"Forma leku:"})," ",a.form]}),b.jsxs("li",{children:[b.jsx("span",{children:"Nazwa substancji czynnej:"})," ",a.substance]}),b.jsxs("li",{children:[b.jsx("span",{children:"Ilo substancji czynnej:"})," ",a.power]}),b.jsxs("li",{children:[b.jsx("span",{children:"Opakowanie:"})," ",a.pack]}),b.jsxs("li",{children:["Numer pozwolenia: ",a.registryNumber]})]}),b.jsxs("div",{className:_s.buttons_container,children:[b.jsx("button",{type:"button",onClick:f,className:_s.medicine_button,children:"Dodaj lek"}),b.jsx("button",{onClick:p,className:_s.medicine_button,children:"Dodaj przypomnienie"})]})]}):null]})},K7="_container_r9tov_1",q7={container:K7},Q7="_medicine_label_1y1pd_1",X7="_medicine_name_1y1pd_9",J7="_button_container_1y1pd_13",Z7="_buttons_container_1y1pd_22",eG="_medicine_slideout_1y1pd_40",tG="_medicineSlideout_1y1pd_46",ll={medicine_label:Q7,medicine_name:X7,button_container:J7,buttons_container:Z7,medicine_slideout:eG,medicineSlideout:tG},nG=({medicine:t})=>{const[e,n]=D.useState(!1),[i,s]=D.useState(t.currentAmount),{currentUser:r}=D.useContext($n),{userData:o}=D.useContext(ni),a=r==null?void 0:r.uid,l=Jn(ei,"users",a),c=()=>{n(!e)},h=()=>{s(g=>g+1)},f=()=>{s(g=>g-1)},p=async()=>{t.currentAmount=i;const g=o.medicines.filter(v=>v.registryNumber!==t.registryNumber);g.push(t);try{await fi(l,{medicines:g}),console.log("Document updated successfully!")}catch(v){console.log(v)}};return b.jsxs("div",{className:ll.medicine,children:[b.jsxs("div",{className:ll.medicine_label,children:[b.jsx("h2",{onClick:c,className:ll.medicine_name,children:t.name}),b.jsxs("span",{children:[i," / ",t.pack]}),b.jsxs("div",{className:ll.buttons_container,children:[b.jsx("button",{onClick:f,children:"-"}),b.jsx("button",{onClick:h,children:"+"}),b.jsx("button",{disabled:t.currentAmount===i,onClick:p,children:"Zapisz"})]})]}),e&&b.jsxs("ul",{className:ll.medicine_slideout,children:[b.jsx("li",{children:t.form}),b.jsx("li",{children:t.substance}),b.jsx("li",{children:t.power}),b.jsxs("li",{children:[i," / ",t.pack]}),b.jsx("li",{children:t.registryNumber})]})]})},iG=()=>{const{userData:t}=D.useContext(ni),[e,n]=D.useState([]);return D.useEffect(()=>{n(t.medicines)},[]),b.jsxs("div",{className:q7.container,children:[b.jsx("h1",{children:"Moje leki"}),b.jsx("ul",{children:e.length!==0&&e.map(i=>b.jsx(nG,{medicine:i},i.registryNumber))})]})},sG="_calendar_w0fcf_1",rG="_header_w0fcf_5",oG="_selected_w0fcf_26",aG="_row_w0fcf_30",lG="_day_w0fcf_18",cG="_date_w0fcf_57",uG="_active_w0fcf_61",hG="_disabled_w0fcf_65",dG="_indicators_w0fcf_69",fG="_indicator_w0fcf_69",pG="_calendarLegend_w0fcf_94",mG="_legend_w0fcf_99",gG="_add_reminder_w0fcf_112",Be={calendar:sG,header:rG,"header-monthYear":"_header-monthYear_w0fcf_11","calendar-header":"_calendar-header_w0fcf_14","dayGrid-header":"_dayGrid-header_w0fcf_18","dayGrid-table":"_dayGrid-table_w0fcf_22",selected:oG,row:aG,"header-btn":"_header-btn_w0fcf_35","selected-row":"_selected-row_w0fcf_43",day:lG,date:cG,active:uG,disabled:hG,indicators:dG,indicator:fG,"indicator-general":"_indicator-general_w0fcf_86","indicator-medicine":"_indicator-medicine_w0fcf_90",calendarLegend:pG,legend:mG,"legend-general":"_legend-general_w0fcf_104","legend-medicine":"_legend-medicine_w0fcf_108",add_reminder:gG},yG=({dayReminders:t})=>{const e=t==null?void 0:t.map(i=>i.reminderType),n=[...new Set(e)];return b.jsx(b.Fragment,{children:t.length>0&&b.jsx("div",{className:Be.indicators,children:n.map((i,s)=>b.jsx("div",{className:`${Be[`indicator-${i}`]} ${Be.indicator} `},s))})})},vG=({rowArr:t,changeSelect:e,selected:n,selectedMonth:i,toggleSlideout:s,showSlideout:r,hideSlideout:o,reminders:a})=>{const l=(p,g)=>{let v=[];return p.length>0&&(v=p.filter(_=>new Date(_.dateTime).toDateString()===g.toDateString())),v.sort((_,w)=>_.dateTime-w.dateTime)},c=p=>{p.getMonth()===i&&e(p),f(p)?s():h(p)?r():o()},h=p=>p.getMonth()===i,f=p=>p.toDateString()===n.toDateString();return b.jsx(b.Fragment,{children:t.map((p,g)=>b.jsxs("div",{className:Be.day+" "+(f(p)?Be.selected:"")+" "+(h(p)?Be.active:Be.disabled),onClick:()=>c(p),children:[l(a,p).length>0?b.jsx(yG,{dayReminders:l(a,p)}):b.jsx("div",{}),b.jsx("div",{className:Be.date,children:p.getDate()}),b.jsx("div",{})]},g))})},_G="_slideout_197vs_1",wG="_slidein_197vs_1",xG="_reminder_197vs_62",bG="_smoothAppear_197vs_1",SG="_reminderEditBtn_197vs_97",kG="_editIcon_197vs_105",Do={slideout:_G,"slideout-show":"_slideout-show_197vs_9",slidein:wG,"slideout-hidden":"_slideout-hidden_197vs_17",reminder:xG,smoothAppear:bG,"reminder-general":"_reminder-general_197vs_76","reminder-medicine":"_reminder-medicine_197vs_81",reminderEditBtn:SG,editIcon:kG},EG="/jfdzr11-team-codebusters/assets/edit_note-6e6d7e85.svg",TG=t=>{const e=new Date(t);let n=e.getHours().toString(),i=e.getMinutes().toString();return Number(n)<10&&(n="0"+n),Number(i)<10&&(i="0"+i),n+":"+i},CG=({dayReminders:t,selected:e,visibility:n})=>{const[i,s]=D.useState(n),[r,o]=D.useState(!1),[a,l]=D.useState(),c=()=>{o(!r)},h=f=>{l(f),o(!0)};return D.useEffect(()=>{n!==i&&s(n)},[n]),b.jsx(b.Fragment,{children:b.jsxs("div",{className:Do.slideout+" "+Do[`slideout-${i}`],children:[t.map((f,p)=>b.jsxs("div",{className:Do.reminder+" "+Do[`reminder-${f.reminderType}`],children:[b.jsxs("p",{children:[TG(f.dateTime)+" - "+f.message," "]}),b.jsx("button",{className:Do.reminderEditBtn,onClick:()=>h(f),children:b.jsx("img",{className:Do.editIcon,src:EG,alt:"edit"})})]},p)),r&&b.jsx(_p,{editForm:a,isModalForm:!0,onHideForm:c})]})})},RS=(t,e)=>{let n;return t===void 0?[]:(n=t.filter(i=>new Date(i.dateTime).toDateString()===e.toDateString()),n.sort((i,s)=>i.dateTime-s.dateTime))},IG=t=>{const e=new Date(t.getFullYear(),t.getMonth(),1,12),n=e.getDay(),i=new Date(e),s=[];for(let r=0;r<42;r++)if(r===0)switch(n){case 0:s.push(new Date(i.setDate(-5)));break;case 1:s.push(i);break;case 2:s.push(new Date(i.setDate(0)));break;case 3:s.push(new Date(i.setDate(-1)));break;case 4:s.push(new Date(i.setDate(-2)));break;case 5:s.push(new Date(i.setDate(-3)));break;case 6:s.push(new Date(i.setDate(-4)));break}else s.push(new Date(i.setDate(i.getDate()+1)));return s},DG=({changeSelected:t,selected:e,reminders:n})=>{const[i,s]=D.useState([]),[r,o]=D.useState("hidden"),a=()=>{r==="show"&&o("hidden"),r==="hidden"&&o("show")},l=()=>{o("show")},c=()=>{o("hidden")},h=p=>p.some(g=>g.toDateString()===e.toDateString()),f=p=>{if(p.length===0)return!0;if(p.length>0)return!1};return D.useEffect(()=>{const p=IG(e),g=[];for(let v=0;v<6;v++){const _=[];for(let w=v*7;w<v*7+7;w++)_.push(p[w]);g.push(_),h(_)&&g.push([])}s(g)},[e]),b.jsx(b.Fragment,{children:b.jsx("div",{className:Be["dayGrid-table"],children:i.map((p,g)=>b.jsx("div",{className:Be.row+" "+(h(p)?Be["selected-row"]:""),children:f(p)&&RS(n,e).length>0?b.jsx(CG,{selected:e,dayReminders:RS(n,e),visibility:r}):b.jsx(vG,{rowArr:p,changeSelect:t,selected:e,selectedMonth:e.getMonth(),toggleSlideout:a,showSlideout:l,hideSlideout:c,reminders:n})},g))})})},MG=["Pon","Wt","r","Czw","Pt","Sob","Ndz"],AG=["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],RG=()=>{const[t,e]=D.useState(new Date),{userData:n}=D.useContext(ni),i=r=>{e(r)},s=(r,o)=>{o==="next"&&e(new Date(r.getFullYear(),r.getMonth()+1,r.getDate())),o==="prev"&&e(new Date(r.getFullYear(),r.getMonth()-1,r.getDate()))};return b.jsxs("div",{className:Be.calendar,children:[b.jsxs("div",{className:Be.header,children:[b.jsx("h1",{className:Be["header-monthYear"],children:t.getFullYear()+" "+AG[t.getMonth()]}),b.jsxs("section",{className:Be["header-nav"],children:[b.jsx("button",{className:Be["header-btn"],onClick:()=>s(t,"prev"),children:"<"}),b.jsx("button",{onClick:()=>s(t,"next"),children:">"})]})]}),b.jsxs("div",{className:"calendar-body",children:[b.jsx("div",{className:Be["dayGrid-header"],children:MG.map((r,o)=>b.jsx("div",{className:Be.weekday,children:b.jsx("p",{children:r})},o))}),b.jsx("div",{className:"dayGrid-body",children:b.jsx(DG,{selected:t,changeSelected:i,reminders:n.reminders})}),b.jsxs("div",{className:Be.calendarLegend,children:[b.jsx("div",{className:Be.legend+" "+Be["legend-general"],children:"Przypomnienia oglne"}),b.jsx("div",{className:Be.legend+" "+Be["legend-medicine"],children:"Przypomnienia lekw"})]})]})]})},PG="_backdrop_uz5ib_1",OG={backdrop:PG},NG=({onModalDisable:t,onHideForm:e})=>{const n=()=>{e?e():t()};return b.jsx("div",{onClick:n,className:OG.backdrop})},LG="_form_wrapper_1urtw_1",FG="_form_1urtw_1",jG="_medicine_type_wrapper_1urtw_44",$G="_close_button_1urtw_69",UG="_delete_btn_wrapper_1urtw_83",ws={form_wrapper:LG,form:FG,medicine_type_wrapper:jG,close_button:$G,delete_btn_wrapper:UG,delete:"_delete_1urtw_83"},zG=({editForm:t,onHideForm:e,medicineForm:n})=>{const{currentUser:i}=D.useContext($n),{userData:s}=D.useContext(ni),[r,o]=D.useState(0),a=i==null?void 0:i.uid,l=D.useRef(null),c=Jn(ei,"users",a),h=async v=>{var I;v.preventDefault();const _=v.currentTarget.elements.namedItem("reminderText").value,w=new Date(v.currentTarget.elements.namedItem("date").value);console.log("date",w);const S=v.currentTarget.elements.namedItem("time").value,[x,E]=S.split(":"),T=w.setHours(Number(x),Number(E));try{const M=s,R=crypto.randomUUID(),A={dateTime:T,message:_,reminderId:R,reminderType:n?"medicine":"general"};if(t){const N=t.reminderId,O=M.reminders.filter(B=>B.reminderId!==N);A.reminderType=t.reminderType,O.push(A),await fi(c,{reminders:O}),console.log("reminder edited"),e()}else{const N=[...M.reminders,A];await fi(c,{reminders:N}),console.log("Reminder successfully added"),e()}}catch(M){console.log(M)}(I=l.current)==null||I.reset(),console.log("form submitted")},f=async v=>{v.preventDefault();const _=[],w=new Date(v.currentTarget.elements.namedItem("startDate").value),S=v.currentTarget.elements.namedItem("message").value,x=Number(v.currentTarget.elements.namedItem("daysNumber").value);try{for(let T=0;T<x;T++){const I=new Date(w);I.setDate(w.getDate()+T);for(let M=0;M<r;M++){const R=v.currentTarget.elements.namedItem(`time${M}`).value,[A,N]=R.split(":"),O=I.setHours(Number(A),Number(N)),B=crypto.randomUUID(),q={dateTime:O,message:S,reminderId:B,reminderType:"medicine"};_.push(q)}}const E=[...s.reminders,..._];await fi(c,{reminders:E}),console.log("Reminders successfully added"),e()}catch(E){console.log(E)}},p=async()=>{try{if(t){const v=t.reminderId,_=s;console.log("przed usuniciem",_.reminders),console.log("deleteID",v);const w=_.reminders.filter(S=>S.reminderId!==v);console.log("po usuniciu",w),await fi(c,{reminders:w}),e()}}catch(v){console.log(v)}},g=v=>{o(Number(v.target.value))};return n?b.jsxs("div",{className:ws.form_wrapper,children:[b.jsx("button",{className:ws.close_button,onClick:e,children:"X"}),b.jsxs("form",{onSubmit:f,className:ws.form,children:[b.jsx("h2",{children:"Dawkowanie"}),b.jsx("label",{htmlFor:"timesDay",children:"Ile razy w cigu dnia?"}),b.jsx("input",{type:"number",name:"timesDay",id:"timesDay",onChange:g}),Array(r).fill(0).map((v,_)=>b.jsxs("div",{children:[b.jsxs("label",{htmlFor:`time${_}`,children:["Czas ",_+1," dawki"]}),b.jsx("input",{type:"time",name:`time${_}`,id:`time${_}`})]},_)),b.jsx("label",{htmlFor:"message",children:"Wiadomo przypomnienia(dawka)"}),b.jsx("input",{type:"text",name:"message",id:"message"}),b.jsx("label",{htmlFor:"daysNumber",children:"Liczba dni przyjmowania leku"}),b.jsx("input",{type:"number",name:"daysNumber",id:"daysNumber"}),b.jsx("label",{htmlFor:"startDate",children:"Data rozpoczcia przyjmowania leku"}),b.jsx("input",{type:"date",name:"startDate",id:"startDate"}),b.jsx("button",{type:"submit",children:"Zapisz"})]})]}):b.jsxs("div",{className:ws.form_wrapper,children:[b.jsx("button",{className:ws.close_button,onClick:e,children:"X"}),b.jsxs("form",{onSubmit:h,ref:l,className:ws.form,children:[b.jsx("label",{htmlFor:"date",children:"Data przypomnienia"}),b.jsx("input",{defaultValue:t?g9(t.dateTime):"",type:"date",name:"date",id:"date"}),b.jsx("label",{htmlFor:"time",children:"Czas przypomnienia"}),b.jsx("input",{defaultValue:t?m9(t.dateTime):"",type:"time",name:"time",id:"time"}),b.jsx("label",{htmlFor:"",children:"Podaj tre przypomnienia"}),b.jsx("textarea",{defaultValue:t?t.message:"",name:"reminderText",id:"reminderText"}),b.jsx("button",{type:"submit",children:"OK"})]}),t&&b.jsx("div",{className:ws.delete_btn_wrapper,children:b.jsx("button",{className:ws.delete,onClick:p,children:"Usu przypomnienie"})})]})},VG="_reminder_wrapper_nvl2r_1",BG="_close_button_nvl2r_19",PS={reminder_wrapper:VG,close_button:BG},WG=({reminderData:t,onModalDisable:e})=>b.jsxs("div",{className:PS.reminder_wrapper,children:[b.jsx("button",{className:PS.close_button,onClick:e,children:"X"}),b.jsx("p",{children:t.message})]}),_p=({isModalForm:t,onModalDisable:e=()=>{},reminderData:n,onHideForm:i=()=>{},editForm:s,medicineForm:r})=>b.jsxs(b.Fragment,{children:[b.jsx(NG,{onModalDisable:e,onHideForm:i}),t?b.jsx(zG,{editForm:s,onHideForm:i,medicineForm:r}):b.jsx(WG,{reminderData:n,onModalDisable:e})]}),HG=()=>{const{currentUser:t,isFetchingUserData:e}=D.useContext($n),n=hr();return console.log(e),b.jsx(b.Fragment,{children:!(t!=null&&t.email)&&!e?b.jsx(qL,{to:"/login",state:{from:n},replace:!0}):b.jsx(tT,{})})};function YG(){const{setCurrentUser:t,setIsFetchingUserData:e,isFetchingUserData:n}=D.useContext($n),{setUserData:i}=D.useContext(ni),s=async r=>{try{const o=Jn(ei,"users",r),a=AI(o,l=>{const c=l.data();i(c)});return()=>a()}catch{st.error("Bd pobierania danych uytkownika")}};return D.useEffect(()=>VV(fu,o=>{o?(t(o),s(o.uid),console.log(o)):console.log("wylogowano"),e(!1)}),[e,t]),n?b.jsx("p",{children:"Loading..."}):b.jsxs("div",{className:"app_container",children:[b.jsx(o9,{containerStyle:{top:"170px"}}),b.jsx(XL,{children:b.jsxs(Ft,{path:"/",element:b.jsx(y9,{}),children:[b.jsx(Ft,{path:"/login",element:b.jsx(l9,{})}),b.jsx(Ft,{path:"/register",element:b.jsx(a9,{})}),b.jsx(Ft,{path:"/forgot-password",element:b.jsx(b9,{})}),b.jsxs(Ft,{element:b.jsx(HG,{}),children:[b.jsx(Ft,{path:"/",element:b.jsx(RG,{})}),b.jsx(Ft,{path:"/medicine",element:b.jsx(U7,{})}),b.jsx(Ft,{path:"/medicine/find",element:b.jsx(G7,{})}),b.jsx(Ft,{path:"/medicine/mymedicine",element:b.jsx(iG,{})}),b.jsx(Ft,{path:"/myprofile",element:b.jsx(E7,{})}),b.jsx(Ft,{path:"/myprofile/personaldata",element:b.jsx(F7,{})}),b.jsx(Ft,{path:"/results-list",element:b.jsx(B9,{})}),b.jsx(Ft,{path:"/results-list/measurements",element:b.jsx(Q9,{})}),b.jsx(Ft,{path:"/results-list/measurements/addNew",element:b.jsx(X9,{})}),b.jsx(Ft,{path:"/results-list/measurements/:measurementName/addEntry",element:b.jsx(m7,{})})]})]})})]})}eg.createRoot(document.getElementById("root")).render(b.jsx(Ta.StrictMode,{children:b.jsx(nF,{children:b.jsx(u9,{children:b.jsx(q9,{children:b.jsx(YG,{})})})})}));
